(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Hf={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function DT(){if(Cy)return Kl;Cy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Kl.Fragment=e,Kl.jsx=i,Kl.jsxs=i,Kl}var Dy;function NT(){return Dy||(Dy=1,Hf.exports=DT()),Hf.exports}var T=NT(),Gf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function IT(){if(Ny)return Rt;Ny=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,K={};function U(N,et,ot){this.props=N,this.context=et,this.refs=K,this.updater=ot||L}U.prototype.isReactComponent={},U.prototype.setState=function(N,et){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,et,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Q(){}Q.prototype=U.prototype;function nt(N,et,ot){this.props=N,this.context=et,this.refs=K,this.updater=ot||L}var it=nt.prototype=new Q;it.constructor=nt,H(it,U.prototype),it.isPureReactComponent=!0;var pt=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function V(N,et,ot,at,yt,xt){return ot=xt.ref,{$$typeof:a,type:N,key:et,ref:ot!==void 0?ot:null,props:xt}}function R(N,et){return V(N.type,et,void 0,void 0,void 0,N.props)}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function O(N){var et={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ot){return et[ot]})}var M=/\/+/g;function P(N,et){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):et.toString(36)}function D(){}function je(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(et){N.status==="pending"&&(N.status="fulfilled",N.value=et)},function(et){N.status==="pending"&&(N.status="rejected",N.reason=et)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function se(N,et,ot,at,yt){var xt=typeof N;(xt==="undefined"||xt==="boolean")&&(N=null);var St=!1;if(N===null)St=!0;else switch(xt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(N.$$typeof){case a:case e:St=!0;break;case E:return St=N._init,se(St(N._payload),et,ot,at,yt)}}if(St)return yt=yt(N),St=at===""?"."+P(N,0):at,pt(yt)?(ot="",St!=null&&(ot=St.replace(M,"$&/")+"/"),se(yt,et,ot,"",function(Ln){return Ln})):yt!=null&&(x(yt)&&(yt=R(yt,ot+(yt.key==null||N&&N.key===yt.key?"":(""+yt.key).replace(M,"$&/")+"/")+St)),et.push(yt)),1;St=0;var xe=at===""?".":at+":";if(pt(N))for(var Zt=0;Zt<N.length;Zt++)at=N[Zt],xt=xe+P(at,Zt),St+=se(at,et,ot,xt,yt);else if(Zt=w(N),typeof Zt=="function")for(N=Zt.call(N),Zt=0;!(at=N.next()).done;)at=at.value,xt=xe+P(at,Zt++),St+=se(at,et,ot,xt,yt);else if(xt==="object"){if(typeof N.then=="function")return se(je(N),et,ot,at,yt);throw et=String(N),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return St}function X(N,et,ot){if(N==null)return N;var at=[],yt=0;return se(N,at,"","",function(xt){return et.call(ot,xt,yt++)}),at}function lt(N){if(N._status===-1){var et=N._result;et=et(),et.then(function(ot){(N._status===0||N._status===-1)&&(N._status=1,N._result=ot)},function(ot){(N._status===0||N._status===-1)&&(N._status=2,N._result=ot)}),N._status===-1&&(N._status=0,N._result=et)}if(N._status===1)return N._result.default;throw N._result}var mt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function zt(){}return Rt.Children={map:X,forEach:function(N,et,ot){X(N,function(){et.apply(this,arguments)},ot)},count:function(N){var et=0;return X(N,function(){et++}),et},toArray:function(N){return X(N,function(et){return et})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Rt.Component=U,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=nt,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return rt.H.useMemoCache(N)}},Rt.cache=function(N){return function(){return N.apply(null,arguments)}},Rt.cloneElement=function(N,et,ot){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=H({},N.props),yt=N.key,xt=void 0;if(et!=null)for(St in et.ref!==void 0&&(xt=void 0),et.key!==void 0&&(yt=""+et.key),et)!ft.call(et,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&et.ref===void 0||(at[St]=et[St]);var St=arguments.length-2;if(St===1)at.children=ot;else if(1<St){for(var xe=Array(St),Zt=0;Zt<St;Zt++)xe[Zt]=arguments[Zt+2];at.children=xe}return V(N.type,yt,void 0,void 0,xt,at)},Rt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},Rt.createElement=function(N,et,ot){var at,yt={},xt=null;if(et!=null)for(at in et.key!==void 0&&(xt=""+et.key),et)ft.call(et,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=et[at]);var St=arguments.length-2;if(St===1)yt.children=ot;else if(1<St){for(var xe=Array(St),Zt=0;Zt<St;Zt++)xe[Zt]=arguments[Zt+2];yt.children=xe}if(N&&N.defaultProps)for(at in St=N.defaultProps,St)yt[at]===void 0&&(yt[at]=St[at]);return V(N,xt,void 0,void 0,null,yt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(N){return{$$typeof:g,render:N}},Rt.isValidElement=x,Rt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:lt}},Rt.memo=function(N,et){return{$$typeof:y,type:N,compare:et===void 0?null:et}},Rt.startTransition=function(N){var et=rt.T,ot={};rt.T=ot;try{var at=N(),yt=rt.S;yt!==null&&yt(ot,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(zt,mt)}catch(xt){mt(xt)}finally{rt.T=et}},Rt.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},Rt.use=function(N){return rt.H.use(N)},Rt.useActionState=function(N,et,ot){return rt.H.useActionState(N,et,ot)},Rt.useCallback=function(N,et){return rt.H.useCallback(N,et)},Rt.useContext=function(N){return rt.H.useContext(N)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(N,et){return rt.H.useDeferredValue(N,et)},Rt.useEffect=function(N,et,ot){var at=rt.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(N,et)},Rt.useId=function(){return rt.H.useId()},Rt.useImperativeHandle=function(N,et,ot){return rt.H.useImperativeHandle(N,et,ot)},Rt.useInsertionEffect=function(N,et){return rt.H.useInsertionEffect(N,et)},Rt.useLayoutEffect=function(N,et){return rt.H.useLayoutEffect(N,et)},Rt.useMemo=function(N,et){return rt.H.useMemo(N,et)},Rt.useOptimistic=function(N,et){return rt.H.useOptimistic(N,et)},Rt.useReducer=function(N,et,ot){return rt.H.useReducer(N,et,ot)},Rt.useRef=function(N){return rt.H.useRef(N)},Rt.useState=function(N){return rt.H.useState(N)},Rt.useSyncExternalStore=function(N,et,ot){return rt.H.useSyncExternalStore(N,et,ot)},Rt.useTransition=function(){return rt.H.useTransition()},Rt.version="19.1.0",Rt}var Iy;function Nd(){return Iy||(Iy=1,Gf.exports=IT()),Gf.exports}var Y=Nd(),Ff={exports:{}},Xl={},Qf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function VT(){return Vy||(Vy=1,function(a){function e(X,lt){var mt=X.length;X.push(lt);t:for(;0<mt;){var zt=mt-1>>>1,N=X[zt];if(0<o(N,lt))X[zt]=lt,X[mt]=N,mt=zt;else break t}}function i(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var lt=X[0],mt=X.pop();if(mt!==lt){X[0]=mt;t:for(var zt=0,N=X.length,et=N>>>1;zt<et;){var ot=2*(zt+1)-1,at=X[ot],yt=ot+1,xt=X[yt];if(0>o(at,mt))yt<N&&0>o(xt,at)?(X[zt]=xt,X[yt]=mt,zt=yt):(X[zt]=at,X[ot]=mt,zt=ot);else if(yt<N&&0>o(xt,mt))X[zt]=xt,X[yt]=mt,zt=yt;else break t}}return lt}function o(X,lt){var mt=X.sortIndex-lt.sortIndex;return mt!==0?mt:X.id-lt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,b=null,w=3,L=!1,H=!1,K=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function pt(X){for(var lt=i(y);lt!==null;){if(lt.callback===null)s(y);else if(lt.startTime<=X)s(y),lt.sortIndex=lt.expirationTime,e(p,lt);else break;lt=i(y)}}function rt(X){if(K=!1,pt(X),!H)if(i(p)!==null)H=!0,ft||(ft=!0,P());else{var lt=i(y);lt!==null&&se(rt,lt.startTime-X)}}var ft=!1,V=-1,R=5,x=-1;function O(){return U?!0:!(a.unstable_now()-x<R)}function M(){if(U=!1,ft){var X=a.unstable_now();x=X;var lt=!0;try{t:{H=!1,K&&(K=!1,nt(V),V=-1),L=!0;var mt=w;try{e:{for(pt(X),b=i(p);b!==null&&!(b.expirationTime>X&&O());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,w=b.priorityLevel;var N=zt(b.expirationTime<=X);if(X=a.unstable_now(),typeof N=="function"){b.callback=N,pt(X),lt=!0;break e}b===i(p)&&s(p),pt(X)}else s(p);b=i(p)}if(b!==null)lt=!0;else{var et=i(y);et!==null&&se(rt,et.startTime-X),lt=!1}}break t}finally{b=null,w=mt,L=!1}lt=void 0}}finally{lt?P():ft=!1}}}var P;if(typeof it=="function")P=function(){it(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,je=D.port2;D.port1.onmessage=M,P=function(){je.postMessage(null)}}else P=function(){Q(M,0)};function se(X,lt){V=Q(function(){X(a.unstable_now())},lt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(X){switch(w){case 1:case 2:case 3:var lt=3;break;default:lt=w}var mt=w;w=lt;try{return X()}finally{w=mt}},a.unstable_requestPaint=function(){U=!0},a.unstable_runWithPriority=function(X,lt){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var mt=w;w=X;try{return lt()}finally{w=mt}},a.unstable_scheduleCallback=function(X,lt,mt){var zt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?zt+mt:zt):mt=zt,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=mt+N,X={id:E++,callback:lt,priorityLevel:X,startTime:mt,expirationTime:N,sortIndex:-1},mt>zt?(X.sortIndex=mt,e(y,X),i(p)===null&&X===i(y)&&(K?(nt(V),V=-1):K=!0,se(rt,mt-zt))):(X.sortIndex=N,e(p,X),H||L||(H=!0,ft||(ft=!0,P()))),X},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(X){var lt=w;return function(){var mt=w;w=lt;try{return X.apply(this,arguments)}finally{w=mt}}}}(Yf)),Yf}var Oy;function OT(){return Oy||(Oy=1,Qf.exports=VT()),Qf.exports}var Kf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function MT(){if(My)return Qe;My=1;var a=Nd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(p,y,null,E)},Qe.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Qe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Qe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Qe.requestFormReset=function(p){s.d.r(p)},Qe.unstable_batchedUpdates=function(p,y){return p(y)},Qe.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var jy;function jT(){if(jy)return Kf.exports;jy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Kf.exports=MT(),Kf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function UT(){if(Uy)return Xl;Uy=1;var a=OT(),e=Nd(),i=jT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var _=!1,S=c.child;S;){if(S===r){_=!0,r=c,l=f;break}if(S===l){_=!0,l=c,r=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===r){_=!0,r=f,l=c;break}if(S===l){_=!0,l=f,r=c;break}S=S.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case U:return"Profiler";case K:return"StrictMode";case rt:return"Suspense";case ft:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case it:return(t.displayName||"Context")+".Provider";case nt:return(t._context.displayName||"Context")+".Consumer";case pt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:je(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return je(t(n))}catch{}}return null}var se=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},zt=[],N=-1;function et(t){return{current:t}}function ot(t){0>N||(t.current=zt[N],zt[N]=null,N--)}function at(t,n){N++,zt[N]=t.current,t.current=n}var yt=et(null),xt=et(null),St=et(null),xe=et(null);function Zt(t,n){switch(at(St,n),at(xt,t),at(yt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ny(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ny(n),t=iy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ot(yt),at(yt,t)}function Ln(){ot(yt),ot(xt),ot(St)}function qi(t){t.memoizedState!==null&&at(xe,t);var n=yt.current,r=iy(n,t.type);n!==r&&(at(xt,t),at(yt,r))}function oi(t){xt.current===t&&(ot(yt),ot(xt)),xe.current===t&&(ot(xe),Hl._currentValue=mt)}var Nr=Object.prototype.hasOwnProperty,Ir=a.unstable_scheduleCallback,Vr=a.unstable_cancelCallback,ks=a.unstable_shouldYield,bo=a.unstable_requestPaint,mn=a.unstable_now,qc=a.unstable_getCurrentPriorityLevel,Bs=a.unstable_ImmediatePriority,Aa=a.unstable_UserBlockingPriority,Or=a.unstable_NormalPriority,Hc=a.unstable_LowPriority,ba=a.unstable_IdlePriority,qs=a.log,Ro=a.unstable_setDisableYieldValue,le=null,Ht=null;function an(t){if(typeof qs=="function"&&Ro(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(le,t)}catch{}}var Ge=Math.clz32?Math.clz32:Mr,wo=Math.log,Gc=Math.LN2;function Mr(t){return t>>>=0,t===0?32:31-(wo(t)/Gc|0)|0}var jr=256,Ur=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ra(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?c=Dn(l):(_&=S,_!==0?c=Dn(_):r||(r=S&~t,r!==0&&(c=Dn(r))))):(S=l&~f,S!==0?c=Dn(S):_!==0?c=Dn(_):r||(r=l&~t,r!==0&&(c=Dn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Lr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Hs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gs(){var t=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),t}function Fs(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function ui(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ci(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qs(t,n,r,l,c,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(r=_&~r;0<r;){var $=31-Ge(r),W=1<<$;S[$]=0,C[$]=-1;var q=B[$];if(q!==null)for(B[$]=null,$=0;$<q.length;$++){var G=q[$];G!==null&&(G.lane&=-536870913)}r&=~W}l!==0&&Pn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Pn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ge(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ys(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ge(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Hi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gi(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:Sy(t.type))}function xo(t,n){var r=lt.p;try{return lt.p=t,n()}finally{lt.p=r}}var ee=Math.random().toString(36).slice(2),Te="__reactFiber$"+ee,me="__reactProps$"+ee,gn="__reactContainer$"+ee,Ks="__reactEvents$"+ee,Fc="__reactListeners$"+ee,Fi="__reactHandles$"+ee,Co="__reactResources$"+ee,Pr="__reactMarker$"+ee;function Qi(t){delete t[Te],delete t[me],delete t[Ks],delete t[Fc],delete t[Fi]}function hi(t){var n=t[Te];if(n)return n;for(var r=t.parentNode;r;){if(n=r[gn]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ly(t);t!==null;){if(r=t[Te])return r;t=ly(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[Te]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function $e(t){var n=t[Co];return n||(n=t[Co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Pr]=!0}var Xs=new Set,xa={};function Nn(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(xa[t]=n,t=0;t<n.length;t++)Xs.add(n[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},zr={};function Io(t){return Nr.call(zr,t)?!0:Nr.call(No,t)?!1:Do.test(t)?zr[t]=!0:(No[t]=!0,!1)}function Yi(t,n,r){if(Io(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ue(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var kr,Vo;function di(t){if(kr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);kr=n&&n[1]||"",Vo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+t+Vo}var Ca=!1;function Da(t,n){if(!t||Ca)return"";Ca=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var q=G}Reflect.construct(t,[],W)}else{try{W.call()}catch(G){q=G}t.call(W.prototype)}}else{try{throw Error()}catch(G){q=G}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var C=_.split(`
`),B=S.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===B.length)for(l=C.length-1,c=B.length-1;1<=l&&0<=c&&C[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==B[c]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=c);break}}}finally{Ca=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?di(r):""}function $s(t){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Da(t.type,!1);case 11:return Da(t.type.render,!1);case 1:return Da(t.type,!0);case 31:return di("Activity");default:return""}}function Na(t){try{var n="";do n+=$s(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qc(t){var n=Zs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ia(t){t._valueTracker||(t._valueTracker=Qc(t))}function Js(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Zs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yc=/[\n"\\]/g;function ge(t){return t.replace(Yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,c,f,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ki(t,_,Ze(n)):r!=null?Ki(t,_,Ze(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ze(S):t.removeAttribute("name")}function qr(t,n,r,l,c,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Ki(t,n,r){n==="number"&&Br(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function mi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ze(r):""}function Hr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ze(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Gr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Gr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ws(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Oo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Oo(t,f,n[f])}function tl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(t){return Xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gi=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,yi=null;function el(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Js(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&mi(t,!!r.multiple,n,!1)}}}var qn=!1;function Mo(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(pi!==null||yi!==null)&&(xu(),pi&&(n=pi,t=yi,yi=pi=null,el(n),t)))for(n=0;n<t.length;n++)el(t[n])}}function Fr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(In)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{vn=!1}var Hn=null,Xi=null,vi=null;function nl(){if(vi)return vi;var t,n=Xi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===c[f-l];l++);return vi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function il(){return!1}function Ce(t){function n(r,l,c,f,_){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:il,this.isPropagationStopped=il,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Ce(Bt),Yr=E({},Bt,{view:0,detail:0}),jo=Ce(Yr),Ma,ja,Qn,Kr=E({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ma=t.screenX-Qn.screenX,ja=t.screenY-Qn.screenY):ja=Ma=0,Qn=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),_n=Ce(Kr),Uo=E({},Kr,{dataTransfer:0}),$c=Ce(Uo),Xr=E({},Yr,{relatedTarget:0}),Ua=Ce(Xr),rl=E({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Ce(rl),Lo=E({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pa=Ce(Lo),Zc=E({},Bt,{data:0}),al=Ce(Zc),$r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zo[t])?!!n[t]:!1}function Zr(){return sl}var ko=E({},Yr,{key:function(t){if(t.key){var n=$r[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Po[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),za=Ce(ko),Bo=E({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Ce(Bo),_i=E({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),qo=Ce(_i),Ho=E({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Go=Ce(Ho),Fo=E({},Kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=Ce(Fo),Je=E({},Bt,{newState:0,oldState:0}),Qo=Ce(Je),Yo=[9,13,27,32],Yn=In&&"CompositionEvent"in window,u=null;In&&"documentMode"in document&&(u=document.documentMode);var m=In&&"TextEvent"in window&&!u,v=In&&(!Yn||u&&8<u&&11>=u),A=" ",z=!1;function F(t,n){switch(t){case"keyup":return Yo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Se(t,n){switch(t){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return t=n.data,t===A&&z?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Yn&&F(t,n)?(t=nl(),vi=Xi=Hn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function Ei(t,n,r,l){pi?yi?yi.push(l):yi=[l]:pi=l,n=Ou(n,"onChange"),0<n.length&&(r=new Oa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,Kn=null;function ol(t){Zp(t,0)}function Ko(t){var n=kn(t);if(Js(n))return t}function vm(t,n){if(t==="change")return n}var _m=!1;if(In){var Jc;if(In){var Wc="oninput"in document;if(!Wc){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),Wc=typeof Em.oninput=="function"}Jc=Wc}else Jc=!1;_m=Jc&&(!document.documentMode||9<document.documentMode)}function Tm(){Le&&(Le.detachEvent("onpropertychange",Sm),Kn=Le=null)}function Sm(t){if(t.propertyName==="value"&&Ko(Kn)){var n=[];Ei(n,Kn,t,yn(t)),Mo(ol,n)}}function a0(t,n,r){t==="focusin"?(Tm(),Le=n,Kn=r,Le.attachEvent("onpropertychange",Sm)):t==="focusout"&&Tm()}function s0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ko(Kn)}function l0(t,n){if(t==="click")return Ko(n)}function o0(t,n){if(t==="input"||t==="change")return Ko(n)}function u0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:u0;function ul(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Nr.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bm(t,n){var r=Am(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Am(r)}}function Rm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function wm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Br(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Br(t.document)}return n}function th(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var c0=In&&"documentMode"in document&&11>=document.documentMode,Ba=null,eh=null,cl=null,nh=!1;function xm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nh||Ba==null||Ba!==Br(l)||(l=Ba,"selectionStart"in l&&th(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Ou(eh,"onSelect"),0<l.length&&(n=new Oa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ba)))}function Jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var qa={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},ih={},Cm={};In&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Wr(t){if(ih[t])return ih[t];if(!qa[t])return t;var n=qa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Cm)return ih[t]=n[r];return t}var Dm=Wr("animationend"),Nm=Wr("animationiteration"),Im=Wr("animationstart"),h0=Wr("transitionrun"),f0=Wr("transitionstart"),d0=Wr("transitioncancel"),Vm=Wr("transitionend"),Om=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function Vn(t,n){Om.set(t,n),Nn(n,[t])}var Mm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=Mm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Na(n)},Mm.set(t,n),n)}return{value:t,source:n,stack:Na(n)}}var Tn=[],Ha=0,ah=0;function Xo(){for(var t=Ha,n=ah=Ha=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}f!==0&&jm(r,c,f)}}function $o(t,n,r,l){Tn[Ha++]=t,Tn[Ha++]=n,Tn[Ha++]=r,Tn[Ha++]=l,ah|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sh(t,n,r,l){return $o(t,n,r,l),Zo(t)}function Ga(t,n){return $o(t,null,null,n),Zo(t)}function jm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ge(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Zo(t){if(50<jl)throw jl=0,df=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Fa={};function m0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,r,l){return new m0(t,n,r,l)}function lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ti(t,n){var r=t.alternate;return r===null?(r=on(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Um(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Jo(t,n,r,l,c,f){var _=0;if(l=t,typeof t=="function")lh(t)&&(_=1);else if(typeof t=="string")_=pT(t,r,yt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case x:return t=on(31,r,n,c),t.elementType=x,t.lanes=f,t;case H:return ta(r.children,c,f,n);case K:_=8,c|=24;break;case U:return t=on(12,r,n,c|2),t.elementType=U,t.lanes=f,t;case rt:return t=on(13,r,n,c),t.elementType=rt,t.lanes=f,t;case ft:return t=on(19,r,n,c),t.elementType=ft,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case it:_=10;break t;case nt:_=9;break t;case pt:_=11;break t;case V:_=14;break t;case R:_=16,l=null;break t}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(_,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ta(t,n,r,l){return t=on(7,t,l,n),t.lanes=r,t}function oh(t,n,r){return t=on(6,t,null,n),t.lanes=r,t}function uh(t,n,r){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qa=[],Ya=0,Wo=null,tu=0,Sn=[],An=0,ea=null,Si=1,Ai="";function na(t,n){Qa[Ya++]=tu,Qa[Ya++]=Wo,Wo=t,tu=n}function Lm(t,n,r){Sn[An++]=Si,Sn[An++]=Ai,Sn[An++]=ea,ea=t;var l=Si;t=Ai;var c=32-Ge(l)-1;l&=~(1<<c),r+=1;var f=32-Ge(n)+c;if(30<f){var _=c-c%5;f=(l&(1<<_)-1).toString(32),l>>=_,c-=_,Si=1<<32-Ge(n)+c|r<<c|l,Ai=f+t}else Si=1<<f|r<<c|l,Ai=t}function ch(t){t.return!==null&&(na(t,1),Lm(t,1,0))}function hh(t){for(;t===Wo;)Wo=Qa[--Ya],Qa[Ya]=null,tu=Qa[--Ya],Qa[Ya]=null;for(;t===ea;)ea=Sn[--An],Sn[An]=null,Ai=Sn[--An],Sn[An]=null,Si=Sn[--An],Sn[An]=null}var We=null,oe=null,kt=!1,ia=null,Xn=!1,fh=Error(s(519));function ra(t){var n=Error(s(418,""));throw dl(En(n,t)),fh}function Pm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Te]=t,n[me]=l,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<Ll.length;r++)Nt(Ll[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),qr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ia(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Hr(n,l.value,l.defaultValue,l.children),Ia(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ey(n.textContent,r)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Mu),n=!0):n=!1,n||ra(t)}function zm(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:We=We.return}}function hl(t){if(t!==We)return!1;if(!kt)return zm(t),kt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Df(t.type,t.memoizedProps)),r=!r),r&&oe&&ra(t),zm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){oe=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,hr(t.type)?(t=Of,Of=null,oe=t):oe=n):oe=We?Mn(t.stateNode.nextSibling):null;return!0}function fl(){oe=We=null,kt=!1}function km(){var t=ia;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),ia=null),t}function dl(t){ia===null?ia=[t]:ia.push(t)}var dh=et(null),aa=null,bi=null;function $i(t,n,r){at(dh,n._currentValue),n._currentValue=r}function Ri(t){t._currentValue=dh.current,ot(dh)}function mh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function gh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=c;for(var C=0;C<n.length;C++)if(S.context===n[C]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),mh(f.return,r,t),l||(_=null);break t}f=S.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),mh(_,r,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function ml(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=c.type;ln(c.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(c===xe.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}c=c.return}t!==null&&gh(n,t,r,l),n.flags|=262144}function eu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){aa=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return Bm(aa,t)}function nu(t,n){return aa===null&&sa(t),Bm(t,n)}function Bm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(t===null)throw Error(s(308));bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bi=bi.next=n;return r}var g0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},p0=a.unstable_scheduleCallback,y0=a.unstable_NormalPriority,be={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new g0,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&p0(y0,function(){t.controller.abort()})}var pl=null,yh=0,Ka=0,Xa=null;function v0(t,n){if(pl===null){var r=pl=[];yh=0,Ka=Ef(),Xa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return yh++,n.then(qm,qm),n}function qm(){if(--yh===0&&pl!==null){Xa!==null&&(Xa.status="fulfilled");var t=pl;pl=null,Ka=0,Xa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Hm=X.S;X.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&v0(t,n),Hm!==null&&Hm(t,n)};var la=et(null);function vh(){var t=la.current;return t!==null?t:Jt.pooledCache}function iu(t,n){n===null?at(la,la.current):at(la,n.pool)}function Gm(){var t=vh();return t===null?null:{parent:be._currentValue,pool:t}}var yl=Error(s(460)),Fm=Error(s(474)),ru=Error(s(542)),_h={then:function(){}};function Qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function au(){}function Ym(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(au,au),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xm(t),t;default:if(typeof n.status=="string")n.then(au,au);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xm(t),t}throw vl=n,yl}}var vl=null;function Km(){if(vl===null)throw Error(s(459));var t=vl;return vl=null,t}function Xm(t){if(t===yl||t===ru)throw Error(s(483))}var Zi=!1;function Eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Th(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Zo(t),jm(t,null,r),n}return $o(t,l,n,r),Zo(t)}function _l(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ys(t,r)}}function Sh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ah=!1;function El(){if(Ah){var t=Xa;if(t!==null)throw t}}function Tl(t,n,r,l){Ah=!1;var c=t.updateQueue;Zi=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var C=S,B=C.next;C.next=null,_===null?f=B:_.next=B,_=C;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=B:S.next=B,$.lastBaseUpdate=C))}if(f!==null){var W=c.baseState;_=0,$=B=C=null,S=f;do{var q=S.lane&-536870913,G=q!==S.lane;if(G?(jt&q)===q:(l&q)===q){q!==0&&q===Ka&&(Ah=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Tt=t,vt=S;q=n;var Xt=r;switch(vt.tag){case 1:if(Tt=vt.payload,typeof Tt=="function"){W=Tt.call(Xt,W,q);break t}W=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=vt.payload,q=typeof Tt=="function"?Tt.call(Xt,W,q):Tt,q==null)break t;W=E({},W,q);break t;case 2:Zi=!0}}q=S.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=c.callbacks,G===null?c.callbacks=[q]:G.push(q))}else G={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(B=$=G,C=W):$=$.next=G,_|=q;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;G=S,S=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);$===null&&(C=W),c.baseState=C,c.firstBaseUpdate=B,c.lastBaseUpdate=$,f===null&&(c.shared.lanes=0),lr|=_,t.lanes=_,t.memoizedState=W}}function $m(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Zm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)$m(r[t],n)}var $a=et(null),su=et(0);function Jm(t,n){t=Vi,at(su,t),at($a,n),Vi=t|n.baseLanes}function bh(){at(su,Vi),at($a,$a.current)}function Rh(){Vi=su.current,ot($a),ot(su)}var tr=0,wt=null,Yt=null,pe=null,lu=!1,Za=!1,oa=!1,ou=0,Sl=0,Ja=null,E0=0;function he(){throw Error(s(321))}function wh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function xh(t,n,r,l,c,f){return tr=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?jg:Ug,oa=!1,f=r(l,c),oa=!1,Za&&(f=tg(n,r,l,c)),Wm(t),f}function Wm(t){X.H=mu;var n=Yt!==null&&Yt.next!==null;if(tr=0,pe=Yt=wt=null,lu=!1,Sl=0,Ja=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&eu(t)&&(Ne=!0))}function tg(t,n,r,l){wt=t;var c=0;do{if(Za&&(Ja=null),Sl=0,Za=!1,25<=c)throw Error(s(301));if(c+=1,pe=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=x0,f=n(r,l)}while(Za);return f}function T0(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?Al(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(wt.flags|=1024),n}function Ch(){var t=ou!==0;return ou=0,t}function Dh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Nh(t){if(lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}lu=!1}tr=0,pe=Yt=wt=null,Za=!1,Sl=ou=0,Ja=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?wt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Yt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=pe===null?wt.memoizedState:pe.next;if(n!==null)pe=n,Yt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},pe===null?wt.memoizedState=pe=t:pe=pe.next=t}return pe}function Ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var n=Sl;return Sl+=1,Ja===null&&(Ja=[]),t=Ym(Ja,t,n),n=wt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?jg:Ug),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===it)return Fe(t)}throw Error(s(438,String(t)))}function Vh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ih(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function wi(t,n){return typeof n=="function"?n(t):n}function cu(t){var n=ye();return Oh(n,Yt,t)}function Oh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var S=_=null,C=null,B=n,$=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(jt&W)===W:(tr&W)===W){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Ka&&($=!0);else if((tr&q)===q){B=B.next,q===Ka&&($=!0);continue}else W={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=W,_=f):C=C.next=W,wt.lanes|=q,lr|=q;W=B.action,oa&&r(f,W),f=B.hasEagerState?B.eagerState:r(f,W)}else q={lane:W,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=q,_=f):C=C.next=q,wt.lanes|=W,lr|=W;B=B.next}while(B!==null&&B!==n);if(C===null?_=f:C.next=S,!ln(f,t.memoizedState)&&(Ne=!0,$&&(r=Xa,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mh(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=t(f,_.action),_=_.next;while(_!==c);ln(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function eg(t,n,r){var l=wt,c=ye(),f=kt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!ln((Yt||c).memoizedState,r);_&&(c.memoizedState=r,Ne=!0),c=c.queue;var S=rg.bind(null,l,c,t);if(bl(2048,8,S,[t]),c.getSnapshot!==n||_||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,Wa(9,hu(),ig.bind(null,l,c,r,n),null),Jt===null)throw Error(s(349));f||(tr&124)!==0||ng(l,n,r)}return r}function ng(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Ih(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ig(t,n,r,l){n.value=r,n.getSnapshot=l,ag(n)&&sg(t)}function rg(t,n,r){return r(function(){ag(n)&&sg(t)})}function ag(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function sg(t){var n=Ga(t,2);n!==null&&dn(n,t,2)}function jh(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),oa){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},n}function lg(t,n,r,l){return t.baseState=r,Oh(t,Yt,typeof l=="function"?l:wi)}function S0(t,n,r,l,c){if(du(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};X.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,og(n,f)):(f.next=r.next,n.pending=r.next=f)}}function og(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=X.T,_={};X.T=_;try{var S=r(c,l),C=X.S;C!==null&&C(_,S),ug(t,n,S)}catch(B){Uh(t,n,B)}finally{X.T=f}}else try{f=r(c,l),ug(t,n,f)}catch(B){Uh(t,n,B)}}function ug(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){cg(t,n,l)},function(l){return Uh(t,n,l)}):cg(t,n,r)}function cg(t,n,r){n.status="fulfilled",n.value=r,hg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,og(t,r)))}function Uh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,hg(n),n=n.next;while(n!==l)}t.action=null}function hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fg(t,n){return n}function dg(t,n){if(kt){var r=Jt.formState;if(r!==null){t:{var l=wt;if(kt){if(oe){e:{for(var c=oe,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){oe=Mn(c.nextSibling),l=c.data==="F!";break t}}ra(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:n},r.queue=l,r=Vg.bind(null,wt,l),l.dispatch=r,l=jh(!1),f=Bh.bind(null,wt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=S0.bind(null,wt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function mg(t){var n=ye();return gg(n,Yt,t)}function gg(t,n,r){if(n=Oh(t,n,fg)[0],t=cu(wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Al(n)}catch(_){throw _===yl?ru:_}else l=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,Wa(9,hu(),A0.bind(null,c,r),null)),[l,f,t]}function A0(t,n){t.action=n}function pg(t){var n=ye(),r=Yt;if(r!==null)return gg(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Wa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Ih(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function hu(){return{destroy:void 0,resource:void 0}}function yg(){return ye().memoizedState}function fu(t,n,r,l){var c=tn();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=Wa(1|n,hu(),r,l)}function bl(t,n,r,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&wh(l,Yt.memoizedState.deps)?c.memoizedState=Wa(n,f,r,l):(wt.flags|=t,c.memoizedState=Wa(1|n,f,r,l))}function vg(t,n){fu(8390656,8,t,n)}function _g(t,n){bl(2048,8,t,n)}function Eg(t,n){return bl(4,2,t,n)}function Tg(t,n){return bl(4,4,t,n)}function Sg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ag(t,n,r){r=r!=null?r.concat([t]):null,bl(4,4,Sg.bind(null,n,t),r)}function Lh(){}function bg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&wh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Rg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&wh(n,l[1]))return l[0];if(l=t(),oa){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function Ph(t,n,r){return r===void 0||(tr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Cp(),wt.lanes|=t,lr|=t,r)}function wg(t,n,r,l){return ln(r,n)?r:$a.current!==null?(t=Ph(t,r,l),ln(t,n)||(Ne=!0),t):(tr&42)===0?(Ne=!0,t.memoizedState=r):(t=Cp(),wt.lanes|=t,lr|=t,n)}function xg(t,n,r,l,c){var f=lt.p;lt.p=f!==0&&8>f?f:8;var _=X.T,S={};X.T=S,Bh(t,!1,n,r);try{var C=c(),B=X.S;if(B!==null&&B(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=_0(C,l);Rl(t,n,$,fn(t))}else Rl(t,n,l,fn(t))}catch(W){Rl(t,n,{then:function(){},status:"rejected",reason:W},fn())}finally{lt.p=f,X.T=_}}function b0(){}function zh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Cg(t).queue;xg(t,c,n,mt,r===null?b0:function(){return Dg(t),r(l)})}function Cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:mt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Dg(t){var n=Cg(t).next.queue;Rl(t,n,{},fn())}function kh(){return Fe(Hl)}function Ng(){return ye().memoizedState}function Ig(){return ye().memoizedState}function R0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Ji(r);var l=Wi(n,t,r);l!==null&&(dn(l,n,r),_l(l,n,r)),n={cache:ph()},t.payload=n;return}n=n.return}}function w0(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},du(t)?Og(n,r):(r=sh(t,n,r,l),r!==null&&(dn(r,t,l),Mg(r,n,l)))}function Vg(t,n,r){var l=fn();Rl(t,n,r,l)}function Rl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(du(t))Og(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,S=f(_,r);if(c.hasEagerState=!0,c.eagerState=S,ln(S,_))return $o(t,n,c,0),Jt===null&&Xo(),!1}catch{}finally{}if(r=sh(t,n,c,l),r!==null)return dn(r,t,l),Mg(r,n,l),!0}return!1}function Bh(t,n,r,l){if(l={lane:2,revertLane:Ef(),action:l,hasEagerState:!1,eagerState:null,next:null},du(t)){if(n)throw Error(s(479))}else n=sh(t,r,l,2),n!==null&&dn(n,t,2)}function du(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Og(t,n){Za=lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Mg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ys(t,r)}}var mu={readContext:Fe,use:uu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},jg={readContext:Fe,use:uu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Fe,useEffect:vg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,fu(4194308,4,Sg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return fu(4194308,4,t,n)},useInsertionEffect:function(t,n){fu(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(oa){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(oa){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=w0.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=jh(t);var n=t.queue,r=Vg.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Lh,useDeferredValue:function(t,n){var r=tn();return Ph(r,t,n)},useTransition:function(){var t=jh(!1);return t=xg.bind(null,wt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,c=tn();if(kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(jt&124)!==0||ng(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,vg(rg.bind(null,l,f,t),[t]),l.flags|=2048,Wa(9,hu(),ig.bind(null,l,f,r,n),null),r},useId:function(){var t=tn(),n=Jt.identifierPrefix;if(kt){var r=Ai,l=Si;r=(l&~(1<<32-Ge(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=ou++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=E0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:kh,useFormState:dg,useActionState:dg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Bh.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Vh,useCacheRefresh:function(){return tn().memoizedState=R0.bind(null,wt)}},Ug={readContext:Fe,use:uu,useCallback:bg,useContext:Fe,useEffect:_g,useImperativeHandle:Ag,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:Rg,useReducer:cu,useRef:yg,useState:function(){return cu(wi)},useDebugValue:Lh,useDeferredValue:function(t,n){var r=ye();return wg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=cu(wi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:eg,useId:Ng,useHostTransitionStatus:kh,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var r=ye();return lg(r,Yt,t,n)},useMemoCache:Vh,useCacheRefresh:Ig},x0={readContext:Fe,use:uu,useCallback:bg,useContext:Fe,useEffect:_g,useImperativeHandle:Ag,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:Rg,useReducer:Mh,useRef:yg,useState:function(){return Mh(wi)},useDebugValue:Lh,useDeferredValue:function(t,n){var r=ye();return Yt===null?Ph(r,t,n):wg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Mh(wi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:eg,useId:Ng,useHostTransitionStatus:kh,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var r=ye();return Yt!==null?lg(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Vh,useCacheRefresh:Ig},ts=null,wl=0;function gu(t){var n=wl;return wl+=1,ts===null&&(ts=[]),Ym(ts,t,n)}function xl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function pu(t,n){throw n.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Lg(t){var n=t._init;return n(t._payload)}function Pg(t){function n(j,I){if(t){var k=j.deletions;k===null?(j.deletions=[I],j.flags|=16):k.push(I)}}function r(j,I){if(!t)return null;for(;I!==null;)n(j,I),I=I.sibling;return null}function l(j){for(var I=new Map;j!==null;)j.key!==null?I.set(j.key,j):I.set(j.index,j),j=j.sibling;return I}function c(j,I){return j=Ti(j,I),j.index=0,j.sibling=null,j}function f(j,I,k){return j.index=k,t?(k=j.alternate,k!==null?(k=k.index,k<I?(j.flags|=67108866,I):k):(j.flags|=67108866,I)):(j.flags|=1048576,I)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function S(j,I,k,Z){return I===null||I.tag!==6?(I=oh(k,j.mode,Z),I.return=j,I):(I=c(I,k),I.return=j,I)}function C(j,I,k,Z){var ht=k.type;return ht===H?$(j,I,k.props.children,Z,k.key):I!==null&&(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&Lg(ht)===I.type)?(I=c(I,k.props),xl(I,k),I.return=j,I):(I=Jo(k.type,k.key,k.props,null,j.mode,Z),xl(I,k),I.return=j,I)}function B(j,I,k,Z){return I===null||I.tag!==4||I.stateNode.containerInfo!==k.containerInfo||I.stateNode.implementation!==k.implementation?(I=uh(k,j.mode,Z),I.return=j,I):(I=c(I,k.children||[]),I.return=j,I)}function $(j,I,k,Z,ht){return I===null||I.tag!==7?(I=ta(k,j.mode,Z,ht),I.return=j,I):(I=c(I,k),I.return=j,I)}function W(j,I,k){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=oh(""+I,j.mode,k),I.return=j,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return k=Jo(I.type,I.key,I.props,null,j.mode,k),xl(k,I),k.return=j,k;case L:return I=uh(I,j.mode,k),I.return=j,I;case R:var Z=I._init;return I=Z(I._payload),W(j,I,k)}if(se(I)||P(I))return I=ta(I,j.mode,k,null),I.return=j,I;if(typeof I.then=="function")return W(j,gu(I),k);if(I.$$typeof===it)return W(j,nu(j,I),k);pu(j,I)}return null}function q(j,I,k,Z){var ht=I!==null?I.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ht!==null?null:S(j,I,""+k,Z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return k.key===ht?C(j,I,k,Z):null;case L:return k.key===ht?B(j,I,k,Z):null;case R:return ht=k._init,k=ht(k._payload),q(j,I,k,Z)}if(se(k)||P(k))return ht!==null?null:$(j,I,k,Z,null);if(typeof k.then=="function")return q(j,I,gu(k),Z);if(k.$$typeof===it)return q(j,I,nu(j,k),Z);pu(j,k)}return null}function G(j,I,k,Z,ht){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(k)||null,S(I,j,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return j=j.get(Z.key===null?k:Z.key)||null,C(I,j,Z,ht);case L:return j=j.get(Z.key===null?k:Z.key)||null,B(I,j,Z,ht);case R:var Ct=Z._init;return Z=Ct(Z._payload),G(j,I,k,Z,ht)}if(se(Z)||P(Z))return j=j.get(k)||null,$(I,j,Z,ht,null);if(typeof Z.then=="function")return G(j,I,k,gu(Z),ht);if(Z.$$typeof===it)return G(j,I,k,nu(I,Z),ht);pu(I,Z)}return null}function Tt(j,I,k,Z){for(var ht=null,Ct=null,dt=I,_t=I=0,Ve=null;dt!==null&&_t<k.length;_t++){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var Pt=q(j,dt,k[_t],Z);if(Pt===null){dt===null&&(dt=Ve);break}t&&dt&&Pt.alternate===null&&n(j,dt),I=f(Pt,I,_t),Ct===null?ht=Pt:Ct.sibling=Pt,Ct=Pt,dt=Ve}if(_t===k.length)return r(j,dt),kt&&na(j,_t),ht;if(dt===null){for(;_t<k.length;_t++)dt=W(j,k[_t],Z),dt!==null&&(I=f(dt,I,_t),Ct===null?ht=dt:Ct.sibling=dt,Ct=dt);return kt&&na(j,_t),ht}for(dt=l(dt);_t<k.length;_t++)Ve=G(dt,j,_t,k[_t],Z),Ve!==null&&(t&&Ve.alternate!==null&&dt.delete(Ve.key===null?_t:Ve.key),I=f(Ve,I,_t),Ct===null?ht=Ve:Ct.sibling=Ve,Ct=Ve);return t&&dt.forEach(function(pr){return n(j,pr)}),kt&&na(j,_t),ht}function vt(j,I,k,Z){if(k==null)throw Error(s(151));for(var ht=null,Ct=null,dt=I,_t=I=0,Ve=null,Pt=k.next();dt!==null&&!Pt.done;_t++,Pt=k.next()){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var pr=q(j,dt,Pt.value,Z);if(pr===null){dt===null&&(dt=Ve);break}t&&dt&&pr.alternate===null&&n(j,dt),I=f(pr,I,_t),Ct===null?ht=pr:Ct.sibling=pr,Ct=pr,dt=Ve}if(Pt.done)return r(j,dt),kt&&na(j,_t),ht;if(dt===null){for(;!Pt.done;_t++,Pt=k.next())Pt=W(j,Pt.value,Z),Pt!==null&&(I=f(Pt,I,_t),Ct===null?ht=Pt:Ct.sibling=Pt,Ct=Pt);return kt&&na(j,_t),ht}for(dt=l(dt);!Pt.done;_t++,Pt=k.next())Pt=G(dt,j,_t,Pt.value,Z),Pt!==null&&(t&&Pt.alternate!==null&&dt.delete(Pt.key===null?_t:Pt.key),I=f(Pt,I,_t),Ct===null?ht=Pt:Ct.sibling=Pt,Ct=Pt);return t&&dt.forEach(function(CT){return n(j,CT)}),kt&&na(j,_t),ht}function Xt(j,I,k,Z){if(typeof k=="object"&&k!==null&&k.type===H&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case w:t:{for(var ht=k.key;I!==null;){if(I.key===ht){if(ht=k.type,ht===H){if(I.tag===7){r(j,I.sibling),Z=c(I,k.props.children),Z.return=j,j=Z;break t}}else if(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&Lg(ht)===I.type){r(j,I.sibling),Z=c(I,k.props),xl(Z,k),Z.return=j,j=Z;break t}r(j,I);break}else n(j,I);I=I.sibling}k.type===H?(Z=ta(k.props.children,j.mode,Z,k.key),Z.return=j,j=Z):(Z=Jo(k.type,k.key,k.props,null,j.mode,Z),xl(Z,k),Z.return=j,j=Z)}return _(j);case L:t:{for(ht=k.key;I!==null;){if(I.key===ht)if(I.tag===4&&I.stateNode.containerInfo===k.containerInfo&&I.stateNode.implementation===k.implementation){r(j,I.sibling),Z=c(I,k.children||[]),Z.return=j,j=Z;break t}else{r(j,I);break}else n(j,I);I=I.sibling}Z=uh(k,j.mode,Z),Z.return=j,j=Z}return _(j);case R:return ht=k._init,k=ht(k._payload),Xt(j,I,k,Z)}if(se(k))return Tt(j,I,k,Z);if(P(k)){if(ht=P(k),typeof ht!="function")throw Error(s(150));return k=ht.call(k),vt(j,I,k,Z)}if(typeof k.then=="function")return Xt(j,I,gu(k),Z);if(k.$$typeof===it)return Xt(j,I,nu(j,k),Z);pu(j,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,I!==null&&I.tag===6?(r(j,I.sibling),Z=c(I,k),Z.return=j,j=Z):(r(j,I),Z=oh(k,j.mode,Z),Z.return=j,j=Z),_(j)):r(j,I)}return function(j,I,k,Z){try{wl=0;var ht=Xt(j,I,k,Z);return ts=null,ht}catch(dt){if(dt===yl||dt===ru)throw dt;var Ct=on(29,dt,null,j.mode);return Ct.lanes=Z,Ct.return=j,Ct}finally{}}}var es=Pg(!0),zg=Pg(!1),bn=et(null),$n=null;function er(t){var n=t.alternate;at(Re,Re.current&1),at(bn,t),$n===null&&(n===null||$a.current!==null||n.memoizedState!==null)&&($n=t)}function kg(t){if(t.tag===22){if(at(Re,Re.current),at(bn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else nr()}function nr(){at(Re,Re.current),at(bn,bn.current)}function xi(t){ot(bn),$n===t&&($n=null),ot(Re)}var Re=et(0);function yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Vf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function qh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Ji(l);c.payload=n,r!=null&&(c.callback=r),n=Wi(t,c,l),n!==null&&(dn(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Ji(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Wi(t,c,l),n!==null&&(dn(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Ji(r);l.tag=2,n!=null&&(l.callback=n),n=Wi(t,l,r),n!==null&&(dn(n,t,r),_l(n,t,r))}};function Bg(t,n,r,l,c,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!ul(r,l)||!ul(c,f):!0}function qg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Hh.enqueueReplaceState(n,n.state,null)}function ua(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hg(t){vu(t)}function Gg(t){console.error(t)}function Fg(t){vu(t)}function _u(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Qg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Gh(t,n,r){return r=Ji(r),r.tag=3,r.payload={element:null},r.callback=function(){_u(t,n)},r}function Yg(t){return t=Ji(t),t.tag=3,t}function Kg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Qg(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Qg(n,r,l),typeof c!="function"&&(or===null?or=new Set([this]):or.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function C0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ml(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return $n===null?gf():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===_h?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),yf(t,l,c)),!1;case 22:return r.flags|=65536,l===_h?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),yf(t,l,c)),!1}throw Error(s(435,r.tag))}return yf(t,l,c),gf(),!1}if(kt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==fh&&(t=Error(s(422),{cause:l}),dl(En(t,r)))):(l!==fh&&(n=Error(s(423),{cause:l}),dl(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=Gh(t.stateNode,l,c),Sh(t,c),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=En(f,r),Ml===null?Ml=[f]:Ml.push(f),ue!==4&&(ue=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Gh(r.stateNode,l,t),Sh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(or===null||!or.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Yg(c),Kg(c,t,r,l),Sh(r,c),!1}r=r.return}while(r!==null);return!1}var Xg=Error(s(461)),Ne=!1;function Pe(t,n,r,l){n.child=t===null?zg(n,null,r,l):es(n,t.child,r,l)}function $g(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return sa(n),l=xh(t,n,r,_,f,c),S=Ch(),t!==null&&!Ne?(Dh(t,n,c),Ci(t,n,c)):(kt&&S&&ch(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Zg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!lh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Jg(t,n,f,l,c)):(t=Jo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Jh(t,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:ul,r(_,l)&&t.ref===n.ref)return Ci(t,n,c)}return n.flags|=1,t=Ti(f,l),t.ref=n.ref,t.return=n,n.child=t}function Jg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(ul(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Jh(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Ci(t,n,c)}return Fh(t,n,r,l,c)}function Wg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return tp(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&iu(n,f!==null?f.cachePool:null),f!==null?Jm(n,f):bh(),kg(n);else return n.lanes=n.childLanes=536870912,tp(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(iu(n,f.cachePool),Jm(n,f),nr(),n.memoizedState=null):(t!==null&&iu(n,null),bh(),nr());return Pe(t,n,c,r),n.child}function tp(t,n,r,l){var c=vh();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&iu(n,null),bh(),kg(n),t!==null&&ml(t,n,l,!0),null}function Eu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Fh(t,n,r,l,c){return sa(n),r=xh(t,n,r,l,void 0,c),l=Ch(),t!==null&&!Ne?(Dh(t,n,c),Ci(t,n,c)):(kt&&l&&ch(n),n.flags|=1,Pe(t,n,r,c),n.child)}function ep(t,n,r,l,c,f){return sa(n),n.updateQueue=null,r=tg(n,l,r,c),Wm(t),l=Ch(),t!==null&&!Ne?(Dh(t,n,f),Ci(t,n,f)):(kt&&l&&ch(n),n.flags|=1,Pe(t,n,r,f),n.child)}function np(t,n,r,l,c){if(sa(n),n.stateNode===null){var f=Fa,_=r.contextType;typeof _=="object"&&_!==null&&(f=Fe(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Eh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?Fe(_):Fa,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(qh(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Hh.enqueueReplaceState(f,f.state,null),Tl(n,l,f,c),El(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,C=ua(r,S);f.props=C;var B=f.context,$=r.contextType;_=Fa,typeof $=="object"&&$!==null&&(_=Fe($));var W=r.getDerivedStateFromProps;$=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||B!==_)&&qg(n,f,l,_),Zi=!1;var q=n.memoizedState;f.state=q,Tl(n,l,f,c),El(),B=n.memoizedState,S||q!==B||Zi?(typeof W=="function"&&(qh(n,r,W,l),B=n.memoizedState),(C=Zi||Bg(n,r,C,l,q,B,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=_,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Th(t,n),_=n.memoizedProps,$=ua(r,_),f.props=$,W=n.pendingProps,q=f.context,B=r.contextType,C=Fa,typeof B=="object"&&B!==null&&(C=Fe(B)),S=r.getDerivedStateFromProps,(B=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||q!==C)&&qg(n,f,l,C),Zi=!1,q=n.memoizedState,f.state=q,Tl(n,l,f,c),El();var G=n.memoizedState;_!==W||q!==G||Zi||t!==null&&t.dependencies!==null&&eu(t.dependencies)?(typeof S=="function"&&(qh(n,r,S,l),G=n.memoizedState),($=Zi||Bg(n,r,$,l,q,G,C)||t!==null&&t.dependencies!==null&&eu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=C,l=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Eu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=es(n,t.child,null,c),n.child=es(n,null,r,c)):Pe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ci(t,n,c),t}function ip(t,n,r,l){return fl(),n.flags|=256,Pe(t,n,r,l),n.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yh(t){return{baseLanes:t,cachePool:Gm()}}function Kh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Rn),t}function rp(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(c?er(n):nr(),kt){var S=oe,C;if(C=S){t:{for(C=S,S=Xn;C.nodeType!==8;){if(!S){S=null;break t}if(C=Mn(C.nextSibling),C===null){S=null;break t}}S=C}S!==null?(n.memoizedState={dehydrated:S,treeContext:ea!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},C=on(18,null,null,0),C.stateNode=S,C.return=n,n.child=C,We=n,oe=null,C=!0):C=!1}C||ra(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Vf(S)?n.lanes=32:n.lanes=536870912,null;xi(n)}return S=l.children,l=l.fallback,c?(nr(),c=n.mode,S=Tu({mode:"hidden",children:S},c),l=ta(l,c,r,null),S.return=n,l.return=n,S.sibling=l,n.child=S,c=n.child,c.memoizedState=Yh(r),c.childLanes=Kh(t,_,r),n.memoizedState=Qh,l):(er(n),Xh(n,S))}if(C=t.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=$h(t,n,r)):n.memoizedState!==null?(nr(),n.child=t.child,n.flags|=128,n=null):(nr(),c=l.fallback,S=n.mode,l=Tu({mode:"visible",children:l.children},S),c=ta(c,S,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,es(n,t.child,null,r),l=n.child,l.memoizedState=Yh(r),l.childLanes=Kh(t,_,r),n.memoizedState=Qh,n=c);else if(er(n),Vf(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,dl({value:l,source:null,stack:null}),n=$h(t,n,r)}else if(Ne||ml(t,n,r,!1),_=(r&t.childLanes)!==0,Ne||_){if(_=Jt,_!==null&&(l=r&-r,l=(l&42)!==0?1:Hi(l),l=(l&(_.suspendedLanes|r))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ga(t,l),dn(_,t,l),Xg;S.data==="$?"||gf(),n=$h(t,n,r)}else S.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,oe=Mn(S.nextSibling),We=n,kt=!0,ia=null,Xn=!1,t!==null&&(Sn[An++]=Si,Sn[An++]=Ai,Sn[An++]=ea,Si=t.id,Ai=t.overflow,ea=n),n=Xh(n,l.children),n.flags|=4096);return n}return c?(nr(),c=l.fallback,S=n.mode,C=t.child,B=C.sibling,l=Ti(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?c=Ti(B,c):(c=ta(c,S,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,S=t.child.memoizedState,S===null?S=Yh(r):(C=S.cachePool,C!==null?(B=be._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=Gm(),S={baseLanes:S.baseLanes|r,cachePool:C}),c.memoizedState=S,c.childLanes=Kh(t,_,r),n.memoizedState=Qh,l):(er(n),r=t.child,t=r.sibling,r=Ti(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function Xh(t,n){return n=Tu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Tu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $h(t,n,r){return es(n,t.child,null,r),t=Xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ap(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mh(t.return,n,r)}function Zh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function sp(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Pe(t,n,l.children,r),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ap(t,r,n);else if(t.tag===19)ap(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(at(Re,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&yu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Zh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&yu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Zh(n,!0,r,null,f);break;case"together":Zh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),lr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ml(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ti(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ti(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Jh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&eu(t)))}function D0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),$i(n,be,t.memoizedState.cache),fl();break;case 27:case 5:qi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:$i(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?rp(t,n,r):(er(n),t=Ci(t,n,r),t!==null?t.sibling:null);er(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ml(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return sp(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),at(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Wg(t,n,r);case 24:$i(n,be,t.memoizedState.cache)}return Ci(t,n,r)}function lp(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Jh(t,r)&&(n.flags&128)===0)return Ne=!1,D0(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,kt&&(n.flags&1048576)!==0&&Lm(n,tu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")lh(l)?(t=ua(l,t),n.tag=1,n=np(null,n,l,t,r)):(n.tag=0,n=Fh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===pt){n.tag=11,n=$g(null,n,l,t,r);break t}else if(c===V){n.tag=14,n=Zg(null,n,l,t,r);break t}}throw n=je(l)||l,Error(s(306,n,""))}}return n;case 0:return Fh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ua(l,n.pendingProps),np(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Th(t,n),Tl(n,l,null,r);var _=n.memoizedState;if(l=_.cache,$i(n,be,l),l!==f.cache&&gh(n,[be],r,!0),El(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ip(t,n,l,r);break t}else if(l!==c){c=En(Error(s(424)),n),dl(c),n=ip(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Mn(t.firstChild),We=n,kt=!0,ia=null,Xn=!0,r=zg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(fl(),l===c){n=Ci(t,n,r);break t}Pe(t,n,l,r)}n=n.child}return n;case 26:return Eu(t,n),t===null?(r=hy(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,t=n.pendingProps,l=ju(St.current).createElement(r),l[Te]=n,l[me]=t,ke(l,r,t),ce(l),n.stateNode=l):n.memoizedState=hy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qi(n),t===null&&kt&&(l=n.stateNode=oy(n.type,n.pendingProps,St.current),We=n,Xn=!0,c=oe,hr(n.type)?(Of=c,oe=Mn(l.firstChild)):oe=c),Pe(t,n,n.pendingProps.children,r),Eu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((c=l=oe)&&(l=iT(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,We=n,oe=Mn(l.firstChild),Xn=!1,c=!0):c=!1),c||ra(n)),qi(n),c=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Df(c,f)?l=null:_!==null&&Df(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=xh(t,n,T0,null,null,r),Hl._currentValue=c),Eu(t,n),Pe(t,n,l,r),n.child;case 6:return t===null&&kt&&((t=r=oe)&&(r=rT(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,We=n,oe=null,t=!0):t=!1),t||ra(n)),null;case 13:return rp(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=es(n,null,l,r):Pe(t,n,l,r),n.child;case 11:return $g(t,n,n.type,n.pendingProps,r);case 7:return Pe(t,n,n.pendingProps,r),n.child;case 8:return Pe(t,n,n.pendingProps.children,r),n.child;case 12:return Pe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,$i(n,n.type,l.value),Pe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,sa(n),c=Fe(c),l=l(c),n.flags|=1,Pe(t,n,l,r),n.child;case 14:return Zg(t,n,n.type,n.pendingProps,r);case 15:return Jg(t,n,n.type,n.pendingProps,r);case 19:return sp(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Tu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ti(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Wg(t,n,r);case 24:return sa(n),l=Fe(be),t===null?(c=vh(),c===null&&(c=Jt,f=ph(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Eh(n),$i(n,be,c)):((t.lanes&r)!==0&&(Th(t,n),Tl(n,null,null,r),El()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),$i(n,be,l)):(l=f.cache,$i(n,be,l),l!==c.cache&&gh(n,[be],r,!0))),Pe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Di(t){t.flags|=4}function op(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!py(n)){if(n=bn.current,n!==null&&((jt&4194048)===jt?$n!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==$n))throw vl=_h,Fm;t.flags|=8192}}function Su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Fs():536870912,t.lanes|=n,as|=n)}function Cl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function N0(t,n,r){var l=n.pendingProps;switch(hh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ri(be),Ln(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hl(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,km())),ie(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ie(n),op(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ie(n),op(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ie(n),n.flags&=-16777217),null;case 27:oi(n),r=St.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=yt.current,hl(n)?Pm(n):(t=oy(c,l,r),n.stateNode=t,Di(n))}return ie(n),null;case 5:if(oi(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=yt.current,hl(n))Pm(n);else{switch(c=ju(St.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Te]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ke(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,hl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ey(t.nodeValue,r)),t||ra(n)}else t=ju(t).createTextNode(l),t[Te]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=hl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Te]=n}else fl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=km(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Su(n,n.updateQueue),ie(n),null;case 4:return Ln(),t===null&&bf(n.stateNode.containerInfo),ie(n),null;case 10:return Ri(n.type),ie(n),null;case 19:if(ot(Re),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Cl(c,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=yu(t),f!==null){for(n.flags|=128,Cl(c,!1),t=f.updateQueue,n.updateQueue=t,Su(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Um(r,t),r=r.sibling;return at(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>Ru&&(n.flags|=128,l=!0,Cl(c,!1),n.lanes=4194304)}else{if(!l)if(t=yu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Su(n,t),Cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!kt)return ie(n),null}else 2*mn()-c.renderingStartTime>Ru&&r!==536870912&&(n.flags|=128,l=!0,Cl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=Re.current,at(Re,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return xi(n),Rh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Su(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ot(la),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ri(be),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function I0(t,n){switch(hh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ri(be),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return oi(n),null;case 13:if(xi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ot(Re),null;case 4:return Ln(),null;case 10:return Ri(n.type),null;case 22:case 23:return xi(n),Rh(),t!==null&&ot(la),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ri(be),null;case 25:return null;default:return null}}function up(t,n){switch(hh(n),n.tag){case 3:Ri(be),Ln();break;case 26:case 27:case 5:oi(n);break;case 4:Ln();break;case 13:xi(n);break;case 19:ot(Re);break;case 10:Ri(n.type);break;case 22:case 23:xi(n),Rh(),t!==null&&ot(la);break;case 24:Ri(be)}}function Dl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==c)}}catch(S){$t(n,n.return,S)}}function ir(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,c=n;var C=r,B=S;try{B()}catch($){$t(c,C,$)}}}l=l.next}while(l!==f)}}catch($){$t(n,n.return,$)}}function cp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Zm(n,r)}catch(l){$t(t,t.return,l)}}}function hp(t,n,r){r.props=ua(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$t(t,n,l)}}function Nl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){$t(t,n,c)}}function Zn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){$t(t,n,c)}else r.current=null}function fp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){$t(t,t.return,c)}}function Wh(t,n,r){try{var l=t.stateNode;J0(l,t.type,r,n),l[me]=n}catch(c){$t(t,t.return,c)}}function dp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hr(t.type)||t.tag===4}function tf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Mu));else if(l!==4&&(l===27&&hr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ef(t,n,r),t=t.sibling;t!==null;)ef(t,n,r),t=t.sibling}function Au(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&hr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Au(t,n,r),t=t.sibling;t!==null;)Au(t,n,r),t=t.sibling}function mp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,r),n[Te]=t,n[me]=r}catch(f){$t(t,t.return,f)}}var Ni=!1,fe=!1,nf=!1,gp=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function V0(t,n){if(t=t.containerInfo,xf=Bu,t=wm(t),th(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,S=-1,C=-1,B=0,$=0,W=t,q=null;e:for(;;){for(var G;W!==r||c!==0&&W.nodeType!==3||(S=_+c),W!==f||l!==0&&W.nodeType!==3||(C=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(G=W.firstChild)!==null;)q=W,W=G;for(;;){if(W===t)break e;if(q===r&&++B===c&&(S=_),q===f&&++$===l&&(C=_),(G=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=G}r=S===-1||C===-1?null:{start:S,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cf={focusedElem:t,selectionRange:r},Bu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Tt=ua(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){$t(r,r.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)If(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":If(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function pp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:rr(t,r),l&4&&Dl(5,r);break;case 1:if(rr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){$t(r,r.return,_)}else{var c=ua(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(r,r.return,_)}}l&64&&cp(r),l&512&&Nl(r,r.return);break;case 3:if(rr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Zm(t,n)}catch(_){$t(r,r.return,_)}}break;case 27:n===null&&l&4&&mp(r);case 26:case 5:rr(t,r),n===null&&l&4&&fp(r),l&512&&Nl(r,r.return);break;case 12:rr(t,r);break;case 13:rr(t,r),l&4&&_p(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=B0.bind(null,r),aT(t,r))));break;case 22:if(l=r.memoizedState!==null||Ni,!l){n=n!==null&&n.memoizedState!==null||fe,c=Ni;var f=fe;Ni=l,(fe=n)&&!f?ar(t,r,(r.subtreeFlags&8772)!==0):rr(t,r),Ni=c,fe=f}break;case 30:break;default:rr(t,r)}}function yp(t){var n=t.alternate;n!==null&&(t.alternate=null,yp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,en=!1;function Ii(t,n,r){for(r=r.child;r!==null;)vp(t,n,r),r=r.sibling}function vp(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(le,r)}catch{}switch(r.tag){case 26:fe||Zn(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||Zn(r,n);var l=ne,c=en;hr(r.type)&&(ne=r.stateNode,en=!1),Ii(t,n,r),zl(r.stateNode),ne=l,en=c;break;case 5:fe||Zn(r,n);case 6:if(l=ne,c=en,ne=null,Ii(t,n,r),ne=l,en=c,ne!==null)if(en)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:ne!==null&&(en?(t=ne,sy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Yl(t)):sy(ne,r.stateNode));break;case 4:l=ne,c=en,ne=r.stateNode.containerInfo,en=!0,Ii(t,n,r),ne=l,en=c;break;case 0:case 11:case 14:case 15:fe||ir(2,r,n),fe||ir(4,r,n),Ii(t,n,r);break;case 1:fe||(Zn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&hp(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Ii(t,n,r),fe=l;break;default:Ii(t,n,r)}}function _p(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yl(t)}catch(r){$t(n,n.return,r)}}function O0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gp),n;default:throw Error(s(435,t.tag))}}function rf(t,n){var r=O0(t);n.forEach(function(l){var c=q0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function un(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,_=n,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(hr(S.type)){ne=S.stateNode,en=!1;break t}break;case 5:ne=S.stateNode,en=!1;break t;case 3:case 4:ne=S.stateNode.containerInfo,en=!0;break t}S=S.return}if(ne===null)throw Error(s(160));vp(f,_,c),ne=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ep(n,t),n=n.sibling}var On=null;function Ep(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(ir(3,t,t.return),Dl(3,t),ir(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(fe||r===null||Zn(r,r.return)),l&64&&Ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=On;if(un(n,t),cn(t),l&512&&(fe||r===null||Zn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Pr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,r),f[Te]=t,ce(f),l=f;break t;case"link":var _=my("link","href",c).get(l+(r.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(S,1);break e}}f=c.createElement(l),ke(f,l,r),c.head.appendChild(f);break;case"meta":if(_=my("meta","content",c).get(l+(r.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(S,1);break e}}f=c.createElement(l),ke(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,ce(f),l=f}t.stateNode=l}else gy(c,t.type,t.stateNode);else t.stateNode=dy(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?gy(c,t.type,t.stateNode):dy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wh(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(fe||r===null||Zn(r,r.return)),r!==null&&l&4&&Wh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(fe||r===null||Zn(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(G){$t(t,t.return,G)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Wh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(nf=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(G){$t(t,t.return,G)}}break;case 3:if(Pu=null,c=On,On=Uu(n.containerInfo),un(n,t),On=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Yl(n.containerInfo)}catch(G){$t(t,t.return,G)}nf&&(nf=!1,Tp(t));break;case 4:l=On,On=Uu(t.stateNode.containerInfo),un(n,t),cn(t),On=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cf=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 22:c=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,B=Ni,$=fe;if(Ni=B||c,fe=$||C,un(n,t),fe=$,Ni=B,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||C||Ni||fe||ca(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,c)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=C.stateNode;var W=C.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){$t(C,C.return,G)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(G){$t(C,C.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,rf(t,r))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(dp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=tf(t);Au(t,f,c);break;case 5:var _=r.stateNode;r.flags&32&&(pn(_,""),r.flags&=-33);var S=tf(t);Au(t,S,_);break;case 3:case 4:var C=r.stateNode.containerInfo,B=tf(t);ef(t,B,C);break;default:throw Error(s(161))}}catch($){$t(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function rr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pp(t,n.alternate,n),n=n.sibling}function ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ir(4,n,n.return),ca(n);break;case 1:Zn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&hp(n,n.return,r),ca(n);break;case 27:zl(n.stateNode);case 26:case 5:Zn(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}t=t.sibling}}function ar(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:ar(c,f,r),Dl(4,f);break;case 1:if(ar(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){$t(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var S=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)$m(C[c],S)}catch(B){$t(l,l.return,B)}}r&&_&64&&cp(f),Nl(f,f.return);break;case 27:mp(f);case 26:case 5:ar(c,f,r),r&&l===null&&_&4&&fp(f),Nl(f,f.return);break;case 12:ar(c,f,r);break;case 13:ar(c,f,r),r&&_&4&&_p(c,f);break;case 22:f.memoizedState===null&&ar(c,f,r),Nl(f,f.return);break;case 30:break;default:ar(c,f,r)}n=n.sibling}}function af(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&gl(r))}function sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sp(t,n,r,l),n=n.sibling}function Sp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&Dl(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$t(n,n.return,C)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):Il(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,ns(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&af(_,n);break;case 24:Jn(t,n,r,l),c&2048&&sf(n.alternate,n);break;default:Jn(t,n,r,l)}}function ns(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,S=r,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:ns(f,_,S,C,c),Dl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?ns(f,_,S,C,c):Il(f,_):($._visibility|=2,ns(f,_,S,C,c)),c&&B&2048&&af(_.alternate,_);break;case 24:ns(f,_,S,C,c),c&&B&2048&&sf(_.alternate,_);break;default:ns(f,_,S,C,c)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Il(r,l),c&2048&&af(l.alternate,l);break;case 24:Il(r,l),c&2048&&sf(l.alternate,l);break;default:Il(r,l)}n=n.sibling}}var Vl=8192;function is(t){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)Ap(t),t=t.sibling}function Ap(t){switch(t.tag){case 26:is(t),t.flags&Vl&&t.memoizedState!==null&&vT(On,t.memoizedState,t.memoizedProps);break;case 5:is(t);break;case 3:case 4:var n=On;On=Uu(t.stateNode.containerInfo),is(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Vl,Vl=16777216,is(t),Vl=n):is(t));break;default:is(t)}}function bp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,wp(l,t)}bp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rp(t),t=t.sibling}function Rp(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&ir(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,bu(t)):Ol(t);break;default:Ol(t)}}function bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,wp(l,t)}bp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ir(8,n,n.return),bu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,bu(n));break;default:bu(n)}t=t.sibling}}function wp(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:ir(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(yp(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var M0={getCacheForType:function(t){var n=Fe(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},j0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Dt=null,jt=0,Ft=0,hn=null,sr=!1,rs=!1,lf=!1,Vi=0,ue=0,lr=0,ha=0,of=0,Rn=0,as=0,Ml=null,nn=null,uf=!1,cf=0,Ru=1/0,wu=null,or=null,ze=0,ur=null,ss=null,ls=0,hf=0,ff=null,xp=null,jl=0,df=null;function fn(){if((Gt&2)!==0&&jt!==0)return jt&-jt;if(X.T!==null){var t=Ka;return t!==0?t:Ef()}return Gi()}function Cp(){Rn===0&&(Rn=(jt&536870912)===0||kt?Gs():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function dn(t,n,r){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(os(t,0),cr(t,jt,Rn,!1)),ci(t,r),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(ha|=r),ue===4&&cr(t,jt,Rn,!1)),Wn(t))}function Dp(t,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Lr(t,n),c=l?P0(t,n):pf(t,n,!0),f=l;do{if(c===0){rs&&!l&&cr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!U0(r)){c=pf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var S=t;c=Ml;var C=S.current.memoizedState.isDehydrated;if(C&&(os(S,_).flags|=256),_=pf(S,_,!1),_!==2){if(lf&&!C){S.errorRecoveryDisabledLanes|=f,ha|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=_}if(f=!1,c!==2)continue}}if(c===1){os(t,0),cr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:cr(l,n,Rn,!sr);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=cf+300-mn(),10<c)){if(cr(l,n,Rn,!sr),Ra(l,0,!0)!==0)break t;l.timeoutHandle=ry(Np.bind(null,l,r,nn,wu,uf,n,Rn,ha,as,sr,f,2,-0,0),c);break t}Np(l,r,nn,wu,uf,n,Rn,ha,as,sr,f,0,-0,0)}}break}while(!0);Wn(t)}function Np(t,n,r,l,c,f,_,S,C,B,$,W,q,G){if(t.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:yT},Ap(n),W=_T(),W!==null)){t.cancelPendingCommit=W(Lp.bind(null,t,n,f,r,l,c,_,S,C,$,1,q,G)),cr(t,f,_,!B);return}Lp(t,n,f,r,l,c,_,S,C)}function U0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function cr(t,n,r,l){n&=~of,n&=~ha,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ge(c),_=1<<f;l[f]=-1,c&=~_}r!==0&&Pn(t,r,n)}function xu(){return(Gt&6)===0?(Ul(0),!1):!0}function mf(){if(Dt!==null){if(Ft===0)var t=Dt.return;else t=Dt,bi=aa=null,Nh(t),ts=null,wl=0,t=Dt;for(;t!==null;)up(t.alternate,t),t=t.return;Dt=null}}function os(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,tT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),mf(),Jt=t,Dt=r=Ti(t.current,null),jt=n,Ft=0,hn=null,sr=!1,rs=Lr(t,n),lf=!1,as=Rn=of=ha=lr=ue=0,nn=Ml=null,uf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ge(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Xo(),r}function Ip(t,n){wt=null,X.H=mu,n===yl||n===ru?(n=Km(),Ft=3):n===Fm?(n=Km(),Ft=4):Ft=n===Xg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Dt===null&&(ue=1,_u(t,En(n,t.current)))}function Vp(){var t=X.H;return X.H=mu,t===null?mu:t}function Op(){var t=X.A;return X.A=M0,t}function gf(){ue=4,sr||(jt&4194048)!==jt&&bn.current!==null||(rs=!0),(lr&134217727)===0&&(ha&134217727)===0||Jt===null||cr(Jt,jt,Rn,!1)}function pf(t,n,r){var l=Gt;Gt|=2;var c=Vp(),f=Op();(Jt!==t||jt!==n)&&(wu=null,os(t,n)),n=!1;var _=ue;t:do try{if(Ft!==0&&Dt!==null){var S=Dt,C=hn;switch(Ft){case 8:mf(),_=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var B=Ft;if(Ft=0,hn=null,us(t,S,C,B),r&&rs){_=0;break t}break;default:B=Ft,Ft=0,hn=null,us(t,S,C,B)}}L0(),_=ue;break}catch($){Ip(t,$)}while(!0);return n&&t.shellSuspendCounter++,bi=aa=null,Gt=l,X.H=c,X.A=f,Dt===null&&(Jt=null,jt=0,Xo()),_}function L0(){for(;Dt!==null;)Mp(Dt)}function P0(t,n){var r=Gt;Gt|=2;var l=Vp(),c=Op();Jt!==t||jt!==n?(wu=null,Ru=mn()+500,os(t,n)):rs=Lr(t,n);t:do try{if(Ft!==0&&Dt!==null){n=Dt;var f=hn;e:switch(Ft){case 1:Ft=0,hn=null,us(t,n,f,1);break;case 2:case 9:if(Qm(f)){Ft=0,hn=null,jp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),Wn(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Qm(f)?(Ft=0,hn=null,jp(n)):(Ft=0,hn=null,us(t,n,f,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var S=Dt;if(!_||py(_)){Ft=0,hn=null;var C=S.sibling;if(C!==null)Dt=C;else{var B=S.return;B!==null?(Dt=B,Cu(B)):Dt=null}break e}}Ft=0,hn=null,us(t,n,f,5);break;case 6:Ft=0,hn=null,us(t,n,f,6);break;case 8:mf(),ue=6;break t;default:throw Error(s(462))}}z0();break}catch($){Ip(t,$)}while(!0);return bi=aa=null,X.H=l,X.A=c,Gt=r,Dt!==null?0:(Jt=null,jt=0,Xo(),ue)}function z0(){for(;Dt!==null&&!ks();)Mp(Dt)}function Mp(t){var n=lp(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?Cu(t):Dt=n}function jp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ep(r,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=ep(r,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:Nh(n);default:up(r,n),n=Dt=Um(n,Vi),n=lp(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?Cu(t):Dt=n}function us(t,n,r,l){bi=aa=null,Nh(n),ts=null,wl=0;var c=n.return;try{if(C0(t,c,n,r,jt)){ue=1,_u(t,En(r,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;ue=1,_u(t,En(r,t.current)),Dt=null;return}n.flags&32768?(kt||l===1?t=!0:rs||(jt&536870912)!==0?t=!1:(sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Up(n,t)):Cu(n)}function Cu(t){var n=t;do{if((n.flags&32768)!==0){Up(n,sr);return}t=n.return;var r=N0(n.alternate,n,Vi);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ue===0&&(ue=5)}function Up(t,n){do{var r=I0(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);ue=6,Dt=null}function Lp(t,n,r,l,c,f,_,S,C){t.cancelPendingCommit=null;do Du();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=ah,Qs(t,r,f,_,S,C),t===Jt&&(Dt=Jt=null,jt=0),ss=n,ur=t,ls=r,hf=f,ff=c,xp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,H0(Or,function(){return qp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,c=lt.p,lt.p=2,_=Gt,Gt|=4;try{V0(t,n,r)}finally{Gt=_,lt.p=c,X.T=l}}ze=1,Pp(),zp(),kp()}}function Pp(){if(ze===1){ze=0;var t=ur,n=ss,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=X.T,X.T=null;var l=lt.p;lt.p=2;var c=Gt;Gt|=4;try{Ep(n,t);var f=Cf,_=wm(t.containerInfo),S=f.focusedElem,C=f.selectionRange;if(_!==S&&S&&S.ownerDocument&&Rm(S.ownerDocument.documentElement,S)){if(C!==null&&th(S)){var B=C.start,$=C.end;if($===void 0&&($=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min($,S.value.length);else{var W=S.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var G=q.getSelection(),Tt=S.textContent.length,vt=Math.min(C.start,Tt),Xt=C.end===void 0?vt:Math.min(C.end,Tt);!G.extend&&vt>Xt&&(_=Xt,Xt=vt,vt=_);var j=bm(S,vt),I=bm(S,Xt);if(j&&I&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==I.node||G.focusOffset!==I.offset)){var k=W.createRange();k.setStart(j.node,j.offset),G.removeAllRanges(),vt>Xt?(G.addRange(k),G.extend(I.node,I.offset)):(k.setEnd(I.node,I.offset),G.addRange(k))}}}}for(W=[],G=S;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var Z=W[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Bu=!!xf,Cf=xf=null}finally{Gt=c,lt.p=l,X.T=r}}t.current=n,ze=2}}function zp(){if(ze===2){ze=0;var t=ur,n=ss,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=X.T,X.T=null;var l=lt.p;lt.p=2;var c=Gt;Gt|=4;try{pp(t,n.alternate,n)}finally{Gt=c,lt.p=l,X.T=r}}ze=3}}function kp(){if(ze===4||ze===3){ze=0,bo();var t=ur,n=ss,r=ls,l=xp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,ss=ur=null,Bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(or=null),wa(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,c=lt.p,lt.p=2,X.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];f(S.value,{componentStack:S.stack})}}finally{X.T=n,lt.p=c}}(ls&3)!==0&&Du(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===df?jl++:(jl=0,df=t):jl=0,Ul(0)}}function Bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,gl(n)))}function Du(t){return Pp(),zp(),kp(),qp()}function qp(){if(ze!==5)return!1;var t=ur,n=hf;hf=0;var r=wa(ls),l=X.T,c=lt.p;try{lt.p=32>r?32:r,X.T=null,r=ff,ff=null;var f=ur,_=ls;if(ze=0,ss=ur=null,ls=0,(Gt&6)!==0)throw Error(s(331));var S=Gt;if(Gt|=4,Rp(f.current),Sp(f,f.current,_,r),Gt=S,Ul(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{lt.p=c,X.T=l,Bp(t,n)}}function Hp(t,n,r){n=En(r,n),n=Gh(t.stateNode,n,2),t=Wi(t,n,2),t!==null&&(ci(t,2),Wn(t))}function $t(t,n,r){if(t.tag===3)Hp(t,t,r);else for(;n!==null;){if(n.tag===3){Hp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(or===null||!or.has(l))){t=En(r,t),r=Yg(2),l=Wi(n,r,2),l!==null&&(Kg(r,l,n,t),ci(l,2),Wn(l));break}}n=n.return}}function yf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new j0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(lf=!0,c.add(r),t=k0.bind(null,t,n,r),n.then(t,t))}function k0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(jt&r)===r&&(ue===4||ue===3&&(jt&62914560)===jt&&300>mn()-cf?(Gt&2)===0&&os(t,0):of|=r,as===jt&&(as=0)),Wn(t)}function Gp(t,n){n===0&&(n=Fs()),t=Ga(t,n),t!==null&&(ci(t,n),Wn(t))}function B0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Gp(t,r)}function q0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Gp(t,r)}function H0(t,n){return Ir(t,n)}var Nu=null,cs=null,vf=!1,Iu=!1,_f=!1,fa=0;function Wn(t){t!==cs&&t.next===null&&(cs===null?Nu=cs=t:cs=cs.next=t),Iu=!0,vf||(vf=!0,F0())}function Ul(t,n){if(!_f&&Iu){_f=!0;do for(var r=!1,l=Nu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var _=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Ge(42|t)+1)-1,f&=c&~(_&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Kp(l,f))}else f=jt,f=Ra(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Lr(l,f)||(r=!0,Kp(l,f));l=l.next}while(r);_f=!1}}function G0(){Fp()}function Fp(){Iu=vf=!1;var t=0;fa!==0&&(W0()&&(t=fa),fa=0);for(var n=mn(),r=null,l=Nu;l!==null;){var c=l.next,f=Qp(l,n);f===0?(l.next=null,r===null?Nu=c:r.next=c,c===null&&(cs=r)):(r=l,(t!==0||(f&3)!==0)&&(Iu=!0)),l=c}Ul(t)}function Qp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Ge(f),S=1<<_,C=c[_];C===-1?((S&r)===0||(S&l)!==0)&&(c[_]=Hs(S,n)):C<=n&&(t.expiredLanes|=S),f&=~S}if(n=Jt,r=jt,r=Ra(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Lr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Vr(l),wa(r)){case 2:case 8:r=Aa;break;case 32:r=Or;break;case 268435456:r=ba;break;default:r=Or}return l=Yp.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Vr(l),t.callbackPriority=2,t.callbackNode=null,2}function Yp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Du()&&t.callbackNode!==r)return null;var l=jt;return l=Ra(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dp(t,l,n),Qp(t,mn()),t.callbackNode!=null&&t.callbackNode===r?Yp.bind(null,t):null)}function Kp(t,n){if(Du())return null;Dp(t,n,!0)}function F0(){eT(function(){(Gt&6)!==0?Ir(Bs,G0):Fp()})}function Ef(){return fa===0&&(fa=Gs()),fa}function Xp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Va(""+t)}function $p(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Q0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Xp((c[me]||null).action),_=l.submitter;_&&(n=(n=_[me]||null)?Xp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var S=new Oa("action","action",null,l,c);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fa!==0){var C=_?$p(c,_):new FormData(c);zh(r,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(S.preventDefault(),C=_?$p(c,_):new FormData(c),zh(r,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var Tf=0;Tf<rh.length;Tf++){var Sf=rh[Tf],Y0=Sf.toLowerCase(),K0=Sf[0].toUpperCase()+Sf.slice(1);Vn(Y0,"on"+K0)}Vn(Dm,"onAnimationEnd"),Vn(Nm,"onAnimationIteration"),Vn(Im,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(h0,"onTransitionRun"),Vn(f0,"onTransitionStart"),Vn(d0,"onTransitionCancel"),Vn(Vm,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Zp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var S=l[_],C=S.instance,B=S.currentTarget;if(S=S.listener,C!==f&&c.isPropagationStopped())break t;f=S,c.currentTarget=B;try{f(c)}catch($){vu($)}c.currentTarget=null,f=C}else for(_=0;_<l.length;_++){if(S=l[_],C=S.instance,B=S.currentTarget,S=S.listener,C!==f&&c.isPropagationStopped())break t;f=S,c.currentTarget=B;try{f(c)}catch($){vu($)}c.currentTarget=null,f=C}}}}function Nt(t,n){var r=n[Ks];r===void 0&&(r=n[Ks]=new Set);var l=t+"__bubble";r.has(l)||(Jp(n,t,2,!1),r.add(l))}function Af(t,n,r){var l=0;n&&(l|=4),Jp(r,t,l,n)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function bf(t){if(!t[Vu]){t[Vu]=!0,Xs.forEach(function(r){r!=="selectionchange"&&(X0.has(r)||Af(r,!1,t),Af(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Vu]||(n[Vu]=!0,Af("selectionchange",!1,n))}}function Jp(t,n,r,l){switch(Sy(n)){case 2:var c=ST;break;case 8:c=AT;break;default:c=Pf}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Rf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===c)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;S!==null;){if(_=hi(S),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=f=_;continue t}S=S.parentNode}}l=l.return}Mo(function(){var B=f,$=yn(r),W=[];t:{var q=Om.get(t);if(q!==void 0){var G=Oa,Tt=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":G=za;break;case"focusin":Tt="focus",G=Ua;break;case"focusout":Tt="blur",G=Ua;break;case"beforeblur":case"afterblur":G=Ua;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=qo;break;case Dm:case Nm:case Im:G=La;break;case Vm:G=Go;break;case"scroll":case"scrollend":G=jo;break;case"wheel":G=ka;break;case"copy":case"cut":case"paste":G=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ll;break;case"toggle":case"beforetoggle":G=Qo}var vt=(n&4)!==0,Xt=!vt&&(t==="scroll"||t==="scrollend"),j=vt?q!==null?q+"Capture":null:q;vt=[];for(var I=B,k;I!==null;){var Z=I;if(k=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||k===null||j===null||(Z=Fr(I,j),Z!=null&&vt.push(Pl(I,Z,k))),Xt)break;I=I.return}0<vt.length&&(q=new G(q,Tt,null,r,$),W.push({event:q,listeners:vt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&r!==gi&&(Tt=r.relatedTarget||r.fromElement)&&(hi(Tt)||Tt[gn]))break t;if((G||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,G?(Tt=r.relatedTarget||r.toElement,G=B,Tt=Tt?hi(Tt):null,Tt!==null&&(Xt=h(Tt),vt=Tt.tag,Tt!==Xt||vt!==5&&vt!==27&&vt!==6)&&(Tt=null)):(G=null,Tt=B),G!==Tt)){if(vt=_n,Z="onMouseLeave",j="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(vt=ll,Z="onPointerLeave",j="onPointerEnter",I="pointer"),Xt=G==null?q:kn(G),k=Tt==null?q:kn(Tt),q=new vt(Z,I+"leave",G,r,$),q.target=Xt,q.relatedTarget=k,Z=null,hi($)===B&&(vt=new vt(j,I+"enter",Tt,r,$),vt.target=k,vt.relatedTarget=Xt,Z=vt),Xt=Z,G&&Tt)e:{for(vt=G,j=Tt,I=0,k=vt;k;k=hs(k))I++;for(k=0,Z=j;Z;Z=hs(Z))k++;for(;0<I-k;)vt=hs(vt),I--;for(;0<k-I;)j=hs(j),k--;for(;I--;){if(vt===j||j!==null&&vt===j.alternate)break e;vt=hs(vt),j=hs(j)}vt=null}else vt=null;G!==null&&Wp(W,q,G,vt,!1),Tt!==null&&Xt!==null&&Wp(W,Xt,Tt,vt,!0)}}t:{if(q=B?kn(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var ht=vm;else if(Ae(q))if(_m)ht=o0;else{ht=s0;var Ct=a0}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&tl(B.elementType)&&(ht=vm):ht=l0;if(ht&&(ht=ht(t,B))){Ei(W,ht,r,$);break t}Ct&&Ct(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Ki(q,"number",q.value)}switch(Ct=B?kn(B):window,t){case"focusin":(Ae(Ct)||Ct.contentEditable==="true")&&(Ba=Ct,eh=B,cl=null);break;case"focusout":cl=eh=Ba=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,xm(W,r,$);break;case"selectionchange":if(c0)break;case"keydown":case"keyup":xm(W,r,$)}var dt;if(Yn)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ot?F(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(v&&r.locale!=="ko"&&(Ot||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ot&&(dt=nl()):(Hn=$,Xi="value"in Hn?Hn.value:Hn.textContent,Ot=!0)),Ct=Ou(B,_t),0<Ct.length&&(_t=new al(_t,t,null,r,$),W.push({event:_t,listeners:Ct}),dt?_t.data=dt:(dt=st(r),dt!==null&&(_t.data=dt)))),(dt=m?Se(t,r):Mt(t,r))&&(_t=Ou(B,"onBeforeInput"),0<_t.length&&(Ct=new al("onBeforeInput","beforeinput",null,r,$),W.push({event:Ct,listeners:_t}),Ct.data=dt)),Q0(W,t,B,r,$)}Zp(W,n)})}function Pl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ou(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Fr(t,r),c!=null&&l.unshift(Pl(t,c,f)),c=Fr(t,n),c!=null&&l.push(Pl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wp(t,n,r,l,c){for(var f=n._reactName,_=[];r!==null&&r!==l;){var S=r,C=S.alternate,B=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||B===null||(C=B,c?(B=Fr(r,f),B!=null&&_.unshift(Pl(r,B,C))):c||(B=Fr(r,f),B!=null&&_.push(Pl(r,B,C)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var $0=/\r\n?/g,Z0=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace($0,`
`).replace(Z0,"")}function ey(t,n){return n=ty(n),ty(t)===n}function Mu(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":Ws(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),Yi(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Kc.get(r)||r,Yi(t,r,l))}}function wf(t,n,r,l,c,f){switch(r){case"style":Ws(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Yi(t,r,l)}}}function ke(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,_,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Nt("invalid",t);var S=f=_=c=null,C=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var $=r[l];if($!=null)switch(l){case"name":c=$;break;case"type":_=$;break;case"checked":C=$;break;case"defaultChecked":B=$;break;case"value":f=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:Kt(t,n,l,$,r,null)}}qr(t,f,S,C,B,_,c,!1),Ia(t);return;case"select":Nt("invalid",t),l=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(S=r[c],S!=null))switch(c){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Kt(t,n,c,S,r,null)}n=f,r=_,t.multiple=!!l,n!=null?mi(t,!!l,n,!1):r!=null&&mi(t,!!l,r,!0);return;case"textarea":Nt("invalid",t),f=c=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(S=r[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":c=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Kt(t,n,_,S,r,null)}Hr(t,l,c,f),Ia(t);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,C,l,r,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Nt(Ll[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,B,l,r,null)}return;default:if(tl(n)){for($ in r)r.hasOwnProperty($)&&(l=r[$],l!==void 0&&wf(t,n,$,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&Kt(t,n,S,l,r,null))}function J0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,S=null,C=null,B=null,$=null;for(G in r){var W=r[G];if(r.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(G)||Kt(t,n,G,null,l,W)}}for(var q in l){var G=l[q];if(W=r[q],l.hasOwnProperty(q)&&(G!=null||W!=null))switch(q){case"type":f=G;break;case"name":c=G;break;case"checked":B=G;break;case"defaultChecked":$=G;break;case"value":_=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==W&&Kt(t,n,q,G,l,W)}}sn(t,_,S,C,B,$,f,c);return;case"select":G=_=S=q=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=r[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":q=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==C&&Kt(t,n,c,f,l,C)}n=S,r=_,l=G,q!=null?mi(t,!!r,q,!1):!!l!=!!r&&(n!=null?mi(t,!!r,n,!0):mi(t,!!r,r?[]:"",!1));return;case"textarea":G=q=null;for(S in r)if(c=r[S],r.hasOwnProperty(S)&&c!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Kt(t,n,S,null,l,c)}for(_ in l)if(c=l[_],f=r[_],l.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":q=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,_,c,l,f)}Qt(t,q,G);return;case"option":for(var Tt in r)if(q=r[Tt],r.hasOwnProperty(Tt)&&q!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:Kt(t,n,Tt,null,l,q)}for(C in l)if(q=l[C],G=r[C],l.hasOwnProperty(C)&&q!==G&&(q!=null||G!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Kt(t,n,C,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)q=r[vt],r.hasOwnProperty(vt)&&q!=null&&!l.hasOwnProperty(vt)&&Kt(t,n,vt,null,l,q);for(B in l)if(q=l[B],G=r[B],l.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Kt(t,n,B,q,l,G)}return;default:if(tl(n)){for(var Xt in r)q=r[Xt],r.hasOwnProperty(Xt)&&q!==void 0&&!l.hasOwnProperty(Xt)&&wf(t,n,Xt,void 0,l,q);for($ in l)q=l[$],G=r[$],!l.hasOwnProperty($)||q===G||q===void 0&&G===void 0||wf(t,n,$,q,l,G);return}}for(var j in r)q=r[j],r.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&Kt(t,n,j,null,l,q);for(W in l)q=l[W],G=r[W],!l.hasOwnProperty(W)||q===G||q==null&&G==null||Kt(t,n,W,q,l,G)}var xf=null,Cf=null;function ju(t){return t.nodeType===9?t:t.ownerDocument}function ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nf=null;function W0(){var t=window.event;return t&&t.type==="popstate"?t===Nf?!1:(Nf=t,!0):(Nf=null,!1)}var ry=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,eT=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(nT)}:ry;function nT(t){setTimeout(function(){throw t})}function hr(t){return t==="head"}function sy(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var _=t.ownerDocument;if(r&1&&zl(_.documentElement),r&2&&zl(_.body),r&4)for(r=_.head,zl(r),_=r.firstChild;_;){var S=_.nextSibling,C=_.nodeName;_[Pr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=S}}if(c===0){t.removeChild(f),Yl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Yl(n)}function If(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":If(r),Qi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function iT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Pr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function rT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function Vf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function aT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Of=null;function ly(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function oy(t,n,r){switch(n=ju(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Qi(t)}var wn=new Map,uy=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=lt.d;lt.d={f:sT,r:lT,D:oT,C:uT,L:cT,m:hT,X:dT,S:fT,M:mT};function sT(){var t=Oi.f(),n=xu();return t||n}function lT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Dg(n):Oi.r(t)}var fs=typeof document>"u"?null:document;function cy(t,n,r){var l=fs;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),uy.has(c)||(uy.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),ce(n),l.head.appendChild(n)))}}function oT(t){Oi.D(t),cy("dns-prefetch",t,null)}function uT(t,n){Oi.C(t,n),cy("preconnect",t,n)}function cT(t,n,r){Oi.L(t,n,r);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ge(r.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}wn.has(f)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(kl(f))||n==="script"&&l.querySelector(Bl(f))||(n=l.createElement("link"),ke(n,"link",t),ce(n),l.head.appendChild(n)))}}function hT(t,n){Oi.m(t,n);var r=fs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!wn.has(f)&&(t=E({rel:"modulepreload",href:t},n),wn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Bl(f)))return}l=r.createElement("link"),ke(l,"link",t),ce(l),r.head.appendChild(l)}}}function fT(t,n,r){Oi.S(t,n,r);var l=fs;if(l&&t){var c=$e(l).hoistableStyles,f=ds(t);n=n||"default";var _=c.get(f);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(kl(f)))S.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(f))&&Mf(t,r);var C=_=l.createElement("link");ce(C),ke(C,"link",t),C._p=new Promise(function(B,$){C.onload=B,C.onerror=$}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:S},c.set(f,_)}}}function dT(t,n){Oi.X(t,n);var r=fs;if(r&&t){var l=$e(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Bl(c)),f||(t=E({src:t,async:!0},n),(n=wn.get(c))&&jf(t,n),f=r.createElement("script"),ce(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function mT(t,n){Oi.M(t,n);var r=fs;if(r&&t){var l=$e(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Bl(c)),f||(t=E({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&jf(t,n),f=r.createElement("script"),ce(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hy(t,n,r,l){var c=(c=St.current)?Uu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ds(r.href),r=$e(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ds(r.href);var f=$e(c).hoistableStyles,_=f.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=c.querySelector(kl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),f||gT(c,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(r),r=$e(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ds(t){return'href="'+ge(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function fy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function gT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",r),ce(n),t.head.appendChild(n))}function ms(t){return'[src="'+ge(t)+'"]'}function Bl(t){return"script[async]"+t}function dy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),ke(l,"style",c),Lu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ds(r.href);var f=t.querySelector(kl(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=fy(r),(c=wn.get(c))&&Mf(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var _=f;return _._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),ke(f,"link",l),n.state.loading|=4,Lu(f,r.precedence,t),n.instance=f;case"script":return f=ms(r.src),(c=t.querySelector(Bl(f)))?(n.instance=c,ce(c),c):(l=r,(c=wn.get(f))&&(l=E({},r),jf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Lu(l,r.precedence,t));return n.instance}function Lu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===n)f=S;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Pu=null;function my(t,n,r){if(Pu===null){var l=new Map,c=Pu=new Map;c.set(r,l)}else c=Pu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Pr]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var S=l.get(_);S?S.push(f):l.set(_,[f])}}return l}function gy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function pT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function py(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ql=null;function yT(){}function vT(t,n,r){if(ql===null)throw Error(s(475));var l=ql;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ds(r.href),f=t.querySelector(kl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=zu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,r=fy(r),(c=wn.get(c))&&Mf(r,c),f=f.createElement("link"),ce(f);var _=f;_._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),ke(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=zu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function _T(){if(ql===null)throw Error(s(475));var t=ql;return t.stylesheets&&t.count===0&&Uf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Uf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function zu(){if(this.count--,this.count===0){if(this.stylesheets)Uf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function Uf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,n.forEach(ET,t),ku=null,zu.call(t))}function ET(t,n){if(!(n.state.loading&4)){var r=ku.get(t);if(r)var l=r.get(null);else{r=new Map,ku.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,c),r.set(_,c),this.count++,l=zu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Hl={$$typeof:it,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function TT(t,n,r,l,c,f,_,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function yy(t,n,r,l,c,f,_,S,C,B,$,W){return t=new TT(t,n,r,_,S,C,B,W),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=ph(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Eh(f),t}function vy(t){return t?(t=Fa,t):Fa}function _y(t,n,r,l,c,f){c=vy(c),l.context===null?l.context=c:l.pendingContext=c,l=Ji(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Wi(t,l,n),r!==null&&(dn(r,t,n),_l(r,t,n))}function Ey(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Lf(t,n){Ey(t,n),(t=t.alternate)&&Ey(t,n)}function Ty(t){if(t.tag===13){var n=Ga(t,67108864);n!==null&&dn(n,t,67108864),Lf(t,67108864)}}var Bu=!0;function ST(t,n,r,l){var c=X.T;X.T=null;var f=lt.p;try{lt.p=2,Pf(t,n,r,l)}finally{lt.p=f,X.T=c}}function AT(t,n,r,l){var c=X.T;X.T=null;var f=lt.p;try{lt.p=8,Pf(t,n,r,l)}finally{lt.p=f,X.T=c}}function Pf(t,n,r,l){if(Bu){var c=zf(l);if(c===null)Rf(t,n,l,qu,r),Ay(t,l);else if(RT(c,t,n,r,l))l.stopPropagation();else if(Ay(t,l),n&4&&-1<bT.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Dn(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var C=1<<31-Ge(_);S.entanglements[1]|=C,_&=~C}Wn(f),(Gt&6)===0&&(Ru=mn()+500,Ul(0))}}break;case 13:S=Ga(f,2),S!==null&&dn(S,f,2),xu(),Lf(f,2)}if(f=zf(l),f===null&&Rf(t,n,l,qu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Rf(t,n,l,null,r)}}function zf(t){return t=yn(t),kf(t)}var qu=null;function kf(t){if(qu=null,t=hi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qu=t,null}function Sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qc()){case Bs:return 2;case Aa:return 8;case Or:case Hc:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Bf=!1,fr=null,dr=null,mr=null,Gl=new Map,Fl=new Map,gr=[],bT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(t,n){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Ql(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&Ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function RT(t,n,r,l,c){switch(n){case"focusin":return fr=Ql(fr,t,n,r,l,c),!0;case"dragenter":return dr=Ql(dr,t,n,r,l,c),!0;case"mouseover":return mr=Ql(mr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Gl.set(f,Ql(Gl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Fl.set(f,Ql(Fl.get(f)||null,t,n,r,l,c)),!0}return!1}function by(t){var n=hi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,xo(t.priority,function(){if(r.tag===13){var l=fn();l=Hi(l);var c=Ga(r,l);c!==null&&dn(c,r,l),Lf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=zf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);gi=l,r.target.dispatchEvent(l),gi=null}else return n=zn(r),n!==null&&Ty(n),t.blockedOn=r,!1;n.shift()}return!0}function Ry(t,n,r){Hu(t)&&r.delete(n)}function wT(){Bf=!1,fr!==null&&Hu(fr)&&(fr=null),dr!==null&&Hu(dr)&&(dr=null),mr!==null&&Hu(mr)&&(mr=null),Gl.forEach(Ry),Fl.forEach(Ry)}function Gu(t,n){t.blockedOn===n&&(t.blockedOn=null,Bf||(Bf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wT)))}var Fu=null;function wy(t){Fu!==t&&(Fu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(kf(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,zh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Yl(t){function n(C){return Gu(C,t)}fr!==null&&Gu(fr,t),dr!==null&&Gu(dr,t),mr!==null&&Gu(mr,t),Gl.forEach(n),Fl.forEach(n);for(var r=0;r<gr.length;r++){var l=gr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)by(r),r.blockedOn===null&&gr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],_=c[me]||null;if(typeof f=="function")_||wy(r);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[me]||null)S=_.formAction;else if(kf(c)!==null)continue}else S=_.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),wy(r)}}}function qf(t){this._internalRoot=t}Qu.prototype.render=qf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();_y(r,l,t,n,null,null)},Qu.prototype.unmount=qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;_y(t.current,2,null,t,null,null),xu(),n[gn]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Gi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<gr.length&&n!==0&&n<gr[r].priority;r++);gr.splice(r,0,t),r===0&&by(t)}};var xy=e.version;if(xy!=="19.1.0")throw Error(s(527,xy,"19.1.0"));lt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var xT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{le=Yu.inject(xT),Ht=Yu}catch{}}return Xl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Hg,f=Gg,_=Fg,S=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=yy(t,1,!1,null,null,r,l,c,f,_,S,null),t[gn]=n.current,bf(t),new qf(n)},Xl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=Hg,_=Gg,S=Fg,C=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=yy(t,1,!0,n,r??null,l,c,f,_,S,C,B),n.context=vy(null),r=n.current,l=fn(),l=Hi(l),c=Ji(l),c.callback=null,Wi(r,c,l),r=l,n.current.lanes=r,ci(n,r),Wn(n),t[gn]=n.current,bf(t),new Qu(n)},Xl.version="19.1.0",Xl}var Ly;function LT(){if(Ly)return Ff.exports;Ly=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ff.exports=UT(),Ff.exports}var PT=LT();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Py="popstate";function zT(a={}){function e(s,o){let{pathname:h,search:d,hash:g}=s.location;return sd("",{pathname:h,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:ao(o)}return BT(e,i,null,a)}function re(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ai(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kT(){return Math.random().toString(36).substring(2,10)}function zy(a,e){return{usr:a.state,key:a.key,idx:e}}function sd(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Is(e):e,state:i,key:e&&e.key||s||kT()}}function ao({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Is(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function BT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:h=!1}=s,d=o.history,g="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){g="POP";let U=E(),Q=U==null?null:U-y;y=U,p&&p({action:g,location:K.location,delta:Q})}function w(U,Q){g="PUSH";let nt=sd(K.location,U,Q);y=E()+1;let it=zy(nt,y),pt=K.createHref(nt);try{d.pushState(it,"",pt)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;o.location.assign(pt)}h&&p&&p({action:g,location:K.location,delta:1})}function L(U,Q){g="REPLACE";let nt=sd(K.location,U,Q);y=E();let it=zy(nt,y),pt=K.createHref(nt);d.replaceState(it,"",pt),h&&p&&p({action:g,location:K.location,delta:0})}function H(U){return qT(U)}let K={get action(){return g},get location(){return a(o,d)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Py,b),p=U,()=>{o.removeEventListener(Py,b),p=null}},createHref(U){return e(o,U)},createURL:H,encodeLocation(U){let Q=H(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:w,replace:L,go(U){return d.go(U)}};return K}function qT(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:ao(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function t_(a,e,i="/"){return HT(a,e,i,!1)}function HT(a,e,i,s){let o=typeof e=="string"?Is(e):e,h=Ui(o.pathname||"/",i);if(h==null)return null;let d=e_(a);GT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=e1(h);g=WT(d[p],y,s)}return g}function e_(a,e=[],i=[],s=""){let o=(h,d,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};p.relativePath.startsWith("/")&&(re(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Mi([s,p.relativePath]),E=i.concat(p);h.children&&h.children.length>0&&(re(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),e_(h.children,e,E,y)),!(h.path==null&&!h.index)&&e.push({path:y,score:ZT(y,h.index),routesMeta:E})};return a.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))o(h,d);else for(let g of n_(h.path))o(h,d,g)}),e}function n_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return o?[h,""]:[h];let d=n_(s.join("/")),g=[];return g.push(...d.map(p=>p===""?h:[h,p].join("/"))),o&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function GT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:JT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var FT=/^:[\w-]+$/,QT=3,YT=2,KT=1,XT=10,$T=-2,ky=a=>a==="*";function ZT(a,e){let i=a.split("/"),s=i.length;return i.some(ky)&&(s+=$T),e&&(s+=YT),i.filter(o=>!ky(o)).reduce((o,h)=>o+(FT.test(h)?QT:h===""?KT:XT),s)}function JT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function WT(a,e,i=!1){let{routesMeta:s}=a,o={},h="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,E=h==="/"?e:e.slice(h.length)||"/",b=cc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=cc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Mi([h,b.pathname]),pathnameBase:a1(Mi([h,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(h=Mi([h,b.pathnameBase]))}return d}function cc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=t1(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let h=o[0],d=h.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},w)=>{if(E==="*"){let H=g[w]||"";d=h.slice(0,h.length-H.length).replace(/(.)\/+$/,"$1")}const L=g[w];return b&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:d,pattern:a}}function t1(a,e=!1,i=!0){ai(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function e1(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Ui(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function n1(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Is(a):a;return{pathname:i?i.startsWith("/")?i:i1(i,e):e,search:s1(s),hash:l1(o)}}function i1(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Xf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r1(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function i_(a){let e=r1(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function r_(a,e,i,s=!1){let o;typeof a=="string"?o=Is(a):(o={...a},re(!o.pathname||!o.pathname.includes("?"),Xf("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),Xf("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),Xf("#","search","hash",o)));let h=a===""||o.pathname==="",d=h?"/":o.pathname,g;if(d==null)g=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}g=b>=0?e[b]:"/"}let p=n1(o,g),y=d&&d!=="/"&&d.endsWith("/"),E=(h||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Mi=a=>a.join("/").replace(/\/\/+/g,"/"),a1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),s1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,l1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function o1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var a_=["POST","PUT","PATCH","DELETE"];new Set(a_);var u1=["GET",...a_];new Set(u1);var Vs=Y.createContext(null);Vs.displayName="DataRouter";var xc=Y.createContext(null);xc.displayName="DataRouterState";Y.createContext(!1);var s_=Y.createContext({isTransitioning:!1});s_.displayName="ViewTransition";var c1=Y.createContext(new Map);c1.displayName="Fetchers";var h1=Y.createContext(null);h1.displayName="Await";var li=Y.createContext(null);li.displayName="Navigation";var po=Y.createContext(null);po.displayName="Location";var Bi=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var Id=Y.createContext(null);Id.displayName="RouteError";function f1(a,{relative:e}={}){re(yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Y.useContext(li),{hash:o,pathname:h,search:d}=vo(a,{relative:e}),g=h;return i!=="/"&&(g=h==="/"?i:Mi([i,h])),s.createHref({pathname:g,search:d,hash:o})}function yo(){return Y.useContext(po)!=null}function Dr(){return re(yo(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(po).location}var l_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o_(a){Y.useContext(li).static||Y.useLayoutEffect(a)}function Os(){let{isDataRoute:a}=Y.useContext(Bi);return a?R1():d1()}function d1(){re(yo(),"useNavigate() may be used only in the context of a <Router> component.");let a=Y.useContext(Vs),{basename:e,navigator:i}=Y.useContext(li),{matches:s}=Y.useContext(Bi),{pathname:o}=Dr(),h=JSON.stringify(i_(s)),d=Y.useRef(!1);return o_(()=>{d.current=!0}),Y.useCallback((p,y={})=>{if(ai(d.current,l_),!d.current)return;if(typeof p=="number"){i.go(p);return}let E=r_(p,JSON.parse(h),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Mi([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,h,o,a])}Y.createContext(null);function vo(a,{relative:e}={}){let{matches:i}=Y.useContext(Bi),{pathname:s}=Dr(),o=JSON.stringify(i_(i));return Y.useMemo(()=>r_(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function m1(a,e){return u_(a,e)}function u_(a,e,i,s){re(yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Y.useContext(li),{matches:h}=Y.useContext(Bi),d=h[h.length-1],g=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",E=d&&d.route;{let Q=E&&E.path||"";c_(p,!E||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let b=Dr(),w;if(e){let Q=typeof e=="string"?Is(e):e;re(y==="/"||Q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),w=Q}else w=b;let L=w.pathname||"/",H=L;if(y!=="/"){let Q=y.replace(/^\//,"").split("/");H="/"+L.replace(/^\//,"").split("/").slice(Q.length).join("/")}let K=t_(a,{pathname:H});ai(E||K!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ai(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=_1(K&&K.map(Q=>Object.assign({},Q,{params:Object.assign({},g,Q.params),pathname:Mi([y,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?y:Mi([y,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,i,s);return e&&U?Y.createElement(po.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},U):U}function g1(){let a=b1(),e=o1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:h},"ErrorBoundary")," or"," ",Y.createElement("code",{style:h},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),i?Y.createElement("pre",{style:o},i):null,d)}var p1=Y.createElement(g1,null),y1=class extends Y.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?Y.createElement(Bi.Provider,{value:this.props.routeContext},Y.createElement(Id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v1({routeContext:a,match:e,children:i}){let s=Y.useContext(Vs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Bi.Provider,{value:a},i)}function _1(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,h=i?.errors;if(h!=null){let p=o.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);re(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:E,errors:b}=i,w=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||w){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let b,w=!1,L=null,H=null;i&&(b=h&&y.route.id?h[y.route.id]:void 0,L=y.route.errorElement||p1,d&&(g<0&&E===0?(c_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,H=null):g===E&&(w=!0,H=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),U=()=>{let Q;return b?Q=L:w?Q=H:y.route.Component?Q=Y.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,Y.createElement(v1,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:i!=null},children:Q})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Y.createElement(y1,{location:i.location,revalidation:i.revalidation,component:L,error:b,children:U(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):U()},null)}function Vd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E1(a){let e=Y.useContext(Vs);return re(e,Vd(a)),e}function T1(a){let e=Y.useContext(xc);return re(e,Vd(a)),e}function S1(a){let e=Y.useContext(Bi);return re(e,Vd(a)),e}function Od(a){let e=S1(a),i=e.matches[e.matches.length-1];return re(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function A1(){return Od("useRouteId")}function b1(){let a=Y.useContext(Id),e=T1("useRouteError"),i=Od("useRouteError");return a!==void 0?a:e.errors?.[i]}function R1(){let{router:a}=E1("useNavigate"),e=Od("useNavigate"),i=Y.useRef(!1);return o_(()=>{i.current=!0}),Y.useCallback(async(o,h={})=>{ai(i.current,l_),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...h}))},[a,e])}var By={};function c_(a,e,i){!e&&!By[a]&&(By[a]=!0,ai(!1,i))}Y.memo(w1);function w1({routes:a,future:e,state:i}){return u_(a,void 0,i,e)}function da(a){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x1({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:h=!1}){re(!yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=Y.useMemo(()=>({basename:d,navigator:o,static:h,future:{}}),[d,o,h]);typeof i=="string"&&(i=Is(i));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:w="default"}=i,L=Y.useMemo(()=>{let H=Ui(p,d);return H==null?null:{location:{pathname:H,search:y,hash:E,state:b,key:w},navigationType:s}},[d,p,y,E,b,w,s]);return ai(L!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:Y.createElement(li.Provider,{value:g},Y.createElement(po.Provider,{children:e,value:L}))}function C1({children:a,location:e}){return m1(ld(a),e)}function ld(a,e=[]){let i=[];return Y.Children.forEach(a,(s,o)=>{if(!Y.isValidElement(s))return;let h=[...e,o];if(s.type===Y.Fragment){i.push.apply(i,ld(s.props.children,h));return}re(s.type===da,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=ld(s.props.children,h)),i.push(d)}),i}var nc="get",ic="application/x-www-form-urlencoded";function Cc(a){return a!=null&&typeof a.tagName=="string"}function D1(a){return Cc(a)&&a.tagName.toLowerCase()==="button"}function N1(a){return Cc(a)&&a.tagName.toLowerCase()==="form"}function I1(a){return Cc(a)&&a.tagName.toLowerCase()==="input"}function V1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function O1(a,e){return a.button===0&&(!e||e==="_self")&&!V1(a)}var Ku=null;function M1(){if(Ku===null)try{new FormData(document.createElement("form"),0),Ku=!1}catch{Ku=!0}return Ku}var j1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $f(a){return a!=null&&!j1.has(a)?(ai(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ic}"`),null):a}function U1(a,e){let i,s,o,h,d;if(N1(a)){let g=a.getAttribute("action");s=g?Ui(g,e):null,i=a.getAttribute("method")||nc,o=$f(a.getAttribute("enctype"))||ic,h=new FormData(a)}else if(D1(a)||I1(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?Ui(p,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||nc,o=$f(a.getAttribute("formenctype"))||$f(g.getAttribute("enctype"))||ic,h=new FormData(g,a),!M1()){let{name:y,type:E,value:b}=a;if(E==="image"){let w=y?`${y}.`:"";h.append(`${w}x`,"0"),h.append(`${w}y`,"0")}else y&&h.append(y,b)}}else{if(Cc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=nc,s=null,o=ic,d=a}return h&&o==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Md(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function L1(a,e,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Ui(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function P1(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z1(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function k1(a,e,i){let s=await Promise.all(a.map(async o=>{let h=e.routes[o.route.id];if(h){let d=await P1(h,i);return d.links?d.links():[]}return[]}));return G1(s.flat(1).filter(z1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qy(a,e,i,s,o,h){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>i[y].pathname!==p.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==p.params["*"];return h==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):h==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function B1(a,e,{includeHydrateFallback:i}={}){return q1(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let h=[o.module];return o.clientActionModule&&(h=h.concat(o.clientActionModule)),o.clientLoaderModule&&(h=h.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(h=h.concat(o.hydrateFallbackModule)),o.imports&&(h=h.concat(o.imports)),h}).flat(1))}function q1(a){return[...new Set(a)]}function H1(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function G1(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let h=JSON.stringify(H1(o));return i.has(h)||(i.add(h),s.push({key:h,link:o})),s},[])}function h_(){let a=Y.useContext(Vs);return Md(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function F1(){let a=Y.useContext(xc);return Md(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var jd=Y.createContext(void 0);jd.displayName="FrameworkContext";function f_(){let a=Y.useContext(jd);return Md(a,"You must render this element inside a <HydratedRouter> element"),a}function Q1(a,e){let i=Y.useContext(jd),[s,o]=Y.useState(!1),[h,d]=Y.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,w=Y.useRef(null);Y.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let K=Q=>{Q.forEach(nt=>{d(nt.isIntersecting)})},U=new IntersectionObserver(K,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[a]),Y.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let L=()=>{o(!0)},H=()=>{o(!1),d(!1)};return i?a!=="intent"?[h,w,{}]:[h,w,{onFocus:$l(g,L),onBlur:$l(p,H),onMouseEnter:$l(y,L),onMouseLeave:$l(E,H),onTouchStart:$l(b,L)}]:[!1,w,{}]}function $l(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function Y1({page:a,...e}){let{router:i}=h_(),s=Y.useMemo(()=>t_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?Y.createElement(X1,{page:a,matches:s,...e}):null}function K1(a){let{manifest:e,routeModules:i}=f_(),[s,o]=Y.useState([]);return Y.useEffect(()=>{let h=!1;return k1(a,e,i).then(d=>{h||o(d)}),()=>{h=!0}},[a,e,i]),s}function X1({page:a,matches:e,...i}){let s=Dr(),{manifest:o,routeModules:h}=f_(),{basename:d}=h_(),{loaderData:g,matches:p}=F1(),y=Y.useMemo(()=>qy(a,e,p,o,s,"data"),[a,e,p,o,s]),E=Y.useMemo(()=>qy(a,e,p,o,s,"assets"),[a,e,p,o,s]),b=Y.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let H=new Set,K=!1;if(e.forEach(Q=>{let nt=o.routes[Q.route.id];!nt||!nt.hasLoader||(!y.some(it=>it.route.id===Q.route.id)&&Q.route.id in g&&h[Q.route.id]?.shouldRevalidate||nt.hasClientLoader?K=!0:H.add(Q.route.id))}),H.size===0)return[];let U=L1(a,d,"data");return K&&H.size>0&&U.searchParams.set("_routes",e.filter(Q=>H.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[U.pathname+U.search]},[d,g,s,o,y,e,a,h]),w=Y.useMemo(()=>B1(E,o),[E,o]),L=K1(E);return Y.createElement(Y.Fragment,null,b.map(H=>Y.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...i})),w.map(H=>Y.createElement("link",{key:H,rel:"modulepreload",href:H,...i})),L.map(({key:H,link:K})=>Y.createElement("link",{key:H,...K})))}function $1(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var d_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d_&&(window.__reactRouterVersion="7.7.1")}catch{}function Z1({basename:a,children:e,window:i}){let s=Y.useRef();s.current==null&&(s.current=zT({window:i,v5Compat:!0}));let o=s.current,[h,d]=Y.useState({action:o.action,location:o.location}),g=Y.useCallback(p=>{Y.startTransition(()=>d(p))},[d]);return Y.useLayoutEffect(()=>o.listen(g),[o,g]),Y.createElement(x1,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:o})}var m_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=Y.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:h,replace:d,state:g,target:p,to:y,preventScrollReset:E,viewTransition:b,...w},L){let{basename:H}=Y.useContext(li),K=typeof y=="string"&&m_.test(y),U,Q=!1;if(typeof y=="string"&&K&&(U=y,d_))try{let x=new URL(window.location.href),O=y.startsWith("//")?new URL(x.protocol+y):new URL(y),M=Ui(O.pathname,H);O.origin===x.origin&&M!=null?y=M+O.search+O.hash:Q=!0}catch{ai(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=f1(y,{relative:o}),[it,pt,rt]=Q1(s,w),ft=eS(y,{replace:d,state:g,target:p,preventScrollReset:E,relative:o,viewTransition:b});function V(x){e&&e(x),x.defaultPrevented||ft(x)}let R=Y.createElement("a",{...w,...rt,href:U||nt,onClick:Q||h?e:V,ref:$1(L,pt),target:p,"data-discover":!K&&i==="render"?"true":void 0});return it&&!K?Y.createElement(Y.Fragment,null,R,Y.createElement(Y1,{page:nt})):R});_s.displayName="Link";var J1=Y.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:h,to:d,viewTransition:g,children:p,...y},E){let b=vo(d,{relative:y.relative}),w=Dr(),L=Y.useContext(xc),{navigator:H,basename:K}=Y.useContext(li),U=L!=null&&sS(b)&&g===!0,Q=H.encodeLocation?H.encodeLocation(b).pathname:b.pathname,nt=w.pathname,it=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),it=it?it.toLowerCase():null,Q=Q.toLowerCase()),it&&K&&(it=Ui(it,K)||it);const pt=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let rt=nt===Q||!o&&nt.startsWith(Q)&&nt.charAt(pt)==="/",ft=it!=null&&(it===Q||!o&&it.startsWith(Q)&&it.charAt(Q.length)==="/"),V={isActive:rt,isPending:ft,isTransitioning:U},R=rt?e:void 0,x;typeof s=="function"?x=s(V):x=[s,rt?"active":null,ft?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let O=typeof h=="function"?h(V):h;return Y.createElement(_s,{...y,"aria-current":R,className:x,ref:E,style:O,to:d,viewTransition:g},typeof p=="function"?p(V):p)});J1.displayName="NavLink";var W1=Y.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:h,method:d=nc,action:g,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...w},L)=>{let H=rS(),K=aS(g,{relative:y}),U=d.toLowerCase()==="get"?"get":"post",Q=typeof g=="string"&&m_.test(g),nt=it=>{if(p&&p(it),it.defaultPrevented)return;it.preventDefault();let pt=it.nativeEvent.submitter,rt=pt?.getAttribute("formmethod")||d;H(pt||it.currentTarget,{fetcherKey:e,method:rt,navigate:i,replace:o,state:h,relative:y,preventScrollReset:E,viewTransition:b})};return Y.createElement("form",{ref:L,method:U,action:K,onSubmit:s?p:nt,...w,"data-discover":!Q&&a==="render"?"true":void 0})});W1.displayName="Form";function tS(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g_(a){let e=Y.useContext(Vs);return re(e,tS(a)),e}function eS(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:h,viewTransition:d}={}){let g=Os(),p=Dr(),y=vo(a,{relative:h});return Y.useCallback(E=>{if(O1(E,e)){E.preventDefault();let b=i!==void 0?i:ao(p)===ao(y);g(a,{replace:b,state:s,preventScrollReset:o,relative:h,viewTransition:d})}},[p,g,y,i,s,e,a,o,h,d])}var nS=0,iS=()=>`__${String(++nS)}__`;function rS(){let{router:a}=g_("useSubmit"),{basename:e}=Y.useContext(li),i=A1();return Y.useCallback(async(s,o={})=>{let{action:h,method:d,encType:g,formData:p,body:y}=U1(s,e);if(o.navigate===!1){let E=o.fetcherKey||iS();await a.fetch(E,i,o.action||h,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||h,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function aS(a,{relative:e}={}){let{basename:i}=Y.useContext(li),s=Y.useContext(Bi);re(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),h={...vo(a||".",{relative:e})},d=Dr();if(a==null){h.search=d.search;let g=new URLSearchParams(h.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(b=>b).forEach(b=>g.append("index",b));let E=g.toString();h.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:Mi([i,h.pathname])),ao(h)}function sS(a,{relative:e}={}){let i=Y.useContext(s_);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=g_("useViewTransitionState"),o=vo(a,{relative:e});if(!i.isTransitioning)return!1;let h=Ui(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Ui(i.nextLocation.pathname,s)||i.nextLocation.pathname;return cc(o.pathname,d)!=null||cc(o.pathname,h)!=null}const lS=()=>{};var Hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},oS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,E=h>>2,b=(h&3)<<4|g>>4;let w=(g&15)<<2|y>>6,L=y&63;p||(L=64,d||(w=64)),s.push(i[E],i[b],i[w],i[L])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(p_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):oS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||y==null||b==null)throw new uS;const w=h<<2|g>>4;if(s.push(w),y!==64){const L=g<<4&240|y>>2;if(s.push(L),b!==64){const H=y<<6&192|b;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class uS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cS=function(a){const e=p_(a);return y_.encodeByteArray(e,!0)},hc=function(a){return cS(a).replace(/\./g,"")},hS=function(a){try{return y_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=()=>fS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof Hy>"u")return;const a=Hy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},gS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&hS(a[1]);return e&&JSON.parse(e)},Ud=()=>{try{return lS()||dS()||mS()||gS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},pS=a=>Ud()?.emulatorHosts?.[a],yS=a=>{const e=pS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},v_=()=>Ud()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _S(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[hc(JSON.stringify(i)),hc(JSON.stringify(d)),""].join(".")}const to={};function TS(){const a={prod:[],emulator:[]};for(const e of Object.keys(to))to[e]?a.emulator.push(e):a.prod.push(e);return a}function SS(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Gy=!1;function AS(a,e){if(typeof window>"u"||typeof document>"u"||!Ld(window.location.host)||to[a]===e||to[a]||Gy)return;to[a]=e;function i(w){return`__firebase__banner__${w}`}const s="__firebase__banner",h=TS().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Gy=!0,d()},w}function E(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=SS(s),L=i("text"),H=document.getElementById(L)||document.createElement("span"),K=i("learnmore"),U=document.getElementById(K)||document.createElement("a"),Q=i("preprendIcon"),nt=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const it=w.element;g(it),E(U,K);const pt=y();p(nt,Q),it.append(nt,H,U,pt),document.body.appendChild(it)}h?(H.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RS(){const a=Ud()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wS(){return!RS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xS(){try{return typeof indexedDB=="object"}catch{return!1}}function CS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="FirebaseError";class Ms extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=DS,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,__.prototype.create)}}class __{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?NS(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ms(o,g,s)}}function NS(a,e){return a.replace(IS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const IS=/\{\$([^}]+)}/g;function fc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(Fy(h)&&Fy(d)){if(!fc(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Fy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(a){return a&&a._delegate?a._delegate:a}class so{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new vS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MS(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OS(a){return a===ma?void 0:a}function MS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new VS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const US={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},LS=Lt.INFO,PS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},zS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=PS[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E_{constructor(e){this.name=e,this._logLevel=LS,this._logHandler=zS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?US[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const kS=(a,e)=>e.some(i=>a instanceof i);let Qy,Yy;function BS(){return Qy||(Qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qS(){return Yy||(Yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T_=new WeakMap,od=new WeakMap,S_=new WeakMap,Zf=new WeakMap,Pd=new WeakMap;function HS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(vr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&T_.set(i,a)}).catch(()=>{}),Pd.set(e,a),e}function GS(a){if(od.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});od.set(a,e)}let ud={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return od.get(a);if(e==="objectStoreNames")return a.objectStoreNames||S_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function FS(a){ud=a(ud)}function QS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Jf(this),e,...i);return S_.set(s,e.sort?e.sort():[e]),vr(s)}:qS().includes(a)?function(...e){return a.apply(Jf(this),e),vr(T_.get(this))}:function(...e){return vr(a.apply(Jf(this),e))}}function YS(a){return typeof a=="function"?QS(a):(a instanceof IDBTransaction&&GS(a),kS(a,BS())?new Proxy(a,ud):a)}function vr(a){if(a instanceof IDBRequest)return HS(a);if(Zf.has(a))return Zf.get(a);const e=YS(a);return e!==a&&(Zf.set(a,e),Pd.set(e,a)),e}const Jf=a=>Pd.get(a);function KS(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=vr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(vr(d.result),p.oldVersion,p.newVersion,vr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const XS=["get","getKey","getAll","getAllKeys","count"],$S=["put","add","delete","clear"],Wf=new Map;function Ky(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=$S.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||XS.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Wf.set(e,h),h}FS(a=>({...a,get:(e,i,s)=>Ky(e,i)||a.get(e,i,s),has:(e,i)=>!!Ky(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function JS(a){return a.getComponent()?.type==="VERSION"}const cd="@firebase/app",Xy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new E_("@firebase/app"),WS="@firebase/app-compat",tA="@firebase/analytics-compat",eA="@firebase/analytics",nA="@firebase/app-check-compat",iA="@firebase/app-check",rA="@firebase/auth",aA="@firebase/auth-compat",sA="@firebase/database",lA="@firebase/data-connect",oA="@firebase/database-compat",uA="@firebase/functions",cA="@firebase/functions-compat",hA="@firebase/installations",fA="@firebase/installations-compat",dA="@firebase/messaging",mA="@firebase/messaging-compat",gA="@firebase/performance",pA="@firebase/performance-compat",yA="@firebase/remote-config",vA="@firebase/remote-config-compat",_A="@firebase/storage",EA="@firebase/storage-compat",TA="@firebase/firestore",SA="@firebase/ai",AA="@firebase/firestore-compat",bA="firebase",RA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]",wA={[cd]:"fire-core",[WS]:"fire-core-compat",[eA]:"fire-analytics",[tA]:"fire-analytics-compat",[iA]:"fire-app-check",[nA]:"fire-app-check-compat",[rA]:"fire-auth",[aA]:"fire-auth-compat",[sA]:"fire-rtdb",[lA]:"fire-data-connect",[oA]:"fire-rtdb-compat",[uA]:"fire-fn",[cA]:"fire-fn-compat",[hA]:"fire-iid",[fA]:"fire-iid-compat",[dA]:"fire-fcm",[mA]:"fire-fcm-compat",[gA]:"fire-perf",[pA]:"fire-perf-compat",[yA]:"fire-rc",[vA]:"fire-rc-compat",[_A]:"fire-gcs",[EA]:"fire-gcs-compat",[TA]:"fire-fst",[AA]:"fire-fst-compat",[SA]:"fire-vertex","fire-js":"fire-js",[bA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Map,xA=new Map,fd=new Map;function $y(a,e){try{a.container.addComponent(e)}catch(i){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function mc(a){const e=a.name;if(fd.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,a);for(const i of dc.values())$y(i,a);for(const i of xA.values())$y(i,a);return!0}function CA(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function DA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new __("app","Firebase",NA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=RA;function A_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:hd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw _r.create("bad-app-name",{appName:String(o)});if(i||(i=v_()),!i)throw _r.create("no-options");const h=dc.get(o);if(h){if(fc(i,h.options)&&fc(s,h.config))return h;throw _r.create("duplicate-app",{appName:o})}const d=new jS(o);for(const p of fd.values())d.addComponent(p);const g=new IA(i,s,d);return dc.set(o,g),g}function OA(a=hd){const e=dc.get(a);if(!e&&a===hd&&v_())return A_();if(!e)throw _r.create("no-app",{appName:a});return e}function Es(a,e,i){let s=wA[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(d.join(" "));return}mc(new so(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebase-heartbeat-database",jA=1,lo="firebase-heartbeat-store";let td=null;function b_(){return td||(td=KS(MA,jA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(lo)}catch(i){console.warn(i)}}}}).catch(a=>{throw _r.create("idb-open",{originalErrorMessage:a.message})})),td}async function UA(a){try{const i=(await b_()).transaction(lo),s=await i.objectStore(lo).get(R_(a));return await i.done,s}catch(e){if(e instanceof Ms)Li.warn(e.message);else{const i=_r.create("idb-get",{originalErrorMessage:e?.message});Li.warn(i.message)}}}async function Zy(a,e){try{const s=(await b_()).transaction(lo,"readwrite");await s.objectStore(lo).put(e,R_(a)),await s.done}catch(i){if(i instanceof Ms)Li.warn(i.message);else{const s=_r.create("idb-set",{originalErrorMessage:i?.message});Li.warn(s.message)}}}function R_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=1024,PA=30;class zA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>PA){const o=qA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jy(),{heartbeatsToSend:i,unsentEntries:s}=kA(this._heartbeatsCache.heartbeats),o=hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Li.warn(e),""}}}function Jy(){return new Date().toISOString().substring(0,10)}function kA(a,e=LA){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Wy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Wy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class BA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xS()?CS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await UA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Wy(a){return hc(JSON.stringify({version:2,heartbeats:a})).length}function qA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(a){mc(new so("platform-logger",e=>new ZS(e),"PRIVATE")),mc(new so("heartbeat",e=>new zA(e),"PRIVATE")),Es(cd,Xy,a),Es(cd,Xy,"esm2020"),Es("fire-js","")}HA("");var GA="firebase",FA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(GA,FA,"app");var tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,w_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function x(){}x.prototype=R.prototype,V.D=R.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(O,M,P){for(var D=Array(arguments.length-2),je=2;je<arguments.length;je++)D[je-2]=arguments[je];return R.prototype[M].apply(O,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,x){x||(x=0);var O=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)O[M]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(M=0;16>M;++M)O[M]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=V.g[0],x=V.g[1],M=V.g[2];var P=V.g[3],D=R+(P^x&(M^P))+O[0]+3614090360&4294967295;R=x+(D<<7&4294967295|D>>>25),D=P+(M^R&(x^M))+O[1]+3905402710&4294967295,P=R+(D<<12&4294967295|D>>>20),D=M+(x^P&(R^x))+O[2]+606105819&4294967295,M=P+(D<<17&4294967295|D>>>15),D=x+(R^M&(P^R))+O[3]+3250441966&4294967295,x=M+(D<<22&4294967295|D>>>10),D=R+(P^x&(M^P))+O[4]+4118548399&4294967295,R=x+(D<<7&4294967295|D>>>25),D=P+(M^R&(x^M))+O[5]+1200080426&4294967295,P=R+(D<<12&4294967295|D>>>20),D=M+(x^P&(R^x))+O[6]+2821735955&4294967295,M=P+(D<<17&4294967295|D>>>15),D=x+(R^M&(P^R))+O[7]+4249261313&4294967295,x=M+(D<<22&4294967295|D>>>10),D=R+(P^x&(M^P))+O[8]+1770035416&4294967295,R=x+(D<<7&4294967295|D>>>25),D=P+(M^R&(x^M))+O[9]+2336552879&4294967295,P=R+(D<<12&4294967295|D>>>20),D=M+(x^P&(R^x))+O[10]+4294925233&4294967295,M=P+(D<<17&4294967295|D>>>15),D=x+(R^M&(P^R))+O[11]+2304563134&4294967295,x=M+(D<<22&4294967295|D>>>10),D=R+(P^x&(M^P))+O[12]+1804603682&4294967295,R=x+(D<<7&4294967295|D>>>25),D=P+(M^R&(x^M))+O[13]+4254626195&4294967295,P=R+(D<<12&4294967295|D>>>20),D=M+(x^P&(R^x))+O[14]+2792965006&4294967295,M=P+(D<<17&4294967295|D>>>15),D=x+(R^M&(P^R))+O[15]+1236535329&4294967295,x=M+(D<<22&4294967295|D>>>10),D=R+(M^P&(x^M))+O[1]+4129170786&4294967295,R=x+(D<<5&4294967295|D>>>27),D=P+(x^M&(R^x))+O[6]+3225465664&4294967295,P=R+(D<<9&4294967295|D>>>23),D=M+(R^x&(P^R))+O[11]+643717713&4294967295,M=P+(D<<14&4294967295|D>>>18),D=x+(P^R&(M^P))+O[0]+3921069994&4294967295,x=M+(D<<20&4294967295|D>>>12),D=R+(M^P&(x^M))+O[5]+3593408605&4294967295,R=x+(D<<5&4294967295|D>>>27),D=P+(x^M&(R^x))+O[10]+38016083&4294967295,P=R+(D<<9&4294967295|D>>>23),D=M+(R^x&(P^R))+O[15]+3634488961&4294967295,M=P+(D<<14&4294967295|D>>>18),D=x+(P^R&(M^P))+O[4]+3889429448&4294967295,x=M+(D<<20&4294967295|D>>>12),D=R+(M^P&(x^M))+O[9]+568446438&4294967295,R=x+(D<<5&4294967295|D>>>27),D=P+(x^M&(R^x))+O[14]+3275163606&4294967295,P=R+(D<<9&4294967295|D>>>23),D=M+(R^x&(P^R))+O[3]+4107603335&4294967295,M=P+(D<<14&4294967295|D>>>18),D=x+(P^R&(M^P))+O[8]+1163531501&4294967295,x=M+(D<<20&4294967295|D>>>12),D=R+(M^P&(x^M))+O[13]+2850285829&4294967295,R=x+(D<<5&4294967295|D>>>27),D=P+(x^M&(R^x))+O[2]+4243563512&4294967295,P=R+(D<<9&4294967295|D>>>23),D=M+(R^x&(P^R))+O[7]+1735328473&4294967295,M=P+(D<<14&4294967295|D>>>18),D=x+(P^R&(M^P))+O[12]+2368359562&4294967295,x=M+(D<<20&4294967295|D>>>12),D=R+(x^M^P)+O[5]+4294588738&4294967295,R=x+(D<<4&4294967295|D>>>28),D=P+(R^x^M)+O[8]+2272392833&4294967295,P=R+(D<<11&4294967295|D>>>21),D=M+(P^R^x)+O[11]+1839030562&4294967295,M=P+(D<<16&4294967295|D>>>16),D=x+(M^P^R)+O[14]+4259657740&4294967295,x=M+(D<<23&4294967295|D>>>9),D=R+(x^M^P)+O[1]+2763975236&4294967295,R=x+(D<<4&4294967295|D>>>28),D=P+(R^x^M)+O[4]+1272893353&4294967295,P=R+(D<<11&4294967295|D>>>21),D=M+(P^R^x)+O[7]+4139469664&4294967295,M=P+(D<<16&4294967295|D>>>16),D=x+(M^P^R)+O[10]+3200236656&4294967295,x=M+(D<<23&4294967295|D>>>9),D=R+(x^M^P)+O[13]+681279174&4294967295,R=x+(D<<4&4294967295|D>>>28),D=P+(R^x^M)+O[0]+3936430074&4294967295,P=R+(D<<11&4294967295|D>>>21),D=M+(P^R^x)+O[3]+3572445317&4294967295,M=P+(D<<16&4294967295|D>>>16),D=x+(M^P^R)+O[6]+76029189&4294967295,x=M+(D<<23&4294967295|D>>>9),D=R+(x^M^P)+O[9]+3654602809&4294967295,R=x+(D<<4&4294967295|D>>>28),D=P+(R^x^M)+O[12]+3873151461&4294967295,P=R+(D<<11&4294967295|D>>>21),D=M+(P^R^x)+O[15]+530742520&4294967295,M=P+(D<<16&4294967295|D>>>16),D=x+(M^P^R)+O[2]+3299628645&4294967295,x=M+(D<<23&4294967295|D>>>9),D=R+(M^(x|~P))+O[0]+4096336452&4294967295,R=x+(D<<6&4294967295|D>>>26),D=P+(x^(R|~M))+O[7]+1126891415&4294967295,P=R+(D<<10&4294967295|D>>>22),D=M+(R^(P|~x))+O[14]+2878612391&4294967295,M=P+(D<<15&4294967295|D>>>17),D=x+(P^(M|~R))+O[5]+4237533241&4294967295,x=M+(D<<21&4294967295|D>>>11),D=R+(M^(x|~P))+O[12]+1700485571&4294967295,R=x+(D<<6&4294967295|D>>>26),D=P+(x^(R|~M))+O[3]+2399980690&4294967295,P=R+(D<<10&4294967295|D>>>22),D=M+(R^(P|~x))+O[10]+4293915773&4294967295,M=P+(D<<15&4294967295|D>>>17),D=x+(P^(M|~R))+O[1]+2240044497&4294967295,x=M+(D<<21&4294967295|D>>>11),D=R+(M^(x|~P))+O[8]+1873313359&4294967295,R=x+(D<<6&4294967295|D>>>26),D=P+(x^(R|~M))+O[15]+4264355552&4294967295,P=R+(D<<10&4294967295|D>>>22),D=M+(R^(P|~x))+O[6]+2734768916&4294967295,M=P+(D<<15&4294967295|D>>>17),D=x+(P^(M|~R))+O[13]+1309151649&4294967295,x=M+(D<<21&4294967295|D>>>11),D=R+(M^(x|~P))+O[4]+4149444226&4294967295,R=x+(D<<6&4294967295|D>>>26),D=P+(x^(R|~M))+O[11]+3174756917&4294967295,P=R+(D<<10&4294967295|D>>>22),D=M+(R^(P|~x))+O[2]+718787259&4294967295,M=P+(D<<15&4294967295|D>>>17),D=x+(P^(M|~R))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var x=R-this.blockSize,O=this.B,M=this.h,P=0;P<R;){if(M==0)for(;P<=x;)o(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<R;)if(O[M++]=V.charCodeAt(P++),M==this.blockSize){o(this,O),M=0;break}}else for(;P<R;)if(O[M++]=V[P++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var x=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=x&255,x/=256;for(this.u(V),V=Array(16),R=x=0;4>R;++R)for(var O=0;32>O;O+=8)V[x++]=this.g[R]>>>O&255;return V};function h(V,R){var x=g;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=R(V)}function d(V,R){this.h=R;for(var x=[],O=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;O&&P==R||(x[M]=P,O=!1)}this.g=x}var g={};function p(V){return-128<=V&&128>V?h(V,function(R){return new d([R|0],0>R?-1:0)}):new d([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return U(y(-V));for(var R=[],x=1,O=0;V>=x;O++)R[O]=V/x|0,x*=4294967296;return new d(R,0)}function E(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return U(E(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(R,8)),O=b,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),D=parseInt(V.substring(M,M+P),R);8>P?(P=y(Math.pow(R,P)),O=O.j(P).add(y(D))):(O=O.j(x),O=O.add(y(D)))}return O}var b=p(0),w=p(1),L=p(16777216);a=d.prototype,a.m=function(){if(K(this))return-U(this).m();for(var V=0,R=1,x=0;x<this.g.length;x++){var O=this.i(x);V+=(0<=O?O:4294967296+O)*R,R*=4294967296}return V},a.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(H(this))return"0";if(K(this))return"-"+U(this).toString(V);for(var R=y(Math.pow(V,6)),x=this,O="";;){var M=pt(x,R).g;x=Q(x,M.j(R));var P=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=M,H(x))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},a.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function H(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function K(V){return V.h==-1}a.l=function(V){return V=Q(this,V),K(V)?-1:H(V)?0:1};function U(V){for(var R=V.g.length,x=[],O=0;O<R;O++)x[O]=~V.g[O];return new d(x,~V.h).add(w)}a.abs=function(){return K(this)?U(this):this},a.add=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],O=0,M=0;M<=R;M++){var P=O+(this.i(M)&65535)+(V.i(M)&65535),D=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=D>>>16,P&=65535,D&=65535,x[M]=D<<16|P}return new d(x,x[x.length-1]&-2147483648?-1:0)};function Q(V,R){return V.add(U(R))}a.j=function(V){if(H(this)||H(V))return b;if(K(this))return K(V)?U(this).j(U(V)):U(U(this).j(V));if(K(V))return U(this.j(U(V)));if(0>this.l(L)&&0>V.l(L))return y(this.m()*V.m());for(var R=this.g.length+V.g.length,x=[],O=0;O<2*R;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var P=this.i(O)>>>16,D=this.i(O)&65535,je=V.i(M)>>>16,se=V.i(M)&65535;x[2*O+2*M]+=D*se,nt(x,2*O+2*M),x[2*O+2*M+1]+=P*se,nt(x,2*O+2*M+1),x[2*O+2*M+1]+=D*je,nt(x,2*O+2*M+1),x[2*O+2*M+2]+=P*je,nt(x,2*O+2*M+2)}for(O=0;O<R;O++)x[O]=x[2*O+1]<<16|x[2*O];for(O=R;O<2*R;O++)x[O]=0;return new d(x,0)};function nt(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function it(V,R){this.g=V,this.h=R}function pt(V,R){if(H(R))throw Error("division by zero");if(H(V))return new it(b,b);if(K(V))return R=pt(U(V),R),new it(U(R.g),U(R.h));if(K(R))return R=pt(V,U(R)),new it(U(R.g),R.h);if(30<V.g.length){if(K(V)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var x=w,O=R;0>=O.l(V);)x=rt(x),O=rt(O);var M=ft(x,1),P=ft(O,1);for(O=ft(O,2),x=ft(x,2);!H(O);){var D=P.add(O);0>=D.l(V)&&(M=M.add(x),P=D),O=ft(O,1),x=ft(x,1)}return R=Q(V,M.j(R)),new it(M,R)}for(M=b;0<=V.l(R);){for(x=Math.max(1,Math.floor(V.m()/R.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=y(x),D=P.j(R);K(D)||0<D.l(V);)x-=O,P=y(x),D=P.j(R);H(P)&&(P=w),M=M.add(P),V=Q(V,D)}return new it(M,V)}a.A=function(V){return pt(this,V).h},a.and=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],O=0;O<R;O++)x[O]=this.i(O)&V.i(O);return new d(x,this.h&V.h)},a.or=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],O=0;O<R;O++)x[O]=this.i(O)|V.i(O);return new d(x,this.h|V.h)},a.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],O=0;O<R;O++)x[O]=this.i(O)^V.i(O);return new d(x,this.h^V.h)};function rt(V){for(var R=V.g.length+1,x=[],O=0;O<R;O++)x[O]=V.i(O)<<1|V.i(O-1)>>>31;return new d(x,V.h)}function ft(V,R){var x=R>>5;R%=32;for(var O=V.g.length-x,M=[],P=0;P<O;P++)M[P]=0<R?V.i(P+x)>>>R|V.i(P+x+1)<<32-R:V.i(P+x);return new d(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,w_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Er=d}).apply(typeof tv<"u"?tv:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x_,Zl,C_,rc,dd,D_,N_,I_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in v))break t;v=v[z]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var v=0,A=!1,z={next:function(){if(!A&&v<u.length){var F=v++;return{value:m(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function b(u,m,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function w(u,m,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,w.apply(null,arguments)}function L(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function H(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,z,F){for(var st=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)st[Ot-2]=arguments[Ot];return m.prototype[z].apply(A,st)}}function K(u){const m=u.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function U(u,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const z=u.length||0,F=A.length||0;u.length=z+F;for(let st=0;st<F;st++)u[z+st]=A[st]}else u.push(A)}}class Q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){return/^[\s\xa0]*$/.test(u)}function it(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function pt(u){return pt[" "](u),u}pt[" "]=function(){};var rt=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function ft(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function V(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)u[v]=A[v];for(let F=0;F<x.length;F++)v=x[F],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function P(u){g.setTimeout(()=>{throw u},0)}function D(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class je{constructor(){this.h=this.g=null}add(m,v){const A=se.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new Q(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,mt=!1,zt=new je,N=()=>{const u=g.Promise.resolve(void 0);lt=()=>{u.then(et)}};var et=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(v){P(v)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}mt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function xt(u,m){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(rt){t:{try{pt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xt.aa.h.call(this)}}H(xt,at);var St={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(u,m,v,A,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oi(u){this.src=u,this.g={},this.h=0}oi.prototype.add=function(u,m,v,A,z){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var st=Ir(u,m,A,z);return-1<st?(m=u[st],v||(m.fa=!1)):(m=new Ln(m,this.src,F,!!A,z),m.fa=v,u.push(m)),m};function Nr(u,m){var v=m.type;if(v in u.g){var A=u.g[v],z=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=z)&&Array.prototype.splice.call(A,z,1),F&&(qi(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ir(u,m,v,A){for(var z=0;z<u.length;++z){var F=u[z];if(!F.da&&F.listener==m&&F.capture==!!v&&F.ha==A)return z}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),ks={};function bo(u,m,v,A,z){if(Array.isArray(m)){for(var F=0;F<m.length;F++)bo(u,m[F],v,A,z);return null}return v=Ro(v),u&&u[xe]?u.K(m,v,y(A)?!!A.capture:!1,z):mn(u,m,v,!1,A,z)}function mn(u,m,v,A,z,F){if(!m)throw Error("Invalid event type");var st=y(z)?!!z.capture:!!z,Ot=ba(u);if(Ot||(u[Vr]=Ot=new oi(u)),v=Ot.add(m,v,A,st,F),v.proxy)return v;if(A=qc(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)yt||(z=st),z===void 0&&(z=!1),u.addEventListener(m.toString(),A,z);else if(u.attachEvent)u.attachEvent(Or(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qc(){function u(v){return m.call(u.src,u.listener,v)}const m=Hc;return u}function Bs(u,m,v,A,z){if(Array.isArray(m))for(var F=0;F<m.length;F++)Bs(u,m[F],v,A,z);else A=y(A)?!!A.capture:!!A,v=Ro(v),u&&u[xe]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],v=Ir(F,v,A,z),-1<v&&(qi(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=ba(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ir(m,v,A,z)),(v=-1<u?m[u]:null)&&Aa(v))}function Aa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xe])Nr(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Or(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ba(m))?(Nr(v,u),v.h==0&&(v.src=null,m[Vr]=null)):qi(u)}}}function Or(u){return u in ks?ks[u]:ks[u]="on"+u}function Hc(u,m){if(u.da)u=!0;else{m=new xt(m,this);var v=u.listener,A=u.ha||u.src;u.fa&&Aa(u),u=v.call(A,m)}return u}function ba(u){return u=u[Vr],u instanceof oi?u:null}var qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ro(u){return typeof u=="function"?u:(u[qs]||(u[qs]=function(m){return u.handleEvent(m)}),u[qs])}function le(){ot.call(this),this.i=new oi(this),this.M=this,this.F=null}H(le,ot),le.prototype[xe]=!0,le.prototype.removeEventListener=function(u,m,v,A){Bs(this,u,m,v,A)};function Ht(u,m){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new at(m,u);else if(m instanceof at)m.target=m.target||u;else{var z=m;m=new at(A,u),O(m,z)}if(z=!0,v)for(var F=v.length-1;0<=F;F--){var st=m.g=v[F];z=an(st,A,!0,m)&&z}if(st=m.g=u,z=an(st,A,!0,m)&&z,z=an(st,A,!1,m)&&z,v)for(F=0;F<v.length;F++)st=m.g=v[F],z=an(st,A,!1,m)&&z}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],A=0;A<v.length;A++)qi(v[A]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},le.prototype.L=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function an(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,F=0;F<m.length;++F){var st=m[F];if(st&&!st.da&&st.capture==v){var Ot=st.listener,Se=st.ha||st.src;st.fa&&Nr(u.i,st),z=Ot.call(Se,A)!==!1&&z}}return z&&!A.defaultPrevented}function Ge(u,m,v){if(typeof u=="function")v&&(u=w(u,v));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function wo(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,wo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Gc extends ot{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:wo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){ot.call(this),this.h=u,this.g={}}H(Mr,ot);var jr=[];function Ur(u){ft(u.g,function(m,v){this.g.hasOwnProperty(v)&&Aa(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Ur(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,Ra=g.JSON.parse,Lr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Hs(){}Hs.prototype.h=null;function Gs(u){return u.h||(u.h=u.i())}function Fs(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){at.call(this,"d")}H(ci,at);function Qs(){at.call(this,"c")}H(Qs,at);var Pn={},Ys=null;function Hi(){return Ys=Ys||new le}Pn.La="serverreachability";function wa(u){at.call(this,Pn.La,u)}H(wa,at);function Gi(u){const m=Hi();Ht(m,new wa(m))}Pn.STAT_EVENT="statevent";function xo(u,m){at.call(this,Pn.STAT_EVENT,u),this.stat=m}H(xo,at);function ee(u){const m=Hi();Ht(m,new xo(m,u))}Pn.Ma="timingevent";function Te(u,m){at.call(this,Pn.Ma,u),this.size=m}H(Te,at);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Ks(u,m,v,A,z,F){u.info(function(){if(u.g)if(F)for(var st="",Ot=F.split("&"),Se=0;Se<Ot.length;Se++){var Mt=Ot[Se].split("=");if(1<Mt.length){var De=Mt[0];Mt=Mt[1];var Ae=De.split("_");st=2<=Ae.length&&Ae[1]=="type"?st+(De+"="+Mt+"&"):st+(De+"=redacted&")}}else st=null;else st=F;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+v+`
`+st})}function Fc(u,m,v,A,z,F,st){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+v+`
`+F+" "+st})}function Fi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pr(u,v)+(A?" "+A:"")})}function Co(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Pr(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var F=z[0];if(F!="noop"&&F!="stop"&&F!="close")for(var st=1;st<z.length;st++)z[st]=""}}}}return Dn(v)}catch{return m}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function kn(){}H(kn,Hs),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},zn=new kn;function $e(u,m,v,A){this.j=u,this.i=m,this.l=v,this.R=A||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Xs={},xa={};function Nn(u,m,v){u.L=1,u.v=Hr(sn(m)),u.m=v,u.P=!0,fi(u,null)}function fi(u,m){u.F=Date.now(),zr(u),u.A=sn(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),el(v.i,"t",A),u.C=0,v=u.j.J,u.h=new ce,u.g=Go(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Gc(w(u.Y,u,u.g),u.O)),m=u.U,v=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(jr[0]=z.toString()),z=jr);for(var F=0;F<z.length;F++){var st=bo(v,z[F],A||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Gi(),Ks(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=_n(this.g);var m=this.g.Ba();const Ei=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Uo(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Ei?Gi(3):Gi(2)),Yi(this);var v=this.g.Z();this.X=v;e:if(Do(this)){var A=Uo(this.g);u="";var z=A.length,F=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Bn(this);var st="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(F&&m==z-1)});A.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=v==200,Fc(this.i,this.u,this.A,this.l,this.R,Ae,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Se=this.g;if((Ot=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Ot)){var Mt=Ot;break e}}Mt=null}if(v=Mt)Fi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kr(this,v);else{this.o=!1,this.s=3,ee(12),Ue(this),Bn(this);break t}}if(this.P){v=!0;let Le;for(;!this.J&&this.C<st.length;)if(Le=No(this,st),Le==xa){Ae==4&&(this.s=4,ee(14),v=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Xs){this.s=4,ee(15),Fi(this.i,this.l,st,"[Invalid Chunk]"),v=!1;break}else Fi(this.i,this.l,Le,null),kr(this,Le);if(Do(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||st.length!=0||this.h.h||(this.s=1,ee(16),v=!1),this.o=this.o&&v,!v)Fi(this.i,this.l,st,"[Invalid Chunked Response]"),Ue(this),Bn(this);else if(0<st.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Zr(De),De.M=!0,ee(11))}}else Fi(this.i,this.l,st,null),kr(this,st);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?Bo(this.j,this):(this.o=!1,zr(this)))}else $c(this.g),v==400&&0<st.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ue(this),Bn(this)}}}catch{}finally{}};function Do(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function No(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?xa:(v=Number(m.substring(v,A)),isNaN(v)?Xs:(A+=1,A+v>m.length?xa:(m=m.slice(A,A+v),u.C=A+v,m)))}$e.prototype.cancel=function(){this.J=!0,Ue(this)};function zr(u){u.S=Date.now()+u.I,Io(u,u.I)}function Io(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(w(u.ba,u),m)}function Yi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Co(this.i,this.A),this.L!=2&&(Gi(),ee(17)),Ue(this),this.s=2,Bn(this)):Io(this,this.S-u)};function Bn(u){u.j.G==0||u.J||Bo(u.j,u)}function Ue(u){Yi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ur(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function kr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||$s(v.h,u))){if(!u.K&&$s(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)za(v),La(v);else break t;sl(v),ee(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=me(w(v.Za,v),6e3));if(1>=Da(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else _i(v,11)}else if((u.K||v.g==u)&&za(v),!nt(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(v.T=Mt[0],Mt=Mt[1],v.G==2)if(Mt[0]=="c"){v.K=Mt[1],v.ia=Mt[2];const De=Mt[3];De!=null&&(v.la=De,v.j.info("VER="+v.la));const Ae=Mt[4];Ae!=null&&(v.Aa=Ae,v.j.info("SVER="+v.Aa));const Ei=Mt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(A=1.5*Ei,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Le=u.g;if(Le){const Kn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var F=A.h;F.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Na(F,F.h),F.h=null))}if(A.D){const ol=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(A.ya=ol,Qt(A.I,A.D,ol))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var st=u;if(A.qa=Ho(A,A.J?A.ia:null,A.W),st.K){Ze(A.h,st);var Ot=st,Se=A.L;Se&&(Ot.I=Se),Ot.B&&(Yi(Ot),zr(Ot)),A.g=st}else zo(A);0<v.i.length&&Pa(v)}else Mt[0]!="stop"&&Mt[0]!="close"||_i(v,7);else v.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?_i(v,7):rl(v):Mt[0]!="noop"&&v.l&&v.l.ta(Mt),v.v=0)}}Gi(4)}catch{}}var Vo=class{constructor(u,m){this.g=u,this.map=m}};function di(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ca(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Da(u){return u.h?1:u.g?u.g.size:0}function $s(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Na(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}di.prototype.cancel=function(){if(this.i=Zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return K(u.i)}function Qc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,A=0;A<v;A++)m.push(u[A]);return m}m=[],v=0;for(A in u)m[v++]=u[A];return m}function Ia(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const A in u)m[v++]=A;return m}}}function Js(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ia(u),A=Qc(u),z=A.length,F=0;F<z;F++)m.call(void 0,A[F],v&&v[F],u)}var Br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),z=null;if(0<=A){var F=u[v].substring(0,A);z=u[v].substring(A+1)}else F=u[v];m(F,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,qr(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.s),this.l=u.l;var m=u.i,v=new gi;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),mi(this,v),this.m=u.m}else u&&(m=String(u).match(Br))?(this.h=!1,qr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),Ki(this,m[4]),this.l=pn(m[5]||"",!0),mi(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Gr(m,Ws,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Gr(m,Ws,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Gr(v,v.charAt(0)=="/"?Kc:tl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Gr(v,Va)),u.join("")};function sn(u){return new ge(u)}function qr(u,m,v){u.j=v?pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function mi(u,m,v){m instanceof gi?(u.i=m,Mo(u.i,u.h)):(v||(m=Gr(m,Xc)),u.i=new gi(m,u.h))}function Qt(u,m,v){u.i.set(m,v)}function Hr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Oo),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Oo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ws=/[#\/\?@]/g,tl=/[#\?:]/g,Kc=/[#\?]/g,Xc=/[#\?@]/g,Va=/#/g;function gi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Yc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=gi.prototype,a.add=function(u,m){yn(this),this.i=null,u=qn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function pi(u,m){yn(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return yn(u),m=qn(u,m),u.g.has(m)}a.forEach=function(u,m){yn(this),this.g.forEach(function(v,A){v.forEach(function(z){u.call(m,z,A,this)},this)},this)},a.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const z=u[A];for(let F=0;F<z.length;F++)v.push(m[A])}return v},a.V=function(u){yn(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},a.set=function(u,m){return yn(this),this.i=null,u=qn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function el(u,m,v){pi(u,m),0<v.length&&(u.i=null,u.g.set(qn(u,m),K(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const F=encodeURIComponent(String(A)),st=this.V(A);for(A=0;A<st.length;A++){var z=F;st[A]!==""&&(z+="="+encodeURIComponent(String(st[A]))),u.push(z)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Mo(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(pi(this,A),el(this,z,v))},u)),u.j=m}function Fr(u,m){const v=new gn;if(g.Image){const A=new Image;A.onload=L(vn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=L(vn,v,"TestLoadImage: error",!1,m,A),A.onabort=L(vn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=L(vn,v,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function In(u,m){const v=new gn,A=new AbortController,z=setTimeout(()=>{A.abort(),vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(z),F.ok?vn(v,"TestPingServer: ok",!0,m):vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),vn(v,"TestPingServer: error",!1,m)})}function vn(u,m,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Qr(){this.g=new Lr}function Hn(u,m,v){const A=v||"";try{Js(u,function(z,F){let st=z;y(z)&&(st=Dn(z)),m.push(A+F+"="+encodeURIComponent(st))})}catch(z){throw m.push(A+"type="+encodeURIComponent("_badmap")),z}}function Xi(u){this.l=u.Ub||null,this.j=u.eb||!1}H(Xi,Hs),Xi.prototype.g=function(){return new vi(this.l,this.j)},Xi.prototype.i=function(u){return function(){return u}}({});function vi(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(vi,le),a=vi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&nl(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},a.Qa=function(u){this.g&&(this.response=u,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function il(u){let m="";return ft(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ce(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=il(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Qt(u,m,v))}function Bt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(Bt,le);var Oa=/^https?$/i,Yr=["POST","PUT"];a=Bt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Gs(this.o):Gs(zn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){jo(this,F);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Yr,m,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,st]of v)this.g.setRequestHeader(F,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kr(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){jo(this,F)}};function jo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ma(u),Qn(u)}function Ma(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),Bt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},a.bb=function(){ja(this)};function ja(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),_n(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=st===0){var z=String(u.D).match(Br)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),A=!Oa.test(z?z.toLowerCase():"")}v=A}if(v)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var F=2<_n(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Ma(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Kr(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{v.onreadystatechange=A}catch{}}}function Kr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ra(m)}};function Uo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $c(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(nt(u[A]))continue;var v=M(u[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=m[z]||[];m[z]=F,F.push(v)}V(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ua(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,u),this.cb=Xr("retryDelaySeedMs",1e4,u),this.Wa=Xr("forwardChannelMaxRetries",2,u),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new di(u&&u.concurrentRequestLimit),this.Da=new Qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ua.prototype,a.la=8,a.G=1,a.connect=function(u,m,v,A){ee(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Ho(this,null,this.W),Pa(this)};function rl(u){if(Lo(u),u.G==3){var m=u.U++,v=sn(u.I);if(Qt(v,"SID",u.K),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),$r(u,v),m=new $e(u,u.j,m),m.L=2,m.v=Hr(sn(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=Go(m.j,null),m.g.ea(m.v)),m.F=Date.now(),zr(m)}qo(u)}function La(u){u.g&&(Zr(u),u.g.cancel(),u.g=null)}function Lo(u){La(u),u.u&&(g.clearTimeout(u.u),u.u=null),za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Pa(u){if(!Ca(u.h)&&!u.s){u.s=!0;var m=u.Ga;lt||N(),mt||(lt(),mt=!0),zt.add(m,u),u.B=0}}function Zc(u,m){return Da(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(w(u.Ga,u,m),ll(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new $e(this,this.j,u);let F=this.o;if(this.S&&(F?(F=R(F),O(F,this.S)):F=this.S),this.m!==null||this.O||(z.H=F,F=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Po(this,z,m),v=sn(this.I),Qt(v,"RID",u),Qt(v,"CVER",22),this.D&&Qt(v,"X-HTTP-Session-Id",this.D),$r(this,v),F&&(this.O?m="headers="+encodeURIComponent(String(il(F)))+"&"+m:this.m&&Ce(v,this.m,F)),Na(this.h,z),this.Ua&&Qt(v,"TYPE","init"),this.P?(Qt(v,"$req",m),Qt(v,"SID","null"),z.T=!0,Nn(z,v,null)):Nn(z,v,m),this.G=2}}else this.G==3&&(u?al(this,u):this.i.length==0||Ca(this.h)||al(this))};function al(u,m){var v;m?v=m.l:v=u.U++;const A=sn(u.I);Qt(A,"SID",u.K),Qt(A,"RID",v),Qt(A,"AID",u.T),$r(u,A),u.m&&u.o&&Ce(A,u.m,u.o),v=new $e(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Po(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Na(u.h,v),Nn(v,A,m)}function $r(u,m){u.H&&ft(u.H,function(v,A){Qt(m,A,v)}),u.l&&Js({},function(v,A){Qt(m,A,v)})}function Po(u,m,v){v=Math.min(u.i.length,v);var A=u.l?w(u.l.Na,u.l,u):null;t:{var z=u.i;let F=-1;for(;;){const st=["count="+v];F==-1?0<v?(F=z[0].g,st.push("ofs="+F)):F=0:st.push("ofs="+F);let Ot=!0;for(let Se=0;Se<v;Se++){let Mt=z[Se].g;const De=z[Se].map;if(Mt-=F,0>Mt)F=Math.max(0,z[Se].g-100),Ot=!1;else try{Hn(De,st,"req"+Mt+"_")}catch{A&&A(De)}}if(Ot){A=st.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,A}function zo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;lt||N(),mt||(lt(),mt=!0),zt.add(m,u),u.v=0}}function sl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(w(u.Fa,u),ll(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,ko(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(w(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),La(this),ko(this))};function Zr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function ko(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),$r(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Hr(sn(m)),v.m=null,v.P=!0,fi(v,u)}a.Za=function(){this.C!=null&&(this.C=null,La(this),sl(this),ee(19))};function za(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Bo(u,m){var v=null;if(u.g==m){za(u),Zr(u),u.g=null;var A=2}else if($s(u.h,m))v=m.D,Ze(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;A=Hi(),Ht(A,new Te(A,v)),Pa(u)}else zo(u);else if(z=m.s,z==3||z==0&&0<m.X||!(A==1&&Zc(u,m)||A==2&&sl(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function ll(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=w(u.fb,u),A=u.Xa;const z=!A;A=new ge(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||qr(A,"https"),Hr(A),z?Fr(A.toString(),v):In(A.toString(),v)}else ee(2);u.G=0,u.l&&u.l.sa(m),qo(u),Lo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function qo(u){if(u.G=0,u.ka=[],u.l){const m=Zs(u.h);(m.length!=0||u.i.length!=0)&&(U(u.ka,m),U(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Ho(u,m,v){var A=v instanceof ge?sn(v):new ge(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ki(A,A.s);else{var z=g.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var F=new ge(null);A&&qr(F,A),m&&(F.g=m),z&&Ki(F,z),v&&(F.l=v),A=F}return v=u.D,m=u.ya,v&&m&&Qt(A,v,m),Qt(A,"VER",u.la),$r(u,A),A}function Go(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Xi({eb:v})):new Bt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}a=Fo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ka(){}ka.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){le.call(this),this.g=new Ua(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!nt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!nt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}H(Je,le),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){rl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Dn(u),u=v);m.i.push(new Vo(m.Ya++,u)),m.G==3&&Pa(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,Je.aa.N.call(this)};function Qo(u){ci.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}H(Qo,ci);function Yo(){Qs.call(this),this.status=1}H(Yo,Qs);function Yn(u){this.g=u}H(Yn,Fo),Yn.prototype.ua=function(){Ht(this.g,"a")},Yn.prototype.ta=function(u){Ht(this.g,new Qo(u))},Yn.prototype.sa=function(u){Ht(this.g,new Yo)},Yn.prototype.ra=function(){Ht(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,I_=function(){return new ka},N_=function(){return Hi()},D_=Pn,dd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,rc=Qi,hi.COMPLETE="complete",C_=hi,Fs.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",le.prototype.listen=le.prototype.K,Zl=Fs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,x_=Bt}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore",nv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new E_("@firebase/firestore");function gs(){return pa.logLevel}function ct(a,...e){if(pa.logLevel<=Lt.DEBUG){const i=e.map(zd);pa.debug(`Firestore (${js}): ${a}`,...i)}}function Pi(a,...e){if(pa.logLevel<=Lt.ERROR){const i=e.map(zd);pa.error(`Firestore (${js}): ${a}`,...i)}}function Rs(a,...e){if(pa.logLevel<=Lt.WARN){const i=e.map(zd);pa.warn(`Firestore (${js}): ${a}`,...i)}}function zd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,V_(a,s,i)}function V_(a,e,i){let s=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Pi(s),new Error(s)}function qt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||V_(e,o,s)}function bt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class YA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class KA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Tr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=h;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Tr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new O_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class XA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $A{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new XA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,DA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new iv(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function It(a,e){return a<e?-1:a>e?1:0}function md(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),h=e.charAt(s);if(o!==h)return ed(o)===ed(h)?It(o,h):ed(o)?1:-1}return It(a.length,e.length)}const WA=55296,tb=57343;function ed(a){const e=a.charCodeAt(0);return e>=WA&&e<=tb}function ws(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Et(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return It(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),o=ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):md(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class Wt extends ti{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const eb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ti{construct(e,i,s){return new qe(e,i,s)}static isValidIdentifier(e){return eb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new qe([rv])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wt.fromString(e))}static fromName(e){return new gt(Wt.fromString(e).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(a,e,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function nb(a,e,i,s){if(e===!0&&s===!0)throw new ut(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function av(a){if(!gt.isDocumentKey(a))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function sv(a){if(gt.isDocumentKey(a))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function j_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Dc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function gc(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dc(a);throw new ut(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(a,e){const i={typeString:a};return e&&(i.value=e),i}function _o(a,e){if(!j_(a))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ut(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=-62135596800,ov=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*ov);return new te(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<lv)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ov}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_o(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Ee("string",te._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new te(0,0))}static max(){return new At(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=-1;function ib(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Ar(o,gt.empty(),e)}function rb(a){return new Ar(a.readTime,a.key,oo)}class Ar{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ar(At.min(),gt.empty(),oo)}static max(){return new Ar(At.max(),gt.empty(),oo)}}function ab(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:It(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==sb)throw a;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new tt((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.reject(i)}static resolve(e){return new tt((i,s)=>{i(e)})}static reject(e){return new tt((i,s)=>{s(e)})}static waitFor(e){return new tt((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},p=>s(p))}),d=!0,h===o&&i()})}static or(e){let i=tt.resolve(!1);for(const s of e)i=i.next(o=>o?tt.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new tt((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const y=p;i(e[y]).next(E=>{d[y]=E,++g,g===h&&s(d)},E=>o(E))}})}static doWhile(e,i){return new tt((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function ob(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ls(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=-1;function Ic(a){return a==null}function pc(a){return a===0&&1/a==-1/0}function ub(a){return typeof a=="number"&&Number.isInteger(a)&&!pc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="";function cb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=uv(e)),e=hb(a.get(i),e);return uv(e)}function hb(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case U_:i+="";break;default:i+=h}}return i}function uv(a){return a+U_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function va(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function L_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Be(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(e){return new hv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class hv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new jn([])}unionWith(e){let i=new we(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ws(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new P_("Invalid base64 string: "+h):h}}(e);return new He(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const fb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(a){if(qt(!!a,39018),typeof a=="string"){let e=0;const i=fb.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Rr(a){return typeof a=="string"?He.fromBase64String(a):He.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="server_timestamp",k_="__type__",B_="__previous_value__",q_="__local_write_time__";function qd(a){return(a?.mapValue?.fields||{})[k_]?.stringValue===z_}function Vc(a){const e=a.mapValue.fields[B_];return qd(e)?Vc(e):e}function uo(a){const e=br(a.mapValue.fields[q_].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,i,s,o,h,d,g,p,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const yc="(default)";class co{constructor(e,i){this.projectId=e,this.database=i||yc}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===yc}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__type__",mb="__max__",Zu={mapValue:{}},G_="__vector__",vc="value";function wr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?qd(a)?4:pb(a)?9007199254740991:gb(a)?10:11:Et(28295,{value:a})}function si(a,e){if(a===e)return!0;const i=wr(a);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return uo(a).isEqual(uo(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=br(o.timestampValue),g=br(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Rr(o.bytesValue).isEqual(Rr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),g=de(h.doubleValue);return d===g?pc(d)===pc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return ws(a.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(cv(d)!==cv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!si(d[p],g[p])))return!1;return!0}(a,e);default:return Et(52216,{left:a})}}function ho(a,e){return(a.values||[]).find(i=>si(i,e))!==void 0}function xs(a,e){if(a===e)return 0;const i=wr(a),s=wr(e);if(i!==s)return It(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=de(h.integerValue||h.doubleValue),p=de(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return fv(a.timestampValue,e.timestampValue);case 4:return fv(uo(a),uo(e));case 5:return md(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Rr(h),p=Rr(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=It(g[y],p[y]);if(E!==0)return E}return It(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=It(de(h.latitude),de(d.latitude));return g!==0?g:It(de(h.longitude),de(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return dv(a.arrayValue,e.arrayValue);case 10:return function(h,d){const g=h.fields||{},p=d.fields||{},y=g[vc]?.arrayValue,E=p[vc]?.arrayValue,b=It(y?.values?.length||0,E?.values?.length||0);return b!==0?b:dv(y,E)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Zu.mapValue&&d===Zu.mapValue)return 0;if(h===Zu.mapValue)return 1;if(d===Zu.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const w=md(p[b],E[b]);if(w!==0)return w;const L=xs(g[p[b]],y[E[b]]);if(L!==0)return L}return It(p.length,E.length)}(a.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function fv(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return It(a,e);const i=br(a),s=br(e),o=It(i.seconds,s.seconds);return o!==0?o:It(i.nanos,s.nanos)}function dv(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=xs(i[o],s[o]);if(h)return h}return It(i.length,s.length)}function Cs(a){return gd(a)}function gd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=br(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Rr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=gd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${gd(i.fields[d])}`;return o+"}"}(a.mapValue):Et(61005,{value:a})}function ac(a){switch(wr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vc(a);return e?16+ac(e):16;case 5:return 2*a.stringValue.length;case 6:return Rr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+ac(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return va(s.fields,(h,d)=>{o+=h.length+ac(d)}),o}(a.mapValue);default:throw Et(13486,{value:a})}}function mv(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function pd(a){return!!a&&"integerValue"in a}function Hd(a){return!!a&&"arrayValue"in a}function gv(a){return!!a&&"nullValue"in a}function pv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function sc(a){return!!a&&"mapValue"in a}function gb(a){return(a?.mapValue?.fields||{})[H_]?.stringValue===G_}function eo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return va(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=eo(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eo(a.arrayValue.values[i]);return e}return{...a}}function pb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===mb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!sc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(i)}setAll(e){let i=qe.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=eo(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());sc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){va(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new xn(eo(this.value))}}function F_(a){const e=[];return va(a.fields,(i,s)=>{const o=new qe([i]);if(sc(s)){const h=F_(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Xe(e,0,At.min(),At.min(),At.min(),xn.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,At.min(),At.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,At.min(),At.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i){this.position=e,this.inclusive=i}}function yv(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=xs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function vv(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!si(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,i="asc"){this.field=e,this.dir=i}}function yb(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{}class _e extends Q_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new _b(e,i,s):i==="array-contains"?new Sb(e,s):i==="in"?new Ab(e,s):i==="not-in"?new bb(e,s):i==="array-contains-any"?new Rb(e,s):new _e(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Eb(e,s):new Tb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(xs(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(xs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends Q_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Un(e,i)}matches(e){return Y_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y_(a){return a.op==="and"}function K_(a){return vb(a)&&Y_(a)}function vb(a){for(const e of a.filters)if(e instanceof Un)return!1;return!0}function yd(a){if(a instanceof _e)return a.field.canonicalString()+a.op.toString()+Cs(a.value);if(K_(a))return a.filters.map(e=>yd(e)).join(",");{const e=a.filters.map(i=>yd(i)).join(",");return`${a.op}(${e})`}}function X_(a,e){return a instanceof _e?function(s,o){return o instanceof _e&&s.op===o.op&&s.field.isEqual(o.field)&&si(s.value,o.value)}(a,e):a instanceof Un?function(s,o){return o instanceof Un&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&X_(d,o.filters[g]),!0):!1}(a,e):void Et(19439)}function $_(a){return a instanceof _e?function(i){return`${i.field.canonicalString()} ${i.op} ${Cs(i.value)}`}(a):a instanceof Un?function(i){return i.op.toString()+" {"+i.getFilters().map($_).join(" ,")+"}"}(a):"Filter"}class _b extends _e{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Eb extends _e{constructor(e,i){super(e,"in",i),this.keys=Z_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Tb extends _e{constructor(e,i){super(e,"not-in",i),this.keys=Z_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Z_(a,e){return(e.arrayValue?.values||[]).map(i=>gt.fromName(i.referenceValue))}class Sb extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Hd(i)&&ho(i.arrayValue,this.value)}}class Ab extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ho(this.value.arrayValue,i)}}class bb extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ho(this.value.arrayValue,i)}}class Rb extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Hd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ho(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function _v(a,e=null,i=[],s=[],o=null,h=null,d=null){return new wb(a,e,i,s,o,h,d)}function Gd(a){const e=bt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>yd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),Ic(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Cs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Cs(s)).join(",")),e.Te=i}return e.Te}function Fd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!yb(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!X_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!vv(a.startAt,e.startAt)&&vv(a.endAt,e.endAt)}function vd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xb(a,e,i,s,o,h,d,g){return new Ps(a,e,i,s,o,h,d,g)}function J_(a){return new Ps(a)}function Ev(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function W_(a){return a.collectionGroup!==null}function no(a){const e=bt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(qe.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new fo(h,s))}),i.has(qe.keyField().canonicalString())||e.Ie.push(new fo(qe.keyField(),s))}return e.Ie}function ei(a){const e=bt(a);return e.Ee||(e.Ee=Cb(e,no(a))),e.Ee}function Cb(a,e){if(a.limitType==="F")return _v(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new fo(o.field,h)});const i=a.endAt?new _c(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new _c(a.startAt.position,a.startAt.inclusive):null;return _v(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function _d(a,e){const i=a.filters.concat([e]);return new Ps(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Ed(a,e,i){return new Ps(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Oc(a,e){return Fd(ei(a),ei(e))&&a.limitType===e.limitType}function tE(a){return`${Gd(ei(a))}|lt:${a.limitType}`}function ps(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>$_(o)).join(", ")}]`),Ic(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Cs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Cs(o)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function Mc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of no(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=yv(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,no(s),o)||s.endAt&&!function(d,g,p){const y=yv(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,no(s),o))}(a,e)}function Db(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function eE(a){return(e,i)=>{let s=!1;for(const o of no(a)){const h=Nb(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function Nb(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(h,d,g){const p=d.data.field(h),y=g.data.field(h);return p!==null&&y!==null?xs(p,y):Et(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return L_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new ae(gt.comparator);function zi(){return Ib}const nE=new ae(gt.comparator);function Jl(...a){let e=nE;for(const i of a)e=e.insert(i.key,i);return e}function iE(a){let e=nE;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ga(){return io()}function rE(){return io()}function io(){return new _a(a=>a.toString(),(a,e)=>a.isEqual(e))}const Vb=new ae(gt.comparator),Ob=new we(gt.comparator);function Vt(...a){let e=Ob;for(const i of a)e=e.add(i);return e}const Mb=new we(It);function jb(){return Mb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function aE(a){return{integerValue:""+a}}function Ub(a,e){return ub(e)?aE(e):Qd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this._=void 0}}function Lb(a,e,i){return a instanceof Ec?function(o,h){const d={fields:{[k_]:{stringValue:z_},[q_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&qd(h)&&(h=Vc(h)),h&&(d.fields[B_]=h),{mapValue:d}}(i,e):a instanceof mo?lE(a,e):a instanceof go?oE(a,e):function(o,h){const d=sE(o,h),g=Tv(d)+Tv(o.Ae);return pd(d)&&pd(o.Ae)?aE(g):Qd(o.serializer,g)}(a,e)}function Pb(a,e,i){return a instanceof mo?lE(a,e):a instanceof go?oE(a,e):i}function sE(a,e){return a instanceof Tc?function(s){return pd(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Ec extends jc{}class mo extends jc{constructor(e){super(),this.elements=e}}function lE(a,e){const i=uE(e);for(const s of a.elements)i.some(o=>si(o,s))||i.push(s);return{arrayValue:{values:i}}}class go extends jc{constructor(e){super(),this.elements=e}}function oE(a,e){let i=uE(e);for(const s of a.elements)i=i.filter(o=>!si(o,s));return{arrayValue:{values:i}}}class Tc extends jc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Tv(a){return de(a.integerValue||a.doubleValue)}function uE(a){return Hd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function zb(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof mo&&o instanceof mo||s instanceof go&&o instanceof go?ws(s.elements,o.elements,si):s instanceof Tc&&o instanceof Tc?si(s.Ae,o.Ae):s instanceof Ec&&o instanceof Ec}(a.transform,e.transform)}class kb{constructor(e,i){this.version=e,this.transformResults=i}}class ji{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Uc{}function cE(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new fE(a.key,ji.none()):new Eo(a.key,a.data,ji.none());{const i=a.data,s=xn.empty();let o=new we(qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ea(a.key,s,new jn(o.toArray()),ji.none())}}function Bb(a,e,i){a instanceof Eo?function(o,h,d){const g=o.value.clone(),p=Av(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Ea?function(o,h,d){if(!lc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Av(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(hE(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function ro(a,e,i,s){return a instanceof Eo?function(h,d,g,p){if(!lc(h.precondition,d))return g;const y=h.value.clone(),E=bv(h.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof Ea?function(h,d,g,p){if(!lc(h.precondition,d))return g;const y=bv(h.fieldTransforms,p,d),E=d.data;return E.setAll(hE(h)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(b=>b.field))}(a,e,i,s):function(h,d,g){return lc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function qb(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=sE(s.transform,o||null);h!=null&&(i===null&&(i=xn.empty()),i.set(s.field,h))}return i||null}function Sv(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ws(s,o,(h,d)=>zb(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Eo extends Uc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ea extends Uc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function hE(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Av(a,e,i){const s=new Map;qt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,Pb(d,g,i[o]))}return s}function bv(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,Lb(h,d,e))}return s}class fE extends Uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hb extends Uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Bb(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ro(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ro(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=rE();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=cE(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&ws(this.mutations,e.mutations,(i,s)=>Sv(i,s))&&ws(this.baseMutations,e.baseMutations,(i,s)=>Sv(i,s))}}class Yd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return Vb}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Yd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function Yb(a){switch(a){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:a})}}function dE(a){if(a===void 0)return Pi("GRPC error has no .code"),J.UNKNOWN;switch(a){case ve.OK:return J.OK;case ve.CANCELLED:return J.CANCELLED;case ve.UNKNOWN:return J.UNKNOWN;case ve.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ve.INTERNAL:return J.INTERNAL;case ve.UNAVAILABLE:return J.UNAVAILABLE;case ve.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ve.NOT_FOUND:return J.NOT_FOUND;case ve.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ve.ABORTED:return J.ABORTED;case ve.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ve.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:a})}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Er([4294967295,4294967295],0);function Rv(a){const e=Kb().encode(a),i=new w_;return i.update(e),new Uint8Array(i.digest())}function wv(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Er([i,s],0),new Er([o,h],0)]}class Kd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Er.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Er.fromNumber(s)));return o.compare(Xb)===1&&(o=new Er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Rv(e),[s,o]=wv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Kd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=Rv(e),[s,o]=wv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,To.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Lc(At.min(),o,new ae(It),zi(),Vt())}}class To{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new To(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class mE{constructor(e,i){this.targetId=e,this.Ce=i}}class gE{constructor(e,i,s=He.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class xv{constructor(){this.ve=0,this.Fe=Cv(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),s=Vt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:h})}}),new To(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=Cv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $b{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=Ju(),this.He=Ju(),this.Ye=new ae(It)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((s,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(vd(h))if(s===0){const d=new gt(h.path);this.et(i,d,Xe.newNoDocument(d,At.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),p=g?this.ct(g,e,d):1;if(p!==0){this.it(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Rr(s).toUint8Array()}catch(p){if(p instanceof P_)return Rs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Kd(d,o,h)}catch(p){return Rs(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&vd(g.target)){const p=new gt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Xe.newNoDocument(p,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let s=Vt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const o=new Lc(e,i,this.Ye,this.je,s);return this.je=zi(),this.Je=Ju(),this.He=Ju(),this.Ye=new ae(It),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new xv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(It),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(It),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xv),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ju(){return new ae(gt.comparator)}function Cv(){return new ae(gt.comparator)}const Zb={asc:"ASCENDING",desc:"DESCENDING"},Jb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wb={and:"AND",or:"OR"};class tR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Td(a,e){return a.useProto3Json||Ic(e)?e:{value:e}}function Sc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function eR(a,e){return Sc(a,e.toTimestamp())}function ni(a){return qt(!!a,49232),At.fromTimestamp(function(i){const s=br(i);return new te(s.seconds,s.nanos)}(a))}function Xd(a,e){return Sd(a,e).canonicalString()}function Sd(a,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function yE(a){const e=Wt.fromString(a);return qt(SE(e),10190,{key:e.toString()}),e}function Ad(a,e){return Xd(a.databaseId,e.path)}function nd(a,e){const i=yE(e);if(i.get(1)!==a.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(_E(i))}function vE(a,e){return Xd(a.databaseId,e)}function nR(a){const e=yE(a);return e.length===4?Wt.emptyPath():_E(e)}function bd(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function _E(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Dv(a,e,i){return{name:Ad(a,e),fields:i.value.mapValue.fields}}function iR(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(y,E){return y.useProto3Json?(qt(E===void 0||typeof E=="string",58123),He.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),He.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const E=y.code===void 0?J.UNKNOWN:dE(y.code);return new ut(E,y.message||"")}(d);i=new gE(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=nd(a,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):At.min(),g=new xn({mapValue:{fields:s.document.fields}}),p=Xe.newFoundDocument(o,h,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new oc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=nd(a,s.document),h=s.readTime?ni(s.readTime):At.min(),d=Xe.newNoDocument(o,h),g=s.removedTargetIds||[];i=new oc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=nd(a,s.document),h=s.removedTargetIds||[];i=new oc([],h,o,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new Qb(o,h),g=s.targetId;i=new mE(g,d)}}return i}function rR(a,e){let i;if(e instanceof Eo)i={update:Dv(a,e.key,e.value)};else if(e instanceof fE)i={delete:Ad(a,e.key)};else if(e instanceof Ea)i={update:Dv(a,e.key,e.data),updateMask:dR(e.fieldMask)};else{if(!(e instanceof Hb))return Et(16599,{Vt:e.type});i={verify:Ad(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Ec)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof go)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Tc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Et(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:eR(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Et(27497)}(a,e.precondition)),i}function aR(a,e){return a&&a.length>0?(qt(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(At.min())&&(d=ni(h)),new kb(d,o.transformResults||[])}(i,e))):[]}function sR(a,e){return{documents:[vE(a,e.path)]}}function lR(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=vE(a,o);const h=function(y){if(y.length!==0)return TE(Un.create(y,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(y){if(y.length!==0)return y.map(E=>function(w){return{field:ys(w.field),direction:cR(w.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Td(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:i,parent:o}}function oR(a){let e=nR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let h=[];i.where&&(h=function(b){const w=EE(b);return w instanceof Un&&K_(w)?w.getFilters():[w]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(w=>function(H){return new fo(vs(H.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(w))}(i.orderBy));let g=null;i.limit&&(g=function(b){let w;return w=typeof b=="object"?b.value:b,Ic(w)?null:w}(i.limit));let p=null;i.startAt&&(p=function(b){const w=!!b.before,L=b.values||[];return new _c(L,w)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const w=!b.before,L=b.values||[];return new _c(L,w)}(i.endAt)),xb(e,o,d,h,g,"F",p,y)}function uR(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function EE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=vs(i.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vs(i.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=vs(i.unaryFilter.field);return _e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vs(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(a):a.fieldFilter!==void 0?function(i){return _e.create(vs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Un.create(i.compositeFilter.filters.map(s=>EE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(a):Et(30097,{filter:a})}function cR(a){return Zb[a]}function hR(a){return Jb[a]}function fR(a){return Wb[a]}function ys(a){return{fieldPath:a.canonicalString()}}function vs(a){return qe.fromServerFormat(a.fieldPath)}function TE(a){return a instanceof _e?function(i){if(i.op==="=="){if(pv(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(gv(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(pv(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(gv(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:hR(i.op),value:i.value}}}(a):a instanceof Un?function(i){const s=i.getFilters().map(o=>TE(o));return s.length===1?s[0]:{compositeFilter:{op:fR(i.op),filters:s}}}(a):Et(54877,{filter:a})}function dR(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function SE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,s,o,h=At.min(),d=At.min(),g=He.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.yt=e}}function gR(a){const e=oR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.Cn=new yR}addToCollectionParentIndex(e,i){return this.Cn.add(i),tt.resolve()}getCollectionParents(e,i){return tt.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return tt.resolve()}deleteFieldIndex(e,i){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,i){return tt.resolve()}getDocumentsMatchingTarget(e,i){return tt.resolve(null)}getIndexType(e,i){return tt.resolve(0)}getFieldIndexes(e,i){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,i){return tt.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return tt.resolve(Ar.min())}updateCollectionGroup(e,i,s){return tt.resolve()}updateIndexEntries(e,i){return tt.resolve()}}class yR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Wt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AE=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(AE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ds(0)}static cr(){return new Ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="LruGarbageCollector",vR=1048576;function Vv([a,e],[i,s]){const o=It(a,i);return o===0?It(e,s):o}class _R{constructor(e){this.Ir=e,this.buffer=new we(Vv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Vv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ER{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ct(Iv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ls(i)?ct(Iv,"Ignoring IndexedDB error during garbage collection: ",i):await Us(i)}await this.Vr(3e5)})}}class TR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return tt.resolve(Nc.ce);const s=new _R(i);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(Nv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,g=Date.now(),this.removeTargets(e,s,i))).next(b=>(h=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),gs()<=Lt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:b})))}}function SR(a,e){return new TR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.changes=new _a(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&ro(s.mutation,o,jn.empty(),te.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const o=ga();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Jl();return h.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ga();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=zi();const d=io(),g=function(){return io()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ea)?h=h.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),ro(E.mutation,y,E.mutation.getFieldMask(),te.now())):d.set(y.key,jn.empty())}),this.recalculateAndSaveOverlays(e,h).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>g.set(y,new bR(E,d.get(y)??null))),g))}recalculateAndSaveOverlays(e,i){const s=io();let o=new ae((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||jn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const b=(o.get(g.batchId)||Vt()).add(p);o=o.insert(g.batchId,b)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,b=rE();E.forEach(w=>{if(!h.has(w)){const L=cE(i.get(w),s.get(w));L!==null&&b.set(w,L),h=h.add(w)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return tt.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):W_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):tt.resolve(ga());let g=oo,p=h;return d.next(y=>tt.forEach(y,(E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),h.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,y,h)).next(()=>this.computeViews(e,p,y,Vt())).next(E=>({batchId:g,changes:iE(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Jl();return this.indexManager.getCollectionParents(e,h).next(g=>tt.forEach(g,p=>{const y=function(b,w){return new Ps(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((b,w)=>{d=d.insert(b,w)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Xe.newInvalidDocument(E)))});let g=Jl();return d.forEach((p,y)=>{const E=h.get(p);E!==void 0&&ro(E.mutation,y,jn.empty(),te.now()),Mc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return tt.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),tt.resolve()}getNamedQuery(e,i){return tt.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:gR(o.bundledQuery),readTime:ni(o.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.overlays=new ae(gt.comparator),this.qr=new Map}getOverlay(e,i){return tt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ga();return tt.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.St(e,i,h)}),tt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(s)),tt.resolve()}getOverlaysForCollection(e,i,s){const o=ga(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ae((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=h.get(y.largestBatchId);E===null&&(E=ga(),h=h.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ga(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=o)););return tt.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Fb(i,s));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this.Qr=new we(Oe.$r),this.Ur=new we(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Gr(new Oe(e,i))}zr(e,i){e.forEach(s=>this.removeReference(s,i))}jr(e){const i=new gt(new Wt([])),s=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new Wt([])),s=new Oe(i,e),o=new Oe(i,e+1);let h=Vt();return this.Ur.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||It(e.Yr,i.Yr)}static Kr(e,i){return It(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(Oe.$r)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Gb(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,i){return tt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return tt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Bd:this.tr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],d=>{const g=this.Xr(d.Yr);h.push(g)}),tt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(It);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{s=s.add(g.Yr)})}),tt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new gt(h),0);let g=new we(It);return this.Zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)},d),tt.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return tt.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Zr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.ri=e,this.docs=function(){return new ae(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=zi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=zi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||ab(rb(E),s)<=0||(o.has(E.key)||Mc(i,E))&&(h=h.insert(E.key,E.mutableCopy()))}return tt.resolve(h)}getAllFromCollectionGroup(e,i,s,o){Et(9500)}ii(e,i){return tt.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new IR(this)}getSize(e){return tt.resolve(this.size)}}class IR extends AR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),tt.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.persistence=e,this.si=new _a(i=>Gd(i),Fd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new $d,this.targetCount=0,this.ai=Ds.ur()}forEachTarget(e,i){return this.si.forEach((s,o)=>i(o)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),tt.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ds(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,tt.resolve()}updateTargetData(e,i){return this.Pr(i),tt.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),tt.waitFor(h).next(()=>o)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return tt.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),tt.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),tt.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),tt.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return tt.resolve(s)}containsKey(e,i){return tt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Nc(0),this.li=!1,this.li=!0,this.hi=new CR,this.referenceDelegate=e(this),this.Pi=new VR(this),this.indexManager=new pR,this.remoteDocumentCache=function(o){return new NR(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new mR(i),this.Ii=new wR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new xR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new DR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ct("MemoryPersistence","Starting transaction:",e);const o=new OR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return tt.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,i)))}}class OR extends lb{constructor(e){super(),this.currentSequenceNumber=e}}class Zd{constructor(e){this.persistence=e,this.Ri=new $d,this.Vi=null}static mi(e){return new Zd(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),tt.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),tt.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,s=>{const o=gt.fromPath(s);return this.gi(e,o).next(h=>{h||i.removeEntry(o,At.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return tt.or([()=>tt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Ac{constructor(e,i){this.persistence=e,this.pi=new _a(s=>cb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=SR(this,i)}static mi(e,i){return new Ac(e,i)}Ei(){}di(e){return tt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}wr(e){let i=0;return this.pr(e,s=>{i++}).next(()=>i)}pr(e,i){return tt.forEach(this.pi,(s,o)=>this.br(e,s,o).next(h=>h?tt.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(g=>{g||(s++,h.removeEntry(d,At.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),tt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),tt.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),tt.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ac(e.data.value)),i}br(e,i,s){return tt.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Jd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return wS()?8:ob(bS())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new MR;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>h.result)}bs(e,i,s,o){return s.documentReadCount<this.fs?(gs()<=Lt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(gs()<=Lt.DEBUG&&ct("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(gs()<=Lt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):tt.resolve())}ys(e,i){if(Ev(i))return tt.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Ed(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Vt(...h);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.Ds(i,g);return this.Cs(i,y,d,p.readTime)?this.ys(e,Ed(i,null,"F")):this.vs(e,y,i,p)}))})))}ws(e,i,s,o){return Ev(i)||o.isEqual(At.min())?tt.resolve(null):this.ps.getDocuments(e,s).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?tt.resolve(null):(gs()<=Lt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ps(i)),this.vs(e,d,i,ib(o,oo)).next(g=>g))})}Ds(e,i){let s=new we(eE(e));return i.forEach((o,h)=>{Mc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return gs()<=Lt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ps.getDocumentsMatchingQuery(e,i,Ar.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="LocalStore",UR=3e8;class LR{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ae(It),this.xs=new _a(h=>Gd(h),Fd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function PR(a,e,i,s){return new LR(a,e,i,s)}async function RE(a,e){const i=bt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let p=Vt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of h){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Ls:y,removedBatchIds:d,addedBatchIds:g}))})})}function zR(a,e){const i=bt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const b=y.batch,w=b.keys();let L=tt.resolve();return w.forEach(H=>{L=L.next(()=>E.getEntry(p,H)).next(K=>{const U=y.docVersions.get(H);qt(U!==null,48541),K.version.compareTo(U)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),L.next(()=>g.mutationQueue.removeMutationBatch(p,b))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function wE(a){const e=bt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function kR(a,e){const i=bt(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach((E,b)=>{const w=o.get(b);if(!w)return;g.push(i.Pi.removeMatchingKeys(h,E.removedDocuments,b).next(()=>i.Pi.addMatchingKeys(h,E.addedDocuments,b)));let L=w.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?L=L.withResumeToken(He.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(b,L),function(K,U,Q){return K.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=UR?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(w,L,E)&&g.push(i.Pi.updateTargetData(h,L))});let p=zi(),y=Vt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,E))}),g.push(BR(h,d,e.documentUpdates).next(E=>{p=E.ks,y=E.qs})),!s.isEqual(At.min())){const E=i.Pi.getLastRemoteSnapshotVersion(h).next(b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(E)}return tt.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,p,y)).next(()=>p)}).then(h=>(i.Ms=o,h))}function BR(a,e,i){let s=Vt(),o=Vt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=zi();return i.forEach((g,p)=>{const y=h.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ct(Wd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{ks:d,qs:o}})}function qR(a,e){const i=bt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Bd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function HR(a,e){const i=bt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Pi.getTargetData(s,e).next(h=>h?(o=h,tt.resolve(o)):i.Pi.allocateTargetId(s).next(d=>(o=new yr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s})}async function Rd(a,e,i){const s=bt(a),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ls(d))throw d;ct(Wd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Ov(a,e,i){const s=bt(a);let o=At.min(),h=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const b=bt(p),w=b.xs.get(E);return w!==void 0?tt.resolve(b.Ms.get(w)):b.Pi.getTargetData(y,E)}(s,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(p=>{h=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?h:Vt())).next(g=>(GR(s,Db(e),g),{documents:g,Qs:h})))}function GR(a,e,i){let s=a.Os.get(e)||At.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Os.set(e,s)}class Mv{constructor(){this.activeTargetIds=jb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FR{constructor(){this.Mo=new Mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Mv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="ConnectivityMonitor";class Uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(jv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ct(jv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function wd(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="RestConnection",YR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===yc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=wd(),g=this.zo(e,i.toUriEncodedString());ct(id,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,h);const{host:y}=new URL(g),E=Ld(y);return this.Jo(e,g,p,s,E).then(b=>(ct(id,`Received RPC '${e}' ${d}: `,b),b),b=>{throw Rs(id,`RPC '${e}' ${d} failed with error: `,b,"url: ",g,"request:",s),b})}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const s=YR[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class $R extends KR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=wd();return new Promise((g,p)=>{const y=new x_;y.setWithCredentials(!0),y.listenOnce(C_.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case rc.NO_ERROR:const b=y.getResponseJson();ct(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),g(b);break;case rc.TIMEOUT:ct(Ye,`RPC '${e}' ${d} timed out`),p(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:const w=y.getStatus();if(ct(Ye,`RPC '${e}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const H=L?.error;if(H&&H.status&&H.message){const K=function(Q){const nt=Q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(nt)>=0?nt:J.UNKNOWN}(H.status);p(new ut(K,H.message))}else p(new ut(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ut(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ct(Ye,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);ct(Ye,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,s,15)})}T_(e,i,s){const o=wd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=I_(),g=N_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=h.join("");ct(Ye,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=d.createWebChannel(E,p);this.I_(b);let w=!1,L=!1;const H=new XR({Yo:U=>{L?ct(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(ct(Ye,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),ct(Ye,`RPC '${e}' stream ${o} sending:`,U),b.send(U))},Zo:()=>b.close()}),K=(U,Q,nt)=>{U.listen(Q,it=>{try{nt(it)}catch(pt){setTimeout(()=>{throw pt},0)}})};return K(b,Zl.EventType.OPEN,()=>{L||(ct(Ye,`RPC '${e}' stream ${o} transport opened.`),H.o_())}),K(b,Zl.EventType.CLOSE,()=>{L||(L=!0,ct(Ye,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(b))}),K(b,Zl.EventType.ERROR,U=>{L||(L=!0,Rs(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),H.a_(new ut(J.UNAVAILABLE,"The operation could not be completed")))}),K(b,Zl.EventType.MESSAGE,U=>{if(!L){const Q=U.data[0];qt(!!Q,16349);const nt=Q,it=nt?.error||nt[0]?.error;if(it){ct(Ye,`RPC '${e}' stream ${o} received error:`,it);const pt=it.status;let rt=function(R){const x=ve[R];if(x!==void 0)return dE(x)}(pt),ft=it.message;rt===void 0&&(rt=J.INTERNAL,ft="Unknown error status: "+pt+" with message "+it.message),L=!0,H.a_(new ut(rt,ft)),b.close()}else ct(Ye,`RPC '${e}' stream ${o} received:`,Q),H.u_(Q)}}),K(g,D_.STAT_EVENT,U=>{U.stat===dd.PROXY?ct(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===dd.NOPROXY&&ct(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.__()},0),H}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(a){return new tR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="PersistentStream";class CE{constructor(e,i,s,o,h,d,g,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===i&&this.G_(s,o)},s=>{e(()=>{const o=new ut(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ct(Lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(ct(Lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZR extends CE{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=iR(this.serializer,e),s=function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ni(d.readTime):At.min()}(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=bd(this.serializer),i.addTarget=function(h,d){let g;const p=d.target;if(g=vd(p)?{documents:sR(h,p)}:{query:lR(h,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=pE(h,d.resumeToken);const y=Td(h,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=Sc(h,d.snapshotVersion.toTimestamp());const y=Td(h,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=uR(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=bd(this.serializer),i.removeTarget=e,this.q_(i)}}class JR extends CE{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=aR(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=bd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>rR(this.serializer,s))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{}class tw extends WR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,Sd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(J.UNKNOWN,h.toString())})}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,Sd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ew{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class nw{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{Ta(this)&&(ct(ya,"Restarting streams for network reachability change."),await async function(p){const y=bt(p);y.Ea.add(4),await So(y),y.Ra.set("Unknown"),y.Ea.delete(4),await zc(y)}(this))})}),this.Ra=new ew(s,o)}}async function zc(a){if(Ta(a))for(const e of a.da)await e(!0)}async function So(a){for(const e of a.da)await e(!1)}function DE(a,e){const i=bt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),im(i)?nm(i):zs(i).O_()&&em(i,e))}function tm(a,e){const i=bt(a),s=zs(i);i.Ia.delete(e),s.O_()&&NE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ta(i)&&i.Ra.set("Unknown"))}function em(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}zs(a).Y_(e)}function NE(a,e){a.Va.Ue(e),zs(a).Z_(e)}function nm(a){a.Va=new $b({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),zs(a).start(),a.Ra.ua()}function im(a){return Ta(a)&&!zs(a).x_()&&a.Ia.size>0}function Ta(a){return bt(a).Ea.size===0}function IE(a){a.Va=void 0}async function iw(a){a.Ra.set("Online")}async function rw(a){a.Ia.forEach((e,i)=>{em(a,e)})}async function aw(a,e){IE(a),im(a)?(a.Ra.ha(e),nm(a)):a.Ra.set("Unknown")}async function sw(a,e,i){if(a.Ra.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(a,e)}catch(s){ct(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bc(a,s)}else if(e instanceof oc?a.Va.Ze(e):e instanceof mE?a.Va.st(e):a.Va.tt(e),!i.isEqual(At.min()))try{const s=await wE(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=h.Ia.get(y);E&&h.Ia.set(y,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const E=h.Ia.get(p);if(!E)return;h.Ia.set(p,E.withResumeToken(He.EMPTY_BYTE_STRING,E.snapshotVersion)),NE(h,p);const b=new yr(E.target,p,y,E.sequenceNumber);em(h,b)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ct(ya,"Failed to raise snapshot:",s),await bc(a,s)}}async function bc(a,e,i){if(!Ls(e))throw e;a.Ea.add(1),await So(a),a.Ra.set("Offline"),i||(i=()=>wE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ct(ya,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await zc(a)})}function VE(a,e){return e().catch(i=>bc(a,i,e))}async function kc(a){const e=bt(a),i=xr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bd;for(;lw(e);)try{const o=await qR(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,ow(e,o)}catch(o){await bc(e,o)}OE(e)&&ME(e)}function lw(a){return Ta(a)&&a.Ta.length<10}function ow(a,e){a.Ta.push(e);const i=xr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function OE(a){return Ta(a)&&!xr(a).x_()&&a.Ta.length>0}function ME(a){xr(a).start()}async function uw(a){xr(a).ra()}async function cw(a){const e=xr(a);for(const i of a.Ta)e.ea(i.mutations)}async function hw(a,e,i){const s=a.Ta.shift(),o=Yd.from(s,e,i);await VE(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await kc(a)}async function fw(a,e){e&&xr(a).X_&&await async function(s,o){if(function(d){return Yb(d)&&d!==J.ABORTED}(o.code)){const h=s.Ta.shift();xr(s).B_(),await VE(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await kc(s)}}(a,e),OE(a)&&ME(a)}async function Pv(a,e){const i=bt(a);i.asyncQueue.verifyOperationInProgress(),ct(ya,"RemoteStore received new credentials");const s=Ta(i);i.Ea.add(3),await So(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await zc(i)}async function dw(a,e){const i=bt(a);e?(i.Ea.delete(2),await zc(i)):e||(i.Ea.add(2),await So(i),i.Ra.set("Unknown"))}function zs(a){return a.ma||(a.ma=function(i,s,o){const h=bt(i);return h.sa(),new ZR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:iw.bind(null,a),t_:rw.bind(null,a),r_:aw.bind(null,a),H_:sw.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),im(a)?nm(a):a.Ra.set("Unknown")):(await a.ma.stop(),IE(a))})),a.ma}function xr(a){return a.fa||(a.fa=function(i,s,o){const h=bt(i);return h.sa(),new JR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:uw.bind(null,a),r_:fw.bind(null,a),ta:cw.bind(null,a),na:hw.bind(null,a)}),a.da.push(async e=>{e?(a.fa.B_(),await kc(a)):(await a.fa.stop(),a.Ta.length>0&&(ct(ya,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new rm(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function am(a,e){if(Pi("AsyncQueue",`${e}: ${a}`),Ls(a))return new ut(J.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{static emptySet(e){return new Ts(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ts)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ts;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.ga=new ae(gt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ns{constructor(e,i,s,o,h,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ns(e,i,Ts.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class gw{constructor(){this.queries=kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=bt(i),h=o.queries;o.queries=kv(),h.forEach((d,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function kv(){return new _a(a=>tE(a),Oc)}async function pw(a,e){const i=bt(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new mw,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=am(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&sm(i)}async function yw(a,e){const i=bt(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function vw(a,e){const i=bt(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&sm(i)}function _w(a,e,i){const s=bt(a),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function sm(a){a.Ca.forEach(e=>{e.next()})}var xd,Bv;(Bv=xd||(xd={})).Ma="default",Bv.Cache="cache";class Ew{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ns(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.key=e}}class UE{constructor(e){this.key=e}}class Tw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=eE(e),this.tu=new Ts(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new zv,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const w=o.get(E),L=Mc(this.query,b)?b:null,H=!!w&&this.mutatedKeys.has(w.key),K=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let U=!1;w&&L?w.data.isEqual(L.data)?H!==K&&(s.track({type:3,doc:L}),U=!0):this.su(w,L)||(s.track({type:2,doc:L}),U=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(g=!0)):!w&&L?(s.track({type:0,doc:L}),U=!0):w&&!L&&(s.track({type:1,doc:w}),U=!0,(p||y)&&(g=!0)),U&&(L?(d=d.add(L),h=K?h.add(E):h.delete(E)):(d=d.delete(E),h=h.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),h=h.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((E,b)=>function(L,H){const K=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:U})}};return K(L)-K(H)}(E.type,b.type)||this.eu(E.doc,b.doc)),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new Ns(this.query,e.tu,h,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return e.forEach(s=>{this.Xa.has(s)||i.push(new UE(s))}),this.Xa.forEach(s=>{e.has(s)||i.push(new jE(s))}),i}cu(e){this.Ya=e.Qs,this.Xa=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ns.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lm="SyncEngine";class Sw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Aw{constructor(e){this.key=e,this.hu=!1}}class bw{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new _a(g=>tE(g),Oc),this.Iu=new Map,this.Eu=new Set,this.du=new ae(gt.comparator),this.Au=new Map,this.Ru=new $d,this.Vu={},this.mu=new Map,this.fu=Ds.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Rw(a,e,i=!0){const s=qE(a);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await LE(s,e,i,!0),o}async function ww(a,e){const i=qE(a);await LE(i,e,!0,!1)}async function LE(a,e,i,s){const o=await HR(a.localStore,ei(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await xw(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&DE(a.remoteStore,o),g}async function xw(a,e,i,s,o){a.pu=(b,w,L)=>async function(K,U,Q,nt){let it=U.view.ru(Q);it.Cs&&(it=await Ov(K.localStore,U.query,!1).then(({documents:V})=>U.view.ru(V,it)));const pt=nt&&nt.targetChanges.get(U.targetId),rt=nt&&nt.targetMismatches.get(U.targetId)!=null,ft=U.view.applyChanges(it,K.isPrimaryClient,pt,rt);return Hv(K,U.targetId,ft.au),ft.snapshot}(a,b,w,L);const h=await Ov(a.localStore,e,!0),d=new Tw(e,h.Qs),g=d.ru(h.documents),p=To.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(g,a.isPrimaryClient,p);Hv(a,i,y.au);const E=new Sw(e,i,d);return a.Tu.set(e,E),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot}async function Cw(a,e,i){const s=bt(a),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter(d=>!Oc(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Rd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&tm(s.remoteStore,o.targetId),Cd(s,o.targetId)}).catch(Us)):(Cd(s,o.targetId),await Rd(s.localStore,o.targetId,!0))}async function Dw(a,e){const i=bt(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),tm(i.remoteStore,s.targetId))}async function Nw(a,e,i){const s=Lw(a);try{const o=await function(d,g){const p=bt(d),y=te.now(),E=g.reduce((L,H)=>L.add(H.key),Vt());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let H=zi(),K=Vt();return p.Ns.getEntries(L,E).next(U=>{H=U,H.forEach((Q,nt)=>{nt.isValidDocument()||(K=K.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,H)).next(U=>{b=U;const Q=[];for(const nt of g){const it=qb(nt,b.get(nt.key).overlayedDocument);it!=null&&Q.push(new Ea(nt.key,it,F_(it.value.mapValue),ji.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,Q,g)}).next(U=>{w=U;const Q=U.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(L,U.batchId,Q)})}).then(()=>({batchId:w.batchId,changes:iE(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new ae(It)),y=y.insert(g,p),d.Vu[d.currentUser.toKey()]=y}(s,o.batchId,i),await Ao(s,o.changes),await kc(s.remoteStore)}catch(o){const h=am(o,"Failed to persist write");i.reject(h)}}async function PE(a,e){const i=bt(a);try{const s=await kR(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Au.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?qt(d.hu,14607):o.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))}),await Ao(i,s,e)}catch(s){await Us(s)}}function qv(a,e,i){const s=bt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=bt(d);p.onlineState=g;let y=!1;p.queries.forEach((E,b)=>{for(const w of b.Sa)w.va(g)&&(y=!0)}),y&&sm(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Iw(a,e,i){const s=bt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new ae(gt.comparator);d=d.insert(h,Xe.newNoDocument(h,At.min()));const g=Vt().add(h),p=new Lc(At.min(),new Map,new ae(It),d,g);await PE(s,p),s.du=s.du.remove(h),s.Au.delete(e),om(s)}else await Rd(s.localStore,e,!1).then(()=>Cd(s,e,i)).catch(Us)}async function Vw(a,e){const i=bt(a),s=e.batch.batchId;try{const o=await zR(i.localStore,e);kE(i,s,null),zE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ao(i,o)}catch(o){await Us(o)}}async function Ow(a,e,i){const s=bt(a);try{const o=await function(d,g){const p=bt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(b=>(qt(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);kE(s,e,i),zE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Ao(s,o)}catch(o){await Us(o)}}function zE(a,e){(a.mu.get(e)||[]).forEach(i=>{i.resolve()}),a.mu.delete(e)}function kE(a,e,i){const s=bt(a);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Cd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(s=>{a.Ru.containsKey(s)||BE(a,s)})}function BE(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(tm(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),om(a))}function Hv(a,e,i){for(const s of i)s instanceof jE?(a.Ru.addReference(s.key,e),Mw(a,s)):s instanceof UE?(ct(lm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||BE(a,s.key)):Et(19791,{wu:s})}function Mw(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ct(lm,"New document in limbo: "+i),a.Eu.add(s),om(a))}function om(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new gt(Wt.fromString(e)),s=a.fu.next();a.Au.set(s,new Aw(i)),a.du=a.du.insert(i,s),DE(a.remoteStore,new yr(ei(J_(i.path)),s,"TargetPurposeLimboResolution",Nc.ce))}}async function Ao(a,e,i){const s=bt(a),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,p)=>{d.push(s.pu(p,e,i).then(y=>{if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Jd.As(p.targetId,y);h.push(E)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(p,y){const E=bt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>tt.forEach(y,w=>tt.forEach(w.Es,L=>E.persistence.referenceDelegate.addReference(b,w.targetId,L)).next(()=>tt.forEach(w.ds,L=>E.persistence.referenceDelegate.removeReference(b,w.targetId,L)))))}catch(b){if(!Ls(b))throw b;ct(Wd,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const L=E.Ms.get(w),H=L.snapshotVersion,K=L.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(w,K)}}}(s.localStore,h))}async function jw(a,e){const i=bt(a);if(!i.currentUser.isEqual(e)){ct(lm,"User change. New user:",e.toKey());const s=await RE(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(g=>{g.forEach(p=>{p.reject(new ut(J.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ao(i,s.Ls)}}function Uw(a,e){const i=bt(a),s=i.Au.get(e);if(s&&s.hu)return Vt().add(s.key);{let o=Vt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function qE(a){const e=bt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=PE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iw.bind(null,e),e.Pu.H_=vw.bind(null,e.eventManager),e.Pu.yu=_w.bind(null,e.eventManager),e}function Lw(a){const e=bt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ow.bind(null,e),e}class Rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return PR(this.persistence,new jR,e.initialUser,this.serializer)}Cu(e){return new bE(Zd.mi,this.serializer)}Du(e){return new FR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rc.provider={build:()=>new Rc};class Pw extends Rc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){qt(this.persistence.referenceDelegate instanceof Ac,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ER(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new bE(s=>Ac.mi(s,i),this.serializer)}}class Dd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jw.bind(null,this.syncEngine),await dw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gw}()}createDatastore(e){const i=Pc(e.databaseInfo.databaseId),s=function(h){return new $R(h)}(e.databaseInfo);return function(h,d,g,p){return new tw(h,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new nw(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>qv(this.syncEngine,i,0),function(){return Uv.v()?new Uv:new QR}())}createSyncEngine(e,i){return function(o,h,d,g,p,y,E){const b=new bw(o,h,d,g,p,y);return E&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=bt(i);ct(ya,"RemoteStore shutting down."),s.Ea.add(5),await So(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dd.provider={build:()=>new Dd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class kw{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{ct(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ct(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=am(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ad(a,e){a.asyncQueue.verifyOperationInProgress(),ct(Cr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await RE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function Gv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Bw(a);ct(Cr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>Pv(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>Pv(e.remoteStore,o)),a._onlineComponents=e}async function Bw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ct(Cr,"Using user provided OfflineComponentProvider");try{await ad(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Rs("Error using user provided cache. Falling back to memory cache: "+i),await ad(a,new Rc)}}else ct(Cr,"Using default OfflineComponentProvider"),await ad(a,new Pw(void 0));return a._offlineComponents}async function HE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ct(Cr,"Using user provided OnlineComponentProvider"),await Gv(a,a._uninitializedComponentsProvider._online)):(ct(Cr,"Using default OnlineComponentProvider"),await Gv(a,new Dd))),a._onlineComponents}function qw(a){return HE(a).then(e=>e.syncEngine)}async function Hw(a){const e=await HE(a),i=e.eventManager;return i.onListen=Rw.bind(null,e.syncEngine),i.onUnlisten=Cw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ww.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Dw.bind(null,e.syncEngine),i}function Gw(a,e,i={}){const s=new Tr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,p,y){const E=new zw({next:w=>{E.Nu(),d.enqueueAndForget(()=>yw(h,b)),w.fromCache&&p.source==="server"?y.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new Ew(g,E,{includeMetadataChanges:!0,qa:!0});return pw(h,b)}(await Hw(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firestore.googleapis.com",Qv=!0;class Yv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FE,this.ssl=Qv}else this.host=e.host,this.ssl=e.ssl??Qv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vR)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GE(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new QA;switch(s.type){case"firstParty":return new $A(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Fv.get(i);s&&(ct("ComponentProvider","Removing Datastore"),Fv.delete(i),s.terminate())}(this),Promise.resolve()}}function Fw(a,e,i,s={}){a=gc(a,Bc);const o=Ld(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(_S(`https://${g}`),AS("Firestore",!0)),h.host!==FE&&h.host!==g&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...h,host:g,ssl:o,emulatorOptions:s};if(!fc(p,d)&&(a._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Ke.MOCK_USER;else{y=ES(s.mockUserToken,a._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ke(b)}a._authCredentials=new YA(new O_(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class Me{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Me(this.firestore,e,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(_o(i,Me._jsonSchema))return new Me(e,s||null,new gt(Wt.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ee("string",Me._jsonSchemaVersion),referencePath:Ee("string")};class Sr extends Sa{constructor(e,i,s){super(e,i,J_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Me(this.firestore,null,new gt(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function Kv(a,e,...i){if(a=bs(a),M_("collection","path",e),a instanceof Bc){const s=Wt.fromString(e,...i);return sv(s),new Sr(a,null,s)}{if(!(a instanceof Me||a instanceof Sr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return sv(s),new Sr(a.firestore,null,s)}}function Qw(a,e,...i){if(a=bs(a),arguments.length===1&&(e=kd.newId()),M_("doc","path",e),a instanceof Bc){const s=Wt.fromString(e,...i);return av(s),new Me(a,null,new gt(s))}{if(!(a instanceof Me||a instanceof Sr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return av(s),new Me(a.firestore,a instanceof Sr?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="AsyncQueue";class $v{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xE(this,"async_queue_retry"),this._c=()=>{const s=rd();s&&ct(Xv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=rd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=rd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Tr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ls(e))throw e;ct(Xv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",Zv(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=rm.createAndSchedule(this,e,i,s,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:Zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Zv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class um extends Bc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new $v,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $v(e),this._firestoreClient=void 0,await e}}}function Yw(a,e){const i=typeof a=="object"?a:OA(),s=typeof a=="string"?a:yc,o=CA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=yS("firestore");h&&Fw(o,...h)}return o}function QE(a){if(a._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Kw(a),a._firestoreClient}function Kw(a){const e=a._freezeSettings(),i=function(o,h,d,g){return new db(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,GE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new kw(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(He.fromBase64String(e))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_o(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Ee("string",Cn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(_o(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:Ee("string",ii._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_o(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ri(e.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Ee("string",ri._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=/^__.*__$/;class $w{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,i,this.fieldTransforms):new Eo(e,this.data,i,this.fieldTransforms)}}function KE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:a})}}class hm{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KE(this.Ac)&&Xw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Zw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Pc(e)}Cc(e,i,s,o=!1){return new hm({Ac:e,methodName:i,Dc:s,path:qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XE(a){const e=a._freezeSettings(),i=Pc(a._databaseId);return new Zw(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Jw(a,e,i,s,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);JE("Data must be an object, but it was:",d,s);const g=$E(s,d);let p,y;if(h.merge)p=new jn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const E=[];for(const b of h.mergeFields){const w=t2(e,b,i);if(!d.contains(w))throw new ut(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);n2(E,w)||E.push(w)}p=new jn(E),y=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=d.fieldTransforms;return new $w(new xn(g),p,y)}function Ww(a,e,i,s=!1){return fm(i,a.Cc(s?4:3,e))}function fm(a,e){if(ZE(a=bs(a)))return JE("Unsupported field value:",e,a),$E(a,e);if(a instanceof YE)return function(s,o){if(!KE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let p=fm(g,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=bs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ub(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=te.fromDate(s);return{timestampValue:Sc(o.serializer,h)}}if(s instanceof te){const h=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sc(o.serializer,h)}}if(s instanceof ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cn)return{bytesValue:pE(o.serializer,s._byteString)};if(s instanceof Me){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Xd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ri)return function(d,g){return{mapValue:{fields:{[H_]:{stringValue:G_},[vc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Qd(g.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Dc(s)}`)}(a,e)}function $E(a,e){const i={};return L_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(a,(s,o)=>{const h=fm(o,e.mc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function ZE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof te||a instanceof ii||a instanceof Cn||a instanceof Me||a instanceof YE||a instanceof ri)}function JE(a,e,i){if(!ZE(i)||!j_(i)){const s=Dc(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function t2(a,e,i){if((e=bs(e))instanceof cm)return e._internalPath;if(typeof e=="string")return WE(a,e);throw wc("Field path arguments must be of type string or ",a,!1,void 0,i)}const e2=new RegExp("[~\\*/\\[\\]]");function WE(a,e,i){if(e.search(e2)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new cm(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function wc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ut(J.INVALID_ARGUMENT,g+a+p)}function n2(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(dm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class i2 extends t0{data(){return super.data()}}function dm(a,e){return typeof e=="string"?WE(a,e):e instanceof cm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mm{}class e0 extends mm{}function a2(a,e,...i){let s=[];e instanceof mm&&s.push(e),s=s.concat(i),function(h){const d=h.filter(p=>p instanceof pm).length,g=h.filter(p=>p instanceof gm).length;if(d>1||d>0&&g>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class gm extends e0{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new gm(e,i,s)}_apply(e){const i=this._parse(e);return n0(e._query,i),new Sa(e.firestore,e.converter,_d(e._query,i))}_parse(e){const i=XE(e.firestore);return function(h,d,g,p,y,E,b){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Wv(b,E);const H=[];for(const K of b)H.push(Jv(p,h,K));w={arrayValue:{values:H}}}else w=Jv(p,h,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Wv(b,E),w=Ww(g,d,b,E==="in"||E==="not-in");return _e.create(y,E,w)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class pm extends mm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new pm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Un.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const p of g)n0(d,p),d=_d(d,p)}(e._query,i),new Sa(e.firestore,e.converter,_d(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ym extends e0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new ym(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fo(h,d)}(e._query,this._field,this._direction);return new Sa(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Ps(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function s2(a,e="asc"){const i=e,s=dm("orderBy",a);return ym._create(s,i)}function Jv(a,e,i){if(typeof(i=bs(i))=="string"){if(i==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W_(e)&&i.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Wt.fromString(i));if(!gt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mv(a,new gt(s))}if(i instanceof Me)return mv(a,i._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dc(i)}.`)}function Wv(a,e){if(!Array.isArray(a)||a.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n0(a,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class l2{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return va(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){const i=e.fields?.[vc].arrayValue?.values?.map(s=>de(s.doubleValue));return new ri(i)}convertGeoPoint(e){return new ii(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Vc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const i=br(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);qt(SE(s),9688,{name:e});const o=new co(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return o.isEqual(i)||Pi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class tc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ss extends t0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(dm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ss._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ss._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ss._jsonSchema={type:Ee("string",Ss._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class uc extends Ss{data(e={}){return super.data(e)}}class As{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new tc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new uc(this._firestore,this._userDataWriter,s.key,s,new tc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new uc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new tc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const p=new uc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new tc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:u2(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=As._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function u2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}As._jsonSchemaVersion="firestore/querySnapshot/1.0",As._jsonSchema={type:Ee("string",As._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class c2 extends l2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function h2(a){a=gc(a,Sa);const e=gc(a.firestore,um),i=QE(e),s=new c2(e);return r2(a._query),Gw(i,a._query).then(o=>new As(e,s,a,o))}function f2(a,e){const i=gc(a.firestore,um),s=Qw(a),o=o2(a.converter,e);return d2(i,[Jw(XE(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,ji.exists(!1))]).then(()=>s)}function d2(a,e){return function(s,o){const h=new Tr;return s.asyncQueue.enqueueAndForget(async()=>Nw(await qw(s),o,h)),h.promise}(QE(a),e)}(function(e,i=!0){(function(o){js=o})(VA),mc(new so("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new um(new KA(s.getProvider("auth-internal")),new ZA(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(y.options.projectId,E)}(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Es(ev,nv,e),Es(ev,nv,"esm2020")})();const i0=Y.createContext(),m2={apiKey:"AIzaSyDCZ86Fvr0p0xSF2izG5Kk4UR27qJIQ_OY",authDomain:"mindful-dining-test.firebaseapp.com",projectId:"mindful-dining-test",storageBucket:"mindful-dining-test.firebasestorage.app",messagingSenderId:"756250419814",appId:"1:756250419814:web:abdd3df98c9884114003a7",measurementId:"G-V97Y6YE2X2"};function g2({children:a}){const[e,i]=Y.useState(null),[s,o]=Y.useState(!1),[h,d]=Y.useState(!1);Y.useEffect(()=>{try{const E=A_(m2),b=Yw(E);i(b),o(!0),console.log("✅ Firebase connected successfully")}catch(E){console.warn("Firebase connection failed, using localStorage fallback:",E),d(!0)}},[]);const y={db:e,isConnected:s,fastTestingMode:h,saveReservation:async E=>{if(!E.email||!E.firstName)throw new Error("Missing required reservation data");if(h||!e){console.log("⚡ Fallback mode: Using localStorage");const b="res_"+Date.now();return localStorage.setItem("reservation_"+b,JSON.stringify(E)),console.log("✅ Reservation saved locally with ID:",b),b}try{console.log("🔥 Saving to Firebase...");const b=f2(Kv(e,"reservations"),E),w=new Promise((H,K)=>setTimeout(()=>K(new Error("Firebase timeout")),3e3)),L=await Promise.race([b,w]);return console.log("✅ Reservation saved to Firebase with ID:",L.id),L.id}catch(b){console.warn("⚠️ Firebase failed, using localStorage fallback:",b.message);const w="res_"+Date.now();return localStorage.setItem("reservation_"+w,JSON.stringify(E)),console.log("✅ Reservation saved locally with ID:",w),w}},getReservations:async()=>{if(h||!e){const E=[];for(let b=0;b<localStorage.length;b++){const w=localStorage.key(b);if(w?.startsWith("reservation_"))try{const L=JSON.parse(localStorage.getItem(w));E.push({id:w.replace("reservation_",""),...L})}catch(L){console.warn("Error parsing localStorage reservation:",L)}}return E}try{const E=a2(Kv(e,"reservations"),s2("createdAt","desc")),b=await h2(E),w=[];return b.forEach(L=>{w.push({id:L.id,...L.data()})}),w}catch(E){return console.error("Error fetching reservations:",E),[]}}};return T.jsx(i0.Provider,{value:y,children:a})}function r0(){const a=Y.useContext(i0);if(!a)throw new Error("useFirebase must be used within a FirebaseProvider");return a}function ki({onNavigate:a}){const i=Dr().pathname==="/",s=o=>{i&&a&&a(o)};return T.jsx("nav",{className:"navbar",children:T.jsxs("div",{className:"nav-container",children:[T.jsx("div",{className:"logo",children:T.jsx(_s,{to:"/",children:T.jsx("h1",{children:"Mindful Dining"})})}),T.jsx("ul",{className:"nav-menu",children:i?T.jsxs(T.Fragment,{children:[T.jsx("li",{children:T.jsx("a",{href:"#about",onClick:()=>s("about"),children:"About"})}),T.jsx("li",{children:T.jsx("a",{href:"#how-it-works",onClick:()=>s("how-it-works"),children:"How It Works"})}),T.jsx("li",{children:T.jsx("a",{href:"#contact",onClick:()=>s("contact"),children:"Contact"})})]}):T.jsxs(T.Fragment,{children:[T.jsx("li",{children:T.jsx(_s,{to:"/",children:"Home"})}),T.jsx("li",{children:T.jsx(_s,{to:"/reservation",children:"Reserve"})}),T.jsx("li",{children:T.jsx(_s,{to:"/admin-dashboard",children:"Admin"})})]})})]})})}function p2(){const a=Os(),e=()=>{a("/reservation")},i=s=>{const o=document.getElementById(s);o&&o.scrollIntoView({behavior:"smooth"})};return T.jsxs("div",{className:"home",children:[T.jsxs("header",{className:"hero-section",children:[T.jsx(ki,{onNavigate:i}),T.jsxs("div",{className:"hero-content",children:[T.jsx("h1",{className:"hero-title",children:"Connect Through Food"}),T.jsx("p",{className:"hero-subtitle",children:"Join like-minded people for an unforgettable dining experience. Take our personality test and get matched with your perfect dining companions."}),T.jsx("button",{className:"cta-button",onClick:e,children:"Make a Reservation"})]})]}),T.jsx("section",{id:"about",className:"about-section",children:T.jsxs("div",{className:"container",children:[T.jsx("h2",{children:"About Mindful Dining"}),T.jsx("p",{children:"We believe that the best conversations happen over great food. Our unique dining experience combines exceptional cuisine with carefully curated social connections. Through our personality assessment, we match you with fellow diners who share your interests, communication style, and dining preferences."})]})}),T.jsx("section",{id:"how-it-works",className:"how-it-works-section",children:T.jsxs("div",{className:"container",children:[T.jsx("h2",{children:"How It Works"}),T.jsxs("div",{className:"steps",children:[T.jsxs("div",{className:"step",children:[T.jsx("div",{className:"step-number",children:"1"}),T.jsx("h3",{children:"Reserve Your Spot"}),T.jsx("p",{children:"Choose your preferred date and complete your reservation with secure payment."})]}),T.jsxs("div",{className:"step",children:[T.jsx("div",{className:"step-number",children:"2"}),T.jsx("h3",{children:"Take the Personality Test"}),T.jsx("p",{children:"Complete our brief personality assessment to help us understand your dining style."})]}),T.jsxs("div",{className:"step",children:[T.jsx("div",{className:"step-number",children:"3"}),T.jsx("h3",{children:"Get Matched"}),T.jsx("p",{children:"We'll group you with 2-12 compatible diners for the perfect evening."})]}),T.jsxs("div",{className:"step",children:[T.jsx("div",{className:"step-number",children:"4"}),T.jsx("h3",{children:"Enjoy Your Experience"}),T.jsx("p",{children:"Meet your table companions and enjoy an evening of great food and conversation."})]})]})]})}),T.jsx("section",{id:"contact",className:"contact-section",children:T.jsxs("div",{className:"container",children:[T.jsx("h2",{children:"Contact Us"}),T.jsx("p",{children:"Questions? We'd love to hear from you."}),T.jsx("p",{children:"Email: hello@mindfuldining.com | Phone: (555) 123-4567"})]})}),T.jsx("footer",{children:T.jsx("div",{className:"container",children:T.jsx("p",{children:"© 2024 Mindful Dining. All rights reserved."})})})]})}function y2(){const a=Os(),{saveReservation:e}=r0(),[i,s]=Y.useState({firstName:"",lastName:"",email:"",phone:"",eventDate:"",timeSlot:"",dietaryRestrictions:""}),[o,h]=Y.useState(!1),[d,g]=Y.useState({});Y.useEffect(()=>{const L=new Date().toISOString().split("T")[0];document.getElementById("eventDate")?.setAttribute("min",L)},[]);const p=L=>{const{name:H,value:K}=L.target;s(U=>({...U,[H]:K})),d[H]&&g(U=>({...U,[H]:""}))},y=L=>{let H=L.target.value.replace(/\D/g,"");H.length>=6?H=H.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):H.length>=3&&(H=H.replace(/(\d{3})(\d{0,3})/,"($1) $2")),s(K=>({...K,phone:H}))},E=()=>{const L={},H=["firstName","lastName","email","eventDate","timeSlot"];for(const U of H)(!i[U]||i[U].trim()==="")&&(L[U]="This field is required");const K=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(i.email&&!K.test(i.email)&&(L.email="Please enter a valid email address"),i.eventDate){const U=new Date(i.eventDate),Q=new Date;Q.setHours(0,0,0,0),U<Q&&(L.eventDate="Please select a future date")}return g(L),Object.keys(L).length===0},b=async L=>{if(L.preventDefault(),!!E()){h(!0);try{console.log("⚡ Demo Mode: Processing instantly...");const H={...i,paymentId:"demo_reservation_"+Date.now(),createdAt:new Date().toISOString(),status:"confirmed",demoMode:!0,amount:75,paymentStatus:"demo_mode"},K=await e(H);console.log("🚀 Done! Redirecting to personality test..."),sessionStorage.setItem("reservationId",K),sessionStorage.setItem("reservationData",JSON.stringify(i)),a("/personality-test")}catch(H){console.error("Error processing reservation:",H),alert("Error: "+H.message)}finally{h(!1)}}},w=["6:00 PM","7:00 PM","8:00 PM"];return T.jsxs("div",{className:"reservation-page",children:[T.jsx("header",{className:"page-header",children:T.jsx(ki,{})}),T.jsx("main",{className:"reservation-main",children:T.jsx("div",{className:"container",children:T.jsxs("div",{className:"reservation-form-container",children:[T.jsx("h1",{children:"Make Your Reservation"}),T.jsx("p",{className:"form-description",children:"Reserve your spot for an unforgettable dining experience. After booking, you'll take a quick personality test to be matched with compatible dining companions."}),T.jsxs("form",{onSubmit:b,className:"reservation-form",children:[T.jsxs("div",{className:"form-section",children:[T.jsx("h3",{children:"Personal Information"}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"firstName",children:"First Name *"}),T.jsx("input",{type:"text",id:"firstName",name:"firstName",value:i.firstName,onChange:p,required:!0,className:d.firstName?"error":""}),d.firstName&&T.jsx("span",{className:"error-message",children:d.firstName})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"lastName",children:"Last Name *"}),T.jsx("input",{type:"text",id:"lastName",name:"lastName",value:i.lastName,onChange:p,required:!0,className:d.lastName?"error":""}),d.lastName&&T.jsx("span",{className:"error-message",children:d.lastName})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"email",children:"Email Address *"}),T.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:p,required:!0,className:d.email?"error":""}),d.email&&T.jsx("span",{className:"error-message",children:d.email})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"phone",children:"Phone Number"}),T.jsx("input",{type:"tel",id:"phone",name:"phone",value:i.phone,onChange:y})]})]}),T.jsxs("div",{className:"form-section",children:[T.jsx("h3",{children:"Reservation Details"}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"eventDate",children:"Select Date *"}),T.jsx("input",{type:"date",id:"eventDate",name:"eventDate",value:i.eventDate,onChange:p,required:!0,className:d.eventDate?"error":""}),d.eventDate&&T.jsx("span",{className:"error-message",children:d.eventDate})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"timeSlot",children:"Time Slot *"}),T.jsxs("select",{id:"timeSlot",name:"timeSlot",value:i.timeSlot,onChange:p,required:!0,className:d.timeSlot?"error":"",children:[T.jsx("option",{value:"",children:"Select a time"}),w.map(L=>T.jsx("option",{value:L,children:L},L))]}),d.timeSlot&&T.jsx("span",{className:"error-message",children:d.timeSlot})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"dietaryRestrictions",children:"Dietary Restrictions"}),T.jsx("textarea",{id:"dietaryRestrictions",name:"dietaryRestrictions",rows:"3",placeholder:"Please let us know about any allergies or dietary preferences",value:i.dietaryRestrictions,onChange:p})]})]}),T.jsxs("div",{className:"form-section",children:[T.jsx("h3",{children:"Payment Information"}),T.jsxs("div",{className:"pricing-info",children:[T.jsx("p",{children:T.jsx("strong",{children:"Price per person: $75"})}),T.jsx("p",{children:"Includes 4-course meal, beverages, and matching service"}),T.jsx("div",{style:{background:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",borderRadius:"5px",marginTop:"10px"},children:T.jsxs("small",{children:[T.jsx("strong",{children:"Demo Mode:"})," This is for testing purposes only. No credit card information required - payment processing is disabled for testing."]})})]})]}),T.jsx("button",{type:"submit",className:"submit-button",disabled:o,children:o?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"spinner"}),"Processing..."]}):"Complete Reservation - $75"})]})]})})})]})}const ec=[{text:"How do you prefer to spend your evening?",options:[{text:"In a quiet, intimate setting with close friends",score:2},{text:"At a small gathering with interesting conversations",score:3},{text:"At a moderate-sized party with good music and food",score:4},{text:"At a large, lively event with lots of people to meet",score:5}]},{text:"When meeting new people, you typically:",options:[{text:"Wait for them to approach you first",score:1},{text:"Respond warmly when they initiate conversation",score:2},{text:"Engage in friendly small talk",score:4},{text:"Immediately introduce yourself and start a conversation",score:5}]},{text:"Your ideal dinner conversation includes:",options:[{text:"Deep, philosophical discussions",score:2},{text:"Sharing personal experiences and stories",score:3},{text:"Light-hearted banter and current events",score:4},{text:"Lots of laughter and group participation",score:5}]},{text:"How comfortable are you with silence during meals?",options:[{text:"Very comfortable, I enjoy peaceful moments",score:1},{text:"Comfortable, it allows for thoughtful reflection",score:2},{text:"Somewhat comfortable, but prefer gentle conversation",score:3},{text:"Uncomfortable, I prefer continuous conversation",score:5}]},{text:"When dining with strangers, you:",options:[{text:"Feel nervous and prefer to observe",score:1},{text:"Are cautious but gradually warm up",score:2},{text:"Feel excited and curious about their stories",score:4},{text:"Love meeting new people and hearing their perspectives",score:5}]},{text:"Your communication style is best described as:",options:[{text:"Thoughtful and measured",score:1},{text:"Considerate and genuine",score:2},{text:"Friendly and engaging",score:4},{text:"Enthusiastic and expressive",score:5}]},{text:"When someone disagrees with you at dinner, you:",options:[{text:"Listen quietly and avoid conflict",score:1},{text:"Share your perspective respectfully",score:2},{text:"Engage in healthy debate",score:4},{text:"Enjoy debating different viewpoints",score:5}]},{text:"What energizes you most during social dining?",options:[{text:"One-on-one meaningful connections",score:1},{text:"Small group intimate sharing",score:2},{text:"Balanced conversation with several people",score:3},{text:"Large group dynamic interactions",score:5}]},{text:"How do you typically share food?",options:[{text:"Prefer to keep my own plate",score:1},{text:"Will share if asked",score:2},{text:"Enjoy sharing and trying others' dishes",score:4},{text:"Love family-style dining and sharing everything",score:5}]},{text:"After a dinner party, you feel:",options:[{text:"Exhausted and need alone time to recharge",score:1},{text:"Satisfied but ready for quiet time",score:2},{text:"Content and might enjoy a calm activity",score:3},{text:"Energized and ready for more social activities",score:5}]},{text:"When someone shares personal information, you:",options:[{text:"Listen quietly and offer support if asked",score:1},{text:"Respond with empathy and related experiences",score:3},{text:"Ask thoughtful follow-up questions",score:4},{text:"Encourage them to share more with the group",score:5}]},{text:"Your approach to trying new cuisines is:",options:[{text:"Cautious, prefer familiar foods",score:1},{text:"Open but want recommendations",score:2},{text:"Adventurous and enjoy discussing flavors",score:4},{text:"Extremely adventurous and love sharing discoveries",score:5}]},{text:"How do you handle being the center of attention?",options:[{text:"Uncomfortable and try to redirect focus",score:1},{text:"Modest but can handle brief moments",score:2},{text:"Comfortable sharing when it's natural",score:3},{text:"Enjoy it and use it to connect with others",score:5}]},{text:"Your ideal dinner timing is:",options:[{text:"Early and relaxed with time to unwind after",score:1},{text:"Traditional timing with comfortable pacing",score:2},{text:"Flexible timing that works for everyone",score:3},{text:"Late and extended for maximum social time",score:5}]},{text:"When planning a group dinner, you:",options:[{text:"Prefer someone else to organize",score:1},{text:"Help with planning but prefer not to lead",score:2},{text:"Contribute ideas and help coordinate",score:4},{text:"Love to organize and bring people together",score:5}]}];function v2(){const a=Os(),[e,i]=Y.useState(0),[s,o]=Y.useState([]),[h,d]=Y.useState(!1),[g,p]=Y.useState(null);Y.useEffect(()=>{sessionStorage.getItem("reservationId")||(alert("Please make a reservation first."),a("/reservation"))},[a]);const y=Q=>{const nt=[...s];if(nt[e]=Q,o(nt),e<ec.length-1)i(e+1);else{const it=E(nt);p(it),d(!0),sessionStorage.setItem("personalityResults",JSON.stringify(it)),b(it)}},E=Q=>{const nt=Q.reduce((V,R)=>V+R.score,0),it=nt/Q.length;let pt,rt,ft;return it<=2?(pt="Reflective Introvert",rt="You value deep, meaningful conversations and prefer intimate dining settings. You're an excellent listener who appreciates thoughtful discussions and quiet moments.",ft=["Excellent listener","Values deep conversations","Prefers intimate settings","Thoughtful and considerate"]):it<=3?(pt="Thoughtful Conversationalist",rt="You enjoy balanced conversations and meaningful connections. You're comfortable in both intimate and moderate group settings, bringing thoughtfulness to discussions.",ft=["Balanced communicator","Values meaningful connections","Comfortable in various settings","Thoughtful and genuine"]):it<=4?(pt="Social Connector",rt="You're naturally social and enjoy bringing people together. You thrive in group settings and love facilitating conversations and connections between others.",ft=["Natural connector","Enjoys group dynamics","Great conversation facilitator","Warm and engaging"]):(pt="Energetic Socializer",rt="You're highly social and love lively interactions. You thrive in large groups, enjoy being the center of attention, and bring energy and enthusiasm to any gathering.",ft=["Highly energetic","Loves large groups","Charismatic leader","Enthusiastic and expressive"]),{totalScore:nt,averageScore:parseFloat(it.toFixed(2)),personalityType:pt,description:rt,traits:ft,answeredQuestions:Q.length,timestamp:new Date().toISOString()}},b=async Q=>{try{const nt=sessionStorage.getItem("reservationId");if(!nt)throw new Error("Missing reservation ID");const it=JSON.parse(localStorage.getItem("reservation_"+nt)||"{}");it.personalityResults=Q,it.updatedAt=new Date().toISOString(),localStorage.setItem("reservation_"+nt,JSON.stringify(it)),console.log("✅ Personality results saved")}catch(nt){console.error("Error saving results:",nt)}},w=()=>{e>0&&i(e-1)},L=()=>{i(0),o([]),d(!1),p(null)},H=()=>{a("/confirmation")};if(h&&g)return T.jsxs("div",{className:"personality-test-page",children:[T.jsx("header",{className:"page-header",children:T.jsx(ki,{})}),T.jsx("main",{className:"test-main",children:T.jsx("div",{className:"container",children:T.jsx("div",{className:"test-container",children:T.jsxs("div",{className:"results-section",children:[T.jsx("h1",{children:"Your Personality Results"}),T.jsxs("div",{className:"personality-card",children:[T.jsx("h2",{className:"personality-type",children:g.personalityType}),T.jsx("p",{className:"personality-description",children:g.description}),T.jsxs("div",{className:"personality-traits",children:[T.jsx("h3",{children:"Your Dining Traits:"}),T.jsx("ul",{children:g.traits.map((Q,nt)=>T.jsx("li",{children:Q},nt))})]}),T.jsxs("div",{className:"score-info",children:[T.jsxs("p",{children:[T.jsx("strong",{children:"Compatibility Score:"})," ",g.averageScore,"/5.0"]}),T.jsx("p",{children:T.jsx("small",{children:"You'll be matched with diners who have similar scores for the best experience."})})]})]}),T.jsxs("div",{className:"action-buttons",children:[T.jsx("button",{onClick:L,className:"secondary-button",children:"Retake Test"}),T.jsx("button",{onClick:H,className:"primary-button",children:"Continue to Confirmation"})]})]})})})})]});const K=ec[e],U=(e+1)/ec.length*100;return T.jsxs("div",{className:"personality-test-page",children:[T.jsx("header",{className:"page-header",children:T.jsx(ki,{})}),T.jsx("main",{className:"test-main",children:T.jsx("div",{className:"container",children:T.jsxs("div",{className:"test-container",children:[T.jsxs("div",{className:"test-header",children:[T.jsx("h1",{children:"Personality Assessment"}),T.jsx("p",{children:"Help us match you with compatible dining companions by answering these questions honestly."}),T.jsxs("div",{className:"progress-container",children:[T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress-fill",style:{width:`${U}%`}})}),T.jsxs("p",{className:"progress-text",children:["Question ",e+1," of ",ec.length]})]})]}),T.jsxs("div",{className:"question-section",children:[T.jsx("h2",{className:"question-text",children:K.text}),T.jsx("div",{className:"options-container",children:K.options.map((Q,nt)=>T.jsx("button",{className:`option-button ${s[e]?.text===Q.text?"selected":""}`,onClick:()=>y(Q),children:Q.text},nt))}),T.jsxs("div",{className:"navigation-buttons",children:[e>0&&T.jsx("button",{onClick:w,className:"nav-button previous",children:"Previous Question"}),T.jsx("div",{className:"nav-spacer"})]})]})]})})})]})}function _2(){const a=Os(),[e,i]=Y.useState(null),[s,o]=Y.useState(null);Y.useEffect(()=>{const g=sessionStorage.getItem("reservationData"),p=sessionStorage.getItem("personalityResults");g&&i(JSON.parse(g)),p&&o(JSON.parse(p)),g||(alert("No reservation found. Please make a reservation first."),a("/"))},[a]);const h=()=>{sessionStorage.clear(),a("/reservation")},d=()=>{a("/")};return e?T.jsxs("div",{className:"confirmation-page",children:[T.jsx("header",{className:"page-header",children:T.jsx(ki,{})}),T.jsx("main",{className:"confirmation-main",children:T.jsx("div",{className:"container",children:T.jsxs("div",{className:"confirmation-container",children:[T.jsx("div",{className:"success-icon",children:T.jsx("div",{className:"checkmark",children:"✓"})}),T.jsx("h1",{children:"Reservation Confirmed!"}),T.jsx("p",{className:"confirmation-message",children:"Thank you for choosing Mindful Dining! Your reservation has been confirmed and your personality assessment is complete."}),T.jsxs("div",{className:"confirmation-details",children:[T.jsxs("div",{className:"details-section",children:[T.jsx("h3",{children:"Reservation Details"}),T.jsxs("div",{className:"detail-item",children:[T.jsx("span",{className:"label",children:"Name:"}),T.jsxs("span",{className:"value",children:[e.firstName," ",e.lastName]})]}),T.jsxs("div",{className:"detail-item",children:[T.jsx("span",{className:"label",children:"Email:"}),T.jsx("span",{className:"value",children:e.email})]}),T.jsxs("div",{className:"detail-item",children:[T.jsx("span",{className:"label",children:"Date:"}),T.jsx("span",{className:"value",children:new Date(e.eventDate).toLocaleDateString()})]}),T.jsxs("div",{className:"detail-item",children:[T.jsx("span",{className:"label",children:"Time:"}),T.jsx("span",{className:"value",children:e.timeSlot})]}),e.phone&&T.jsxs("div",{className:"detail-item",children:[T.jsx("span",{className:"label",children:"Phone:"}),T.jsx("span",{className:"value",children:e.phone})]}),e.dietaryRestrictions&&T.jsxs("div",{className:"detail-item",children:[T.jsx("span",{className:"label",children:"Dietary Restrictions:"}),T.jsx("span",{className:"value",children:e.dietaryRestrictions})]})]}),s&&T.jsxs("div",{className:"details-section",children:[T.jsx("h3",{children:"Your Personality Type"}),T.jsxs("div",{className:"personality-summary",children:[T.jsx("h4",{children:s.personalityType}),T.jsx("p",{children:s.description}),T.jsxs("div",{className:"compatibility-score",children:[T.jsx("span",{className:"label",children:"Compatibility Score:"}),T.jsxs("span",{className:"score",children:[s.averageScore,"/5.0"]})]})]})]})]}),T.jsxs("div",{className:"next-steps",children:[T.jsx("h3",{children:"What's Next?"}),T.jsxs("div",{className:"steps-list",children:[T.jsxs("div",{className:"step-item",children:[T.jsx("div",{className:"step-number",children:"1"}),T.jsxs("div",{className:"step-content",children:[T.jsx("h4",{children:"Table Assignment"}),T.jsx("p",{children:"We'll match you with compatible dining companions based on your personality assessment."})]})]}),T.jsxs("div",{className:"step-item",children:[T.jsx("div",{className:"step-number",children:"2"}),T.jsxs("div",{className:"step-content",children:[T.jsx("h4",{children:"Email Notification"}),T.jsx("p",{children:"You'll receive an email 24 hours before your dining experience with table details."})]})]}),T.jsxs("div",{className:"step-item",children:[T.jsx("div",{className:"step-number",children:"3"}),T.jsxs("div",{className:"step-content",children:[T.jsx("h4",{children:"Enjoy Your Experience"}),T.jsx("p",{children:"Arrive on time and get ready for meaningful conversations and great food!"})]})]})]})]}),T.jsxs("div",{className:"contact-info",children:[T.jsx("h3",{children:"Questions?"}),T.jsx("p",{children:"If you have any questions or need to make changes to your reservation, please contact us at:"}),T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," hello@mindfuldining.com",T.jsx("br",{}),T.jsx("strong",{children:"Phone:"})," (555) 123-4567"]})]}),T.jsxs("div",{className:"action-buttons",children:[T.jsx("button",{onClick:d,className:"secondary-button",children:"Return to Home"}),T.jsx("button",{onClick:h,className:"primary-button",children:"Make Another Reservation"})]}),T.jsx("div",{className:"demo-notice",children:T.jsxs("p",{children:[T.jsx("strong",{children:"Demo Mode:"})," This is a demonstration. No actual reservation was made and no payment was processed. In a live version, you would receive actual email confirmations and table assignments."]})})]})})})]}):T.jsxs("div",{className:"confirmation-page",children:[T.jsx("header",{className:"page-header",children:T.jsx(ki,{})}),T.jsx("main",{className:"confirmation-main",children:T.jsx("div",{className:"container",children:T.jsx("div",{className:"confirmation-container",children:T.jsx("div",{className:"loading",children:"Loading..."})})})})]})}function E2(){const a=Os(),{getReservations:e}=r0(),[i,s]=Y.useState([]),[o,h]=Y.useState(!0),[d,g]=Y.useState([]),[p,y]=Y.useState("");Y.useEffect(()=>{E()},[]);const E=async()=>{try{h(!0);const U=await e();s(U),console.log("Loaded reservations:",U)}catch(U){console.error("Error loading reservations:",U)}finally{h(!1)}},b=async()=>{if(!p){alert("Please select a date to create groups for.");return}const U=i.filter(ft=>ft.eventDate===p&&ft.personalityResults);if(U.length===0){alert("No reservations with personality results found for this date.");return}const Q=U.sort((ft,V)=>ft.personalityResults.averageScore-V.personalityResults.averageScore),nt=[],it=2,pt=6;let rt=[];for(const ft of Q)if(rt.length===0)rt.push(ft);else{const V=rt.reduce((x,O)=>x+O.personalityResults.averageScore,0)/rt.length;Math.abs(ft.personalityResults.averageScore-V)<=1&&rt.length<pt?rt.push(ft):rt.length>=it?(nt.push({id:nt.length+1,table:`Table ${nt.length+1}`,members:[...rt],averageScore:rt.reduce((x,O)=>x+O.personalityResults.averageScore,0)/rt.length}),rt=[ft]):rt.push(ft)}if(rt.length>=it)nt.push({id:nt.length+1,table:`Table ${nt.length+1}`,members:[...rt],averageScore:rt.reduce((ft,V)=>ft+V.personalityResults.averageScore,0)/rt.length});else if(rt.length>0&&nt.length>0){nt[nt.length-1].members.push(...rt);const ft=nt[nt.length-1];ft.averageScore=ft.members.reduce((V,R)=>V+R.personalityResults.averageScore,0)/ft.members.length}g(nt),alert(`Created ${nt.length} compatible dining groups!`)},w=()=>{const U=i.map(rt=>({Name:`${rt.firstName} ${rt.lastName}`,Email:rt.email,Phone:rt.phone||"",Date:rt.eventDate,Time:rt.timeSlot,PersonalityType:rt.personalityResults?.personalityType||"Not completed",Score:rt.personalityResults?.averageScore||"N/A",DietaryRestrictions:rt.dietaryRestrictions||""})),Q=[Object.keys(U[0]).join(","),...U.map(rt=>Object.values(rt).join(","))].join(`
`),nt=new Blob([Q],{type:"text/csv"}),it=window.URL.createObjectURL(nt),pt=document.createElement("a");pt.href=it,pt.download=`mindful-dining-reservations-${new Date().toISOString().split("T")[0]}.csv`,pt.click()},L=[...new Set(i.map(U=>U.eventDate))].sort(),H=i.filter(U=>U.personalityResults),K=i.length>0?(H.length/i.length*100).toFixed(1):0;return o?T.jsxs("div",{className:"admin-dashboard",children:[T.jsx("header",{className:"page-header",children:T.jsx(ki,{})}),T.jsx("main",{className:"admin-main",children:T.jsx("div",{className:"container",children:T.jsx("div",{className:"loading",children:"Loading reservations..."})})})]}):T.jsxs("div",{className:"admin-dashboard",children:[T.jsx("header",{className:"page-header",children:T.jsx(ki,{})}),T.jsx("main",{className:"admin-main",children:T.jsxs("div",{className:"container",children:[T.jsxs("div",{className:"admin-header",children:[T.jsx("h1",{children:"Admin Dashboard"}),T.jsx("p",{children:"Manage reservations and create compatible dining groups"})]}),T.jsxs("div",{className:"stats-section",children:[T.jsxs("div",{className:"stat-card",children:[T.jsx("h3",{children:"Total Reservations"}),T.jsx("div",{className:"stat-number",children:i.length})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("h3",{children:"Personality Tests Completed"}),T.jsx("div",{className:"stat-number",children:H.length})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("h3",{children:"Completion Rate"}),T.jsxs("div",{className:"stat-number",children:[K,"%"]})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("h3",{children:"Event Dates"}),T.jsx("div",{className:"stat-number",children:L.length})]})]}),T.jsxs("div",{className:"grouping-section",children:[T.jsx("h2",{children:"Create Dining Groups"}),T.jsxs("div",{className:"grouping-controls",children:[T.jsxs("select",{value:p,onChange:U=>y(U.target.value),className:"date-select",children:[T.jsx("option",{value:"",children:"Select Date"}),L.map(U=>T.jsxs("option",{value:U,children:[new Date(U).toLocaleDateString(),"(",i.filter(Q=>Q.eventDate===U).length," reservations)"]},U))]}),T.jsx("button",{onClick:b,className:"create-groups-btn",children:"Create Compatible Groups"})]}),d.length>0&&T.jsxs("div",{className:"groups-display",children:[T.jsxs("h3",{children:["Generated Groups for ",new Date(p).toLocaleDateString()]}),d.map(U=>T.jsxs("div",{className:"group-card",children:[T.jsxs("div",{className:"group-header",children:[T.jsx("h4",{children:U.table}),T.jsxs("span",{className:"group-score",children:["Avg Score: ",U.averageScore.toFixed(2)]})]}),T.jsx("div",{className:"group-members",children:U.members.map(Q=>T.jsxs("div",{className:"member-item",children:[T.jsxs("span",{className:"member-name",children:[Q.firstName," ",Q.lastName]}),T.jsx("span",{className:"member-type",children:Q.personalityResults.personalityType}),T.jsx("span",{className:"member-score",children:Q.personalityResults.averageScore})]},Q.id))})]},U.id))]})]}),T.jsxs("div",{className:"reservations-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx("h2",{children:"All Reservations"}),T.jsx("button",{onClick:w,className:"export-btn",children:"Export CSV"})]}),i.length===0?T.jsxs("div",{className:"no-data",children:[T.jsx("p",{children:"No reservations found."}),T.jsx("button",{onClick:()=>a("/reservation"),className:"create-test-btn",children:"Create Test Reservation"})]}):T.jsx("div",{className:"reservations-table",children:T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Name"}),T.jsx("th",{children:"Email"}),T.jsx("th",{children:"Date"}),T.jsx("th",{children:"Time"}),T.jsx("th",{children:"Personality Type"}),T.jsx("th",{children:"Score"}),T.jsx("th",{children:"Status"})]})}),T.jsx("tbody",{children:i.map(U=>T.jsxs("tr",{children:[T.jsxs("td",{children:[U.firstName," ",U.lastName]}),T.jsx("td",{children:U.email}),T.jsx("td",{children:new Date(U.eventDate).toLocaleDateString()}),T.jsx("td",{children:U.timeSlot}),T.jsx("td",{children:U.personalityResults?.personalityType||T.jsx("span",{className:"incomplete",children:"Not completed"})}),T.jsx("td",{children:U.personalityResults?.averageScore||"N/A"}),T.jsx("td",{children:T.jsx("span",{className:`status ${U.status||"pending"}`,children:U.status||"pending"})})]},U.id))})]})})]}),T.jsxs("div",{className:"demo-notice",children:[T.jsx("h3",{children:"Demo Mode Notice"}),T.jsx("p",{children:"This admin dashboard shows data from localStorage and Firebase (if configured). In a production environment, this would include authentication, advanced filtering, email sending capabilities, and more sophisticated grouping algorithms."})]})]})})]})}function T2(){const[a,e]=Y.useState([]);return Y.useEffect(()=>{e([{table:"Table 1",time:"6:00 PM",date:"2024-01-15",members:[{name:"John Doe",type:"Reflective Introvert"},{name:"Jane Smith",type:"Thoughtful Conversationalist"}]}])},[]),T.jsxs("div",{className:"table-assignment-page",children:[T.jsx("header",{className:"page-header",children:T.jsx(ki,{})}),T.jsx("main",{className:"assignment-main",children:T.jsxs("div",{className:"container",children:[T.jsx("h1",{children:"Table Assignments"}),T.jsx("p",{children:"Current table assignments for upcoming dining experiences."}),T.jsx("div",{className:"assignments-container",children:a.map((i,s)=>T.jsxs("div",{className:"assignment-card",children:[T.jsx("h3",{children:i.table}),T.jsxs("p",{children:[T.jsx("strong",{children:"Date:"})," ",new Date(i.date).toLocaleDateString()]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Time:"})," ",i.time]}),T.jsxs("div",{className:"members-list",children:[T.jsx("h4",{children:"Table Members:"}),i.members.map((o,h)=>T.jsxs("div",{className:"member",children:[T.jsx("span",{className:"name",children:o.name}),T.jsx("span",{className:"type",children:o.type})]},h))]})]},s))}),T.jsx("div",{className:"demo-notice",children:T.jsxs("p",{children:[T.jsx("strong",{children:"Demo Mode:"})," This page would show actual table assignments generated by the admin dashboard in a live system."]})})]})})]})}function S2(){return T.jsx(g2,{children:T.jsx(Z1,{children:T.jsx("div",{className:"App",children:T.jsxs(C1,{children:[T.jsx(da,{path:"/",element:T.jsx(p2,{})}),T.jsx(da,{path:"/reservation",element:T.jsx(y2,{})}),T.jsx(da,{path:"/personality-test",element:T.jsx(v2,{})}),T.jsx(da,{path:"/confirmation",element:T.jsx(_2,{})}),T.jsx(da,{path:"/admin-dashboard",element:T.jsx(E2,{})}),T.jsx(da,{path:"/table-assignment",element:T.jsx(T2,{})})]})})})})}PT.createRoot(document.getElementById("root")).render(T.jsx(Y.StrictMode,{children:T.jsx(S2,{})}));
